<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="High-performance, pluginable SMTP server written in Javascript."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>haraka</h1><span class="subheading">High-performance, pluginable SMTP server written in Javascript.</span><div class="links"><a class="button button-outline" href="http://haraka.github.io/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>Haraka</a><a class="button button-outline" href="https://github.com/haraka/Haraka"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>Source Code</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>12 May 2020</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>3581</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>38</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/tags/javascript.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">199</span>javascript</a><a class="tag" href="/selfhosted-awesome-unlist/tags/dkim.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">3</span>dkim</a><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>haraka</span><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>mta</span><a class="tag" href="/selfhosted-awesome-unlist/tags/nodejs.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">38</span>nodejs</a><a class="tag" href="/selfhosted-awesome-unlist/tags/smtp.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">9</span>smtp</a><a class="tag" href="/selfhosted-awesome-unlist/tags/spf.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">2</span>spf</a><a class="tag" href="/selfhosted-awesome-unlist/tags/communication-systems.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">159</span>communication systems</a><a class="tag" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">943</span>selfhosted</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><h2 id="haraka---a-nodejs-mail-server">Haraka - a Node.js Mail Server</h2>
<p><img src="https://github.com/haraka/Haraka/workflows/Haraka%20Tests/badge.svg" alt="Tests">
<img src="https://github.com/haraka/Haraka/workflows/Haraka%20Tests%20-%20Windows/badge.svg" alt="Tests - Windows">
<a href="https://codecov.io/github/haraka/Haraka?branch=master"><img src="https://codecov.io/github/haraka/Haraka/coverage.svg" alt="Coverage Status"></a></p>
<p>Haraka is a highly scalable <a href="http://nodejs.org/">node.js</a> email server with a modular
plugin architecture. Haraka can serve thousands of concurrent connections
and deliver thousands of messages per second. Haraka and plugins are written
in asynchronous JS and are very fast.</p>
<p>Haraka has very good spam protection (see <a href="https://github.com/haraka/Haraka/blob/master/Plugins.md">plugins</a>) and works
well as a filtering <a href="http://en.wikipedia.org/wiki/Message_transfer_agent">MTA</a>. It also works well as a <a href="http://en.wikipedia.org/wiki/Mail_submission_agent">MSA</a> running on
port 587 with auth and <a href="https://github.com/haraka/Haraka/blob/master/docs/plugins/dkim_sign.md">dkim_sign</a> plugins enabled.</p>
<p>Haraka makes no attempt to be a mail store (like Exchange or Postfix/Exim/Qmail),
a <a href="https://en.wikipedia.org/wiki/Mail_delivery_agent">LDA</a>, nor an IMAP server (like Dovecot or Courier). Haraka is
typically used <strong>with</strong> such systems.</p>
<p>Haraka has a scalable outbound mail delivery engine built in. Mail
marked as <code>relaying</code> (such as via an <code>auth</code> plugin) is automatically
queued for outbound delivery.</p>
<h3 id="getting-help">Getting Help</h3>
<ul>
<li><a href="mailto:haraka-sub@harakamail.com">Join the mailing list</a> (implemented as a Haraka plugin)</li>
<li>Join us on IRC at <code>#haraka</code> on <a href="https://webchat.freenode.net/">freenode</a></li>
<li><a href="https://github.com/haraka/Haraka/issues">GitHub Issues</a></li>
</ul>
<h3 id="screencast">Screencast</h3>
<p><a href="http://youtu.be/6twKXMAsPsw">Getting started with Haraka</a></p>
<h3 id="why-use-haraka">Why Use Haraka?</h3>
<p>Haraka&#39;s plugin architecture provides an easily extensible MTA that
complements traditional MTAs that excel at managing mail stores but do
not have sufficient filtering.</p>
<p>The plugin system makes it easy to code new features. A typical example
is providing qmail-like extended addresses to an Exchange system,
whereby you could receive mail as <code>user-anyword@domain.com</code>, and yet
still have it correctly routed to <code>user@domain.com</code>. This is a few lines of
code in Haraka.</p>
<p>Plugins are provided for running mail through <a href="https://haraka.github.io/manual/plugins/spamassassin.html">SpamAssassin</a>, validating
<a href="https://haraka.github.io/manual/plugins/helo.checks.html">HELO</a> names, checking <a href="https://haraka.github.io/manual/plugins/dnsbl.html">DNS Blocklists</a>, and <a href="https://github.com/haraka/Haraka/tree/master/plugins">many others</a>.</p>
<h3 id="installing-haraka">Installing Haraka</h3>
<p>Haraka requires <a href="http://nodejs.org/">node.js</a> to run. Install Haraka with <a href="http://youtu.be/6twKXMAsPsw">npm</a>:</p>
<pre><code class="language-sh"># If the second command gives &quot;nobody&quot; errors, uncomment &amp; run the next command
# npm -g config set user root
npm install -g Haraka</code></pre>
<p>After installation, use the <code>haraka</code> binary to set up the service.</p>
<h3 id="running-haraka">Running Haraka</h3>
<p>First, create the service:</p>
<pre><code class="language-sh">haraka -i /path/to/haraka_test</code></pre>
<p>That creates the directory <code>haraka_test</code> with <code>config</code> and <code>plugin</code>
directories within. It also sets the host name used by Haraka
to the output of <code>hostname</code>.</p>
<p>If <code>hostname</code> is not correct, edit <code>config/host_list</code>. For example,
to receive mail addressed to <code>user@domain.com</code>, add <code>domain.com</code> to the
<code>config/host_list</code> file.</p>
<p>Finally, start Haraka using root permissions:</p>
<pre><code class="language-sh">haraka -c /path/to/haraka_test</code></pre>
<p>And it will run.</p>
<h3 id="configure-haraka">Configure Haraka</h3>
<p>To choose which plugins run, edit <code>config/plugins</code>. Plugins control the
overall behaviour of Haraka. By default, only messages to domains listed
in <code>config/host_list</code> will be accepted and then delivered via the
<code>smtp-forward</code> plugin. Configure the destination in <code>config/smtp_forward.ini</code>.</p>
<h3 id="read-the-fine-manual">Read the Fine Manual</h3>
<pre><code class="language-sh">haraka -h plugins/$name</code></pre>
<p>The docs detail how each plugin is configured. After editing
<code>config/plugins</code>, restart Haraka and enjoy!</p>
<h3 id="running-from-git">Running from git</h3>
<p>If you are unable to use npm to install Haraka, you can run from git by
following these steps:</p>
<p>First clone the repository:</p>
<pre><code>$ git clone https://github.com/haraka/Haraka.git
$ cd Haraka</code></pre><p>Install Haraka&#39;s node.js dependencies locally:</p>
<pre><code>$ npm install</code></pre><p>Edit <code>config/plugins</code> and <code>config/smtp.ini</code> to specify the plugins and
config you want.</p>
<p>Finally run Haraka:</p>
<pre><code>$ node haraka.js</code></pre><h3 id="license-and-author">License and Author</h3>
<p>Haraka is MIT licensed - see the <a href="https://github.com/haraka/Haraka/blob/master/LICENSE">LICENSE</a> file for details.</p>
<p>Haraka is a project started by <a href="https://github.com/baudehlo">Matt Sergeant</a>, a 10 year veteran of the email
and anti-spam world. Previous projects have been the project leader for
SpamAssassin and a hacker on <a href="https://github.com/smtpd/qpsmtpd/">Qpsmtpd</a>.</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 13 May 2020</div><div class="column">Version: 1.2.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>