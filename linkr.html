<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Beautiful, fast URL shortening."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/site.css" rel="stylesheet" type="text/css"></head></head><body><nav class="navigation"><section class="container"><a class="navigation-title" href="/">Selfhosted Awesome [Un]list</a><ul class="navigation-list float-right"><li class="navigation-item"><a class="navigation-link" href="/tags"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>github</a></li></ul></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>linkr</h1><span class="subheading"></span><div class="links"><a class="button button-outline" href="https://github.com/LINKIWI/linkr"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>Linkr</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info"><div class="github"><span class="pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>29 May 2019</span><span class="stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>106</span><span class="issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>1</span></div><div class="tags"><a class="button" href="/tags/javascript.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>JavaScript</a><a class="button" href="/tags/url-shorteners.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>URL Shorteners</a><a class="button" href="/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>selfhosted</a><a class="button" href="/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Docker</a></div></div></div></div></div></section><article><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><img alt="Linkr logo" src="https://cdn.rawgit.com/LINKIWI/linkr/a4853551/frontend/static/img/favicon.png" width="96px" height="96px" align="right" />

<h1 id="linkr">Linkr</h1>
<p><a href="https://travis-ci.org/LINKIWI/linkr"><img src="https://travis-ci.org/LINKIWI/linkr.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/github/LINKIWI/linkr?branch=master"><img src="https://coveralls.io/repos/github/LINKIWI/linkr/badge.svg?branch=master" alt="Coverage Status"></a></p>
<p>Linkr is a self-hosted URL shortener built on modern web technologies that is fast, minimalistic, and developer-friendly.</p>
<h2 id="overview-and-features">Overview and Features</h2>
<ul>
<li>Minimalistic, modern, and responsive frontend interface for both mobile and desktop web</li>
<li>Support for administrator users and a dedicated admin interface to manage all links</li>
<li>Statistics tracking for each created link</li>
<li>Password-protected links</li>
<li>Low-friction user accounts support</li>
<li>Developer-friendly RESTful API, making it easy to build apps that leverage Linkr&#39;s services</li>
<li>Linkr is <em>fast</em>.<ul>
<li>Web UI is built with React and React-Router, meaning page-to-page navigation is instantaneous and <em>only one</em> network request for an HTML document is ever made per session</li>
<li>The entire client-side SPA requires only a <em>single</em> HTTP request totaling &lt; 300 KB in size (production build, minified and gzipped)</li>
</ul>
</li>
</ul>
<h2 id="installation">Installation</h2>
<h4 id="prerequisites">Prerequisites</h4>
<ul>
<li>You need Python, <code>pip</code>, and the <code>virtualenv</code> package. (<a href="https://virtualenv.pypa.io/en/stable/">Reference</a>)</li>
<li>You need Node and <code>npm</code>. (<a href="https://nodejs.org/en/">Reference</a>)</li>
<li>You need a MySQL database. (<a href="https://dev.mysql.com/doc/">Reference</a>) (You can use almost any other database too; see &quot;Alternate databases&quot;)</li>
<li>You need Redis. (<a href="https://redis.io/download">Reference</a>)</li>
<li>You need Apache, with <code>mod_wsgi</code> installed. (<a href="https://modwsgi.readthedocs.io/en/develop/">Reference</a>)</li>
<li>All following instructions assume Debian Linux.</li>
</ul>
<h4 id="instructions">Instructions</h4>
<p>Get the code</p>
<pre><code class="language-bash">$ git clone https://github.com/LINKIWI/linkr.git
$ cd linkr/</code></pre>
<p>Install dependencies</p>
<pre><code class="language-bash">$ sudo apt-get install libmysqlclient-dev python-dev
$ virtualenv env
$ source env/bin/activate
$ pip install -r requirements.txt
$ npm install</code></pre>
<p>Set up the MySQL database</p>
<pre><code class="language-sql">CREATE USER &#39;linkr&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;super-secret-password&#39;;
CREATE DATABASE linkr;
GRANT ALL ON linkr.* TO &#39;linkr&#39;@&#39;localhost&#39;;
FLUSH PRIVILEGES;</code></pre>
<p>Configuration options and secrets</p>
<ul>
<li>Don&#39;t skip this step! Building and running the app will fail without config files!</li>
<li>Documentation for each available config option is in the Configuration section.</li>
</ul>
<pre><code class="language-bash">$ cp config/options/client.json.template config/options/client.json
$ cp config/options/server.json.template config/options/server.json
$ cp config/secrets/client.json.template config/secrets/client.json
$ cp config/secrets/server.json.template config/secrets/server.json
# You can leave the options as default, or modify to your liking. Make sure the server-side secrets
# config contains your database connection credentials.</code></pre>
<p>Build the app.</p>
<pre><code class="language-bash">$ NODE_ENV=production npm run build</code></pre>
<p>Run the <code>linkr_setup.py</code> script to walk you through setting up the database and creating an admin user.</p>
<pre><code class="language-bash">$ python linkr_setup.py
==========LINKR SETUP==========

This script is used for initializing Linkr for the first time on a new deployment.
This will create the Linkr MySQL tables and create an admin user account.
...</code></pre>
<p>Almost there! An Apache virtual host config sample using WSGI:</p>
<pre><code class="language-apache">&lt;VirtualHost *:80&gt;
    ServerName t.example.com

    AliasMatch &quot;^/(linkr/(?!.*api/).+)?$&quot; /path/to/linkr/frontend/static/dist/index.html
    Alias /linkr/static /path/to/linkr/frontend/static

    WSGIScriptAlias / /path/to/linkr/linkr.wsgi

    &lt;Directory /path/to/linkr&gt;
        Require all granted
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;</code></pre>
<p>The service is now live at <code>t.example.com</code>!</p>
<h4 id="i-am-lazy-and-just-want-a-prebuilt-docker-image">I am lazy and just want a prebuilt Docker image</h4>
<p>Building the application from source is highly recommended. This is because the application&#39;s configuration options are specific to your installation, and must be configured before the application can run. Also, client-side secrets are bundled directly into the application as part of the build process, so it&#39;s not possible to distribute a pre-built frontend.</p>
<h4 id="alternate-databases">Alternate databases</h4>
<p>The default database is MySQL, but you can change this to any database that is compatible with <a href="http://flask-sqlalchemy.pocoo.org/2.1/config/#connection-uri-format"><code>flask-sqlalchemy</code></a>. Simply change <code>SQLALCHEMY_DATABASE_URI</code> in <code>config/flask.py</code> for the database of your choice.</p>
<h2 id="configuration">Configuration</h2>
<h4 id="configoptionsclientjson"><code>config/options/client.json</code></h4>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td><code>title</code></td>
<td>The main page title on all Linkr frontend pages.</td>
</tr>
<tr>
<td><code>piwik</code></td>
<td>An object of options to pass to <a href="https://www.npmjs.com/package/piwik-react-router"><code>piwik-react-router</code></a>. <em>If your production infrastructure does not make use of <a href="http://piwik.org/">Piwik</a>, leave this as null</em></td>
</tr>
<tr>
<td><code>enable_recent_links</code></td>
<td>True to allow client-side storage and display of recently created and accessed links on the home page.</td>
</tr>
</tbody></table>
<h4 id="configoptionsserverjson"><code>config/options/server.json</code></h4>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td><code>linkr_url</code></td>
<td>The public-facing URL to your Linkr installation, including the protocol and without a trailing forward slash.</td>
</tr>
<tr>
<td><code>require_login_to_create</code></td>
<td>True to require users to sign in before creating links; false to allow anonymous and signed-in users to create links.</td>
</tr>
<tr>
<td><code>allow_open_registration</code></td>
<td>True to allow anyone to register; false to disallow all registration.</td>
</tr>
<tr>
<td><code>secure_frontend_requests</code></td>
<td>True to allow the server to perform additional request validation to ensure that non-public API endpoints are only requested via Linkr&#39;s frontend interface. <em>It is recommended to leave this enabled, unless it is causing issues.</em></td>
</tr>
</tbody></table>
<h4 id="configsecretsclientjson"><code>config/secrets/client.json</code></h4>
<p>Note that all of these secrets are bundled into the frontend application at build time.</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td><code>sentry_client_dsn</code></td>
<td>The client-side Sentry DSN key for this application. <em>If your production infrastructure does not make use of <a href="https://sentry.io">Sentry</a> or you don&#39;t care about error reporting, leave this as null</em></td>
</tr>
<tr>
<td><code>recaptcha_site_key</code></td>
<td>The client-side site key for this application from the Google ReCAPTCHA admin panel. <em>If you don&#39;t want to enable the human verification feature for links, leave this as null</em></td>
</tr>
</tbody></table>
<h4 id="configsecretsserverjson"><code>config/secrets/server.json</code></h4>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td><code>sentry_server_dsn</code></td>
<td>The server-side Sentry DSN key for this application. <em>If your production infrastructure does not make use of <a href="https://sentry.io">Sentry</a> or you don&#39;t care about error reporting, leave this as null</em></td>
</tr>
<tr>
<td><code>recaptcha_secret_key</code></td>
<td>The server-side secret key for this application from the Google ReCAPTCHA admin panel. <em>If you don&#39;t want to enable the human verification feature for links, leave this as null</em></td>
</tr>
<tr>
<td><code>database.host</code></td>
<td>The hostname or IP of the MySQL database.</td>
</tr>
<tr>
<td><code>database.name</code></td>
<td>The name of Linkr&#39;s database.</td>
</tr>
<tr>
<td><code>database.user</code></td>
<td>The username of the MySQL user for accessing the above database.</td>
</tr>
<tr>
<td><code>database.password</code></td>
<td>The password of the MySQL user for accessing the above database.</td>
</tr>
<tr>
<td><code>redis.host</code></td>
<td>The hostname of the Redis datastore.</td>
</tr>
<tr>
<td><code>redis.port</code></td>
<td>The port of the Redis datastore.</td>
</tr>
<tr>
<td><code>statsd.host</code></td>
<td>The hostname of the Statsd server. <em>If you don&#39;t use Statsd, leave this as default</em></td>
</tr>
<tr>
<td><code>statsd.port</code></td>
<td>The port of the Statsd server. <em>If you don&#39;t use Statsd, leave this as default</em></td>
</tr>
</tbody></table>
<h2 id="development">Development</h2>
<ol>
<li>Make sure all dependencies are installed and a database is available locally. Follow the same instructions for installation.</li>
<li>At the terminal, run <code>npm run dev</code>. This will concurrently start the following processes:<ul>
<li><code>npm run start</code>: Server process</li>
<li><code>npm run build-js</code>: Javascript build of the frontend application</li>
<li><code>npm run build-css</code>: SCSS build</li>
</ul>
</li>
</ol>
<h2 id="contributing">Contributing</h2>
<p>Linkr is open to pull requests for bug fixes and/or new features. Please adhere to the following guidelines:</p>
<ul>
<li>Maintain consistent code style with the rest of the codebase.</li>
<li>Document new functions, new components, or any non-intuitive logic according to existing documentation conventions.</li>
<li>Any changed or added lines should be accompanied with unit tests.</li>
<li>Don&#39;t drop coverage or introduce regressions. CI will help with this.</li>
</ul>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built At: 02 May 2020</div><div class="column">Version: 1.0.0</div></div></div></footer><script src="/site.js"></script></body></html>