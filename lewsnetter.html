<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="*  E-mail marketing application . Includes subscription management, delivery, bounce and complaint notification, templates, and some stats."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>lewsnetter</h1><span class="subheading">*  E-mail marketing application . Includes subscription management, delivery, bounce and complaint notification, templates, and some stats.</span><div class="links"><a class="button button-outline" href="https://github.com/bborn/lewsnetter"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>Lewsnetter</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>04 May 2016</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>305</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>1</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/tags/ruby.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">53</span>ruby</a><a class="tag" href="/selfhosted-awesome-unlist/tags/newsletters.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">4</span>newsletters</a><a class="tag" href="/selfhosted-awesome-unlist/tags/sysadmin.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">371</span>sysadmin</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><h1 id="lewsnetter">LewsNetter</h1>
<p>E-mail marketing application. Send e-mails via SES. Subscription management, delivery, bounce, and complaint notifications. Templates.</p>
<h2 id="deploy">Deploy</h2>
<p><a href="https://heroku.com/deploy"><img src="https://www.herokucdn.com/deploy/button.png" alt="Deploy"></a></p>
<p>You&#39;ll need to enter your SES credentials and your SES SMTP credentials in order to send mail (<a href="http://docs.aws.amazon.com/ses/latest/DeveloperGuide/smtp-credentials.html">http://docs.aws.amazon.com/ses/latest/DeveloperGuide/smtp-credentials.html</a>). For more info on setting up SES in general, see <a href="http://docs.aws.amazon.com/ses/latest/DeveloperGuide/setting-up-ses.html">here</a>.</p>
<h2 id="getting-started">Getting Started</h2>
<p>Go to <code>/a/signup</code> and create an account.</p>
<p>Using the console, turn that account into an admin user (<code>user.update(is_admin:true, approved: true)</code>)</p>
<h3 id="creating-a-mailing-list">Creating a mailing list</h3>
<p>To create a mailing list go to <code>/mailing_lists/new</code>. To import users into the list, upload a CSV file with headings for <code>email</code>, <code>name</code>, and <code>created_at</code> (&#39;created_at&#39; is the date when the user subscribed).</p>
<p>CSV import (and lots of other things) happen asynchronously in <a href="http://sidekiq.org/">Sidekiq</a>. Make sure you have workers running, or use <a href="http://hirefire.io">Hirefire.io</a> (or some other method) to auto scale your workers.</p>
<h3 id="templates">Templates</h3>
<p>While your mailing list is importing, create an e-mail template <code>/templates/new</code>. A template should be a complete HTML document with editable regions. The template will be used as the layout for your e-mail campaigns, and will be run through Premailer (so CSS will be inlined).</p>
<p>To make a section of the template editable, give the DOM node the &#39;editable&#39; class and give it a unique id. For example:</p>
<pre><code class="language-html">&lt;div class=&#39;editable&#39; id=&#39;main_content&#39;&gt;
  This text will be editable
&lt;/div&gt;</code></pre>
<p>There are some interpolations you can use within your template:</p>
<ul>
<li><code>%{currentdayname}</code></li>
<li><code>%{currentday}</code></li>
<li><code>%{currentmonthname}</code></li>
<li><code>%{currentyear}</code></li>
<li><code>%{unsubscribe}</code> - inserts an unsubscribe link</li>
<li><code>%{webversion}</code>  - inserts a link to the web version</li>
</ul>
<h3 id="add-a-sender-address">Add a sender address</h3>
<p>Before you create a campaign, you need to add a sender address (the address from which the e-mails will be sent). To do this, go to the admin section (<code>/admin/sender_address</code>) and add a new address. The app will attempt to verify the address through SES after you create it (you should get a confirmation e-mail from Amazon at that address asking you to click a link to verify it).</p>
<h3 id="campaigns">Campaigns</h3>
<h4 id="create--edit">Create &amp; Edit</h4>
<p>You can create a campaign at <code>/campaigns/new</code>. Add a subject line, select a sender address, a mailing list, and a template.</p>
<p>Once your campaign has been created, you can edit it to add content. The content editing interface uses an <a href="https://github.com/daviferreira/medium-editor/">inline rich text editor</a>. Occassionally it doesn&#39;t load correctly (something to do with Turbolinks). If that happens just refresh the page and it should work (working on fixing this).</p>
<p>The rich text editor will make any regions in your template marked with the class &#39;editable&#39;, um, editable. You can click in them to edit their contents. To add an image, insert the url to the image, highlight it, and then click &#39;image&#39; in the popup toolbar.</p>
<p>Alternatively, you can use the &#39;fetch feed items&#39; button in the sidebar to grab a bunch of items from a feed you specify, and then load them into the editor (this is a work in progress, so experiment).</p>
<h4 id="preview">Preview</h4>
<p>You can send a preview of your campaign to yourself (or others) using the panel on the <code>Campaigns#show</code> page.</p>
<h4 id="queue">Queue</h4>
<p>Once you&#39;re happy with your campaign content, you can queue it (the &#39;queue&#39; button on same page). Queueing is done in Sidekiq, and can take a while depending on the size of your mailing list and the number of workers you have running. By default LewsNetter will spawn one worker per 100 subscribers, but that setting is customizable (just add a Setting in <code>/admin/settings</code> called <code>queue.batch_size</code>).</p>
<h4 id="send">Send</h4>
<p>Once your campaign has queued, you&#39;ll see a &#39;Send&#39; button on the show campaign page. That is the button you will click in order to send the campaign, thus, its name. Sending, like queueing, happens in a background Sidekiq job, and uses the same <code>queue.batch_size</code> setting to allocate workers.</p>
<p>You can monitor Sidekiq at <code>/admin/sidekiq/jobs</code>.</p>
<h4 id="stats">Stats</h4>
<p>Once the campaign begins sending you&#39;ll start to see stats (again, on the campaign show page, i.e. <code>/campaigns/CAMPAIGN_ID</code>). If you have SNS notifications set up (see below) you&#39;ll see deliveries, complaints, bounces, and opens. If not, you&#39;ll just see opens (LewsNetter inserts a tracking pixel image into every e-mail).</p>
<h3 id="subscriber-management">Subscriber management</h3>
<p>TODO</p>
<ul>
<li>Subscription confirmation e-mails are still crap.</li>
</ul>
<h3 id="setting-up-notifications">Setting up notifications</h3>
<p>You&#39;ll want to set up SES to post notifications to SNS Topics, which will in turn post messages to your app.</p>
<p>Read the docs <a href="http://docs.aws.amazon.com/ses/latest/DeveloperGuide/configure-sns-notifications.html">here</a></p>
<p>Basically, you set up SNS Topics to receive notifications from SES and then post messages to your app. Your SNS Topics should post to the appropriate endpoint for each type of notification:</p>
<ul>
<li>Bounces     --&gt;   <a href="http://yourinstall.com/bounces">http://yourinstall.com/bounces</a></li>
<li>Deliveries  --&gt;   <a href="http://yourinstall.com//deliveries">http://yourinstall.com//deliveries</a></li>
<li>complaints  --&gt;   <a href="http://yourinstall.com//complaints">http://yourinstall.com//complaints</a></li>
</ul>
<p>TODO - better docs on this</p>
<h3 id="e-mail--domain-verification-and-dkim-settings">E-mail &amp; domain verification and DKIM settings</h3>
<p><a href="http://docs.aws.amazon.com/ses/latest/DeveloperGuide/authentication.html">http://docs.aws.amazon.com/ses/latest/DeveloperGuide/authentication.html</a></p>
<p><a href="http://docs.aws.amazon.com/ses/latest/DeveloperGuide/improve-deliverability.html">http://docs.aws.amazon.com/ses/latest/DeveloperGuide/improve-deliverability.html</a></p>
<h2 id="workers">Workers</h2>
<p>TODO - something about managing and scaling workers correctly</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 13 May 2020</div><div class="column">Version: 1.2.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>