<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="OpenCFP is a PHP-based conference talk submission system."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>opencfp</h1><span class="subheading">OpenCFP is a PHP-based conference talk submission system.</span><div class="links"><a class="button button-outline" href="https://github.com/opencfp/opencfp"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>OpenCFP</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>31 Mar 2020</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>528</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>11</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/tags/php.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">218</span>php</a><a class="tag" href="/selfhosted-awesome-unlist/tags/call-for-papers.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">2</span>call-for-papers</a><a class="tag" href="/selfhosted-awesome-unlist/tags/conferences.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">3</span>conferences</a><a class="tag" href="/selfhosted-awesome-unlist/tags/conference-management.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">7</span>conference management</a><a class="tag" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">943</span>selfhosted</a><a class="tag" href="/selfhosted-awesome-unlist/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">328</span>docker</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column">
<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content" itemprop="text"><h1><a id="" class="anchor" aria-hidden="true" href="#"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://github.com/opencfp/opencfp"><img src="docs/img/banner.png" alt="OpenCFP Banner" style="max-width:100%;"></a></h1>
<p>OpenCFP is a PHP-based conference talk submission system.</p>
<p><em>YOU CAN SUPPORT THIS PROJECT BY SPONSORING CHRIS HARTJES VIA HIS <a href="https://github.com/sponsors/chartjes">GitHub Sponsorship</a></em></p>
<hr>
<p><a href="https://github.com/opencfp/opencfp/actions"><img src="https://github.com/opencfp/opencfp/workflows/OpenCFP%20CI/badge.svg" alt="GitHub Actions" style="max-width:100%;"></a> <a href="https://github.com/opencfp/opencfp/releases/latest"><img src="https://camo.githubusercontent.com/933adbf08d51ebd67b3e18be601d4dfa9d65c214/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f6f70656e6366702f6f70656e6366702e737667" alt="GitHub release" data-canonical-src="https://img.shields.io/github/release/opencfp/opencfp.svg" style="max-width:100%;"></a></p>
<h2><a id="user-content-readme-contents" class="anchor" aria-hidden="true" href="#readme-contents"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>README Contents</h2>
<ul>
<li><a href="#features">Features</a></li>
<li><a href="#screenshots">Screenshots</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#requirements">Minimum Requirements</a></li>
<li><a href="#privacy">Privacy Restrictions</a></li>
<li><a href="#installation">Installation</a>
<ul>
<li><a href="#grab-latest-release">Grab Latest Release</a></li>
<li><a href="#cloning-the-repository">Cloning the Repository</a></li>
<li><a href="#specify-environment">Specify Environment</a></li>
<li><a href="#installing-composer-dependencies">Installing Composer Dependencies</a></li>
<li><a href="#specify-web-server-document-root">Specify Web Server Document Root</a></li>
<li><a href="#create-a-database">Create a Database</a></li>
<li><a href="#configure-environment">Configure Environment</a></li>
<li><a href="#opencfp-central">OpenCFP Central</a></li>
<li><a href="#run-migrations">Run Migrations</a></li>
<li><a href="#using-vagrant">Using Vagrant</a></li>
<li><a href="#final-touches">Final Touches</a></li>
<li><a href="#building-docker-image">Building Docker Image</a></li>
</ul>
</li>
<li><a href="#command-line-utilities">Command-line Utilities</a>
<ul>
<li><a href="#admin-group-management">Admin Group Management</a></li>
<li><a href="#reviewer-group-management">Reviewer Group Management</a></li>
<li><a href="#user-management">User Management</a></li>
<li><a href="#clear-caches">Clear Caches</a></li>
<li><a href="#scripts-rule-all">Scripts to Rule Them All</a></li>
</ul>
</li>
<li><a href="#compiling-frontend-assets">Compiling Frontend Assets</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ul>
<h2><a id="user-content-features" class="anchor" aria-hidden="true" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#features">Features</a></h2>
<ul>
<li>Speaker registration system that gathers contact information.</li>
<li>Dashboard that allows speakers to submit talk proposals and manage their profile.</li>
<li>Administrative dashboard for reviewing submitted talks and making selections.</li>
<li>Command-line utilities for administering the system.</li>
</ul>
<h2><a id="user-content-screenshots" class="anchor" aria-hidden="true" href="#screenshots"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#screenshots">Screenshots</a></h2>
<p>You can find screenshots of the application in our <a href="https://github.com/opencfp/opencfp/wiki/Screenshots">wiki</a></p>
<h2><a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#contributing">Contributing</a></h2>
<p>See <a href=".github/CONTRIBUTING.md"><code>CONTRIBUTING.md</code></a>.</p>
<h2><a id="user-content-minimum-requirements" class="anchor" aria-hidden="true" href="#minimum-requirements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#requirements">Minimum Requirements</a></h2>
<ul>
<li>PHP 7.3 (currently does not work on PHP 7.4 due to dependency issues)</li>
<li>Apache 2+ with <code>mod_rewrite</code> enabled and an <code>AllowOverride all</code> directive in your <code>&lt;Directory&gt;</code> block is the recommended web server</li>
<li>Composer requirements are listed in <a href="composer.json">composer.json</a>.</li>
<li>You may need to install <code>php7.0-intl</code> extension for PHP. (<code>php-intl</code> on CentOS/RHEL-based distributions)</li>
<li>Either the GD image library or the Imagick PHP extension for the <a href="http://image.intervention.io/getting_started/installation" rel="nofollow">Intervention image library</a>)</li>
</ul>
<h2><a id="user-content-privacy-restrictions" class="anchor" aria-hidden="true" href="#privacy-restrictions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#privacy">Privacy Restrictions</a></h2>
<p>We request that anyone who installs OpenCFP to not share any of the
personal information that is collected from users with any third
parties without explicit permission from users and to also be aware of the existence of the European
Union's <a href="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation" rel="nofollow">General Data Protection Regulation</a>
as it could potentially impact your ability to accept submissions
from anyone residing within the European Union.</p>
<p>Tools to make it easier to comply with the GDPR are in the process
of being created.</p>
<p>We recommend that you delete any data stored in a database associated
with an OpenCFP instance within 15 months of accepting submissions from
users.</p>
<h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#installation">Installation</a></h2>
<h3><a id="user-content-grab-latest-release" class="anchor" aria-hidden="true" href="#grab-latest-release"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#grab-latest-release">Grab Latest Release</a></h3>
<p>It is recommended for you to always install the latest marked release. Go to <code>https://github.com/opencfp/opencfp/releases</code> to download it.</p>
<h3><a id="user-content-cloning-the-repository" class="anchor" aria-hidden="true" href="#cloning-the-repository"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#cloning-the-repository">Cloning the Repository</a></h3>
<p>Clone this project into your working directory. We recommend always running the <code>master</code> branch as it was frequent contributions.</p>
<p>Example:</p>
<pre><code>$ git clone git@github.com:opencfp/opencfp.git
Cloning into 'opencfp'...
remote: Counting objects: 4794, done.
remote: Total 4794 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (4794/4794), 1.59 MiB | 10.37 MiB/s, done.
Resolving deltas: 100% (2314/2314), done.
Checking connectivity... done.
</code></pre>
<h3><a id="user-content-specify-environment" class="anchor" aria-hidden="true" href="#specify-environment"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#specify-environment">Specify Environment</a></h3>
<p>OpenCFP can be configured to run in multiple environments. The application environment (<code>CFP_ENV</code>) must be specified
as an environment variable. If not specified, the default is <code>development</code>.</p>
<p>An example Apache configuration is provided at <code>/web/htaccess.dist</code>. Copy this file to <code>/web/.htaccess</code> or otherwise
configure your web server in the same way and change the <code>CFP_ENV</code> value to specify a different environment. The
default has been pre-set for development.</p>
<pre><code>SetEnv CFP_ENV production
</code></pre>
<p>You will also need to set the <code>CFP_ENV</code> variable in the shell you are using when doing an install. Here are some
ways to do that with common shells assuming we're using <code>production</code>:</p>
<ul>
<li>bash: <code>export CFP_ENV=production</code></li>
<li>zsh:  <code>export CFP_ENV = production</code></li>
<li>fish: <code>set -x CFP_ENV production</code></li>
</ul>
<p>Again, just use your preferred environment in place of <code>production</code> if required.</p>
<h3><a id="user-content-installing-composer-dependencies" class="anchor" aria-hidden="true" href="#installing-composer-dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#installing-composer-dependencies">Installing Composer Dependencies</a></h3>
<p>From the project directory, run the following command. You may need to download <code>composer.phar</code> first from <a href="http://getcomposer.org" rel="nofollow">http://getcomposer.org</a></p>
<div class="highlight highlight-source-shell"><pre>$ php composer.phar run setup-env</pre></div>
<p>If you have composer installed globally you can run:</p>
<div class="highlight highlight-source-shell"><pre>$ composer run setup-env</pre></div>
<p>Or you can run</p>
<div class="highlight highlight-source-shell"><pre>$ ./script/setup</pre></div>
<p>Due to current dependencies you will see the following warning message when installing
this project's dependencies via Composer:</p>
<div class="highlight highlight-source-shell"><pre>Carbon 1 is deprecated, see how to migrate to Carbon 2.
https://carbon.nesbot.com/docs/<span class="pl-c"><span class="pl-c">#</span>api-carbon-2</span>
    You can run <span class="pl-s"><span class="pl-pds">'</span>./vendor/bin/upgrade-carbon<span class="pl-pds">'</span></span> to get <span class="pl-c1">help</span> <span class="pl-k">in</span> updating carbon and other frameworks and libraries that depend on it.</pre></div>
<h3><a id="user-content-specify-web-server-document-root" class="anchor" aria-hidden="true" href="#specify-web-server-document-root"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#specify-web-server-document-root">Specify Web Server Document Root</a></h3>
<p>Set up your desired webserver to point to the <code>/web</code> directory.</p>
<p><a href="https://httpd.apache.org/" rel="nofollow">Apache 2+</a> Example:</p>
<pre><code>&lt;VirtualHost *:80&gt;
    DocumentRoot /path/to/web
    ServerName cfp.conference.com

    # Other Directives Here
&lt;/VirtualHost&gt;
</code></pre>
<p>nginx Example:</p>
<pre><code>server {
	server_name cfp.sitename.com;
	root /var/www/opencfp/web;
	listen 80;
	index index.php index.html index.htm;

	access_log /var/log/nginx/access.cfp.log;
	error_log /var/log/nginx/error.cfp.log;

	location / {
		try_files $uri $uri/ /index.php?$query_string;
	}

	location ~ \.php$ {
		try_files $uri =404;

		fastcgi_param CFP_ENV production;
		fastcgi_split_path_info ^(.+\.php)(/.+)$;
		fastcgi_pass unix:/var/run/php71-fpm.sock;
		fastcgi_read_timeout 150;
		fastcgi_index index.php;
		fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;
		include fastcgi_params;
	}

}
</code></pre>
<h3><a id="user-content-running-locally" class="anchor" aria-hidden="true" href="#running-locally"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#running-locally">Running Locally</a></h3>
<p>After having gone through the setup steps and database migrations, you can test out OpenCFP locally by installing the <a href="https://symfony.com/download" rel="nofollow">Symfony binary</a>
and using the following command:</p>
<pre><code>symfony server:start
</code></pre>
<p>By default it should start up a web server running your site at <code>https://127.0.0.1:8000</code></p>
<h3><a id="user-content-create-a-database" class="anchor" aria-hidden="true" href="#create-a-database"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#create-a-database">Create a Database</a></h3>
<p>Create a new database for the application to use. You will need to have the following handy to continue configuring
your installation of OpenCFP:</p>
<ul>
<li>Database server hostname</li>
<li>Database name</li>
<li>Credentials to an account that can access the above database</li>
</ul>
<h3><a id="user-content-configure-environment" class="anchor" aria-hidden="true" href="#configure-environment"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#configure-environment">Configure Environment</a></h3>
<p>Depending on which environment you specified above, you will need to make a copy of the distributed configuration
schema to enter your own details into.</p>
<p>For example, if you specified <code>SetEnv CFP_ENV production</code>:</p>
<div class="highlight highlight-source-shell"><pre>$ cp config/production.yml.dist config/production.yml</pre></div>
<p>After making a local copy, edit <code>config/production.yml</code> and specify your own details. Here are some important options
to consider:</p>
<table>
<thead>
<tr>
<th align="left">Option</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>application.enddate</code></td>
<td align="left">This is the date your call for proposals would end on.</td>
</tr>
<tr>
<td align="left"><code>application.coc_link</code></td>
<td align="left">Set this to the link for your conference code of conduct to require speakers to agree to the code of conduct at registration</td>
</tr>
<tr>
<td align="left"><code>secure_ssl</code></td>
<td align="left">This should be enabled, if possible. Requires a valid SSL certificate.</td>
</tr>
<tr>
<td align="left"><code>database.*</code></td>
<td align="left">This is the database information you collected above.</td>
</tr>
<tr>
<td align="left"><code>mail.*</code></td>
<td align="left">This is SMTP configuration for sending mail. The application sends notifications on various system events.</td>
</tr>
<tr>
<td align="left"><code>opencfpcentral.*</code></td>
<td align="left">Settings related to using OpenCFP Central for single-sign-on</td>
</tr>
<tr>
<td align="left"><code>talk.categories.*</code></td>
<td align="left">dbkey: Display Name mapping for your talk categories</td>
</tr>
<tr>
<td align="left"><code>talk.types.*</code></td>
<td align="left">dbkey: Display Name mapping for your talk types</td>
</tr>
<tr>
<td align="left"><code>talk.levels.*</code></td>
<td align="left">dbkey: Display Name mapping for your talk levels</td>
</tr>
</tbody>
</table>
<p>For example, if you wanted to setup Mailgun as your email provider, your mail configuration would look something like this:</p>
<pre><code>mail:
    host: smtp.mailgun.org
    port: 587
    username: do-not-reply@cfp.myfancyconference.com
    password: "a1b2c3d4"
    encryption: tls
    auth_mode: ~
</code></pre>
<p>As the project migrates from using Eloquent to Doctrine you also need to edit the following files to ensure the database
credentials are correct, creating a version of the modified file in the same location but without the <code>.dist</code> suffix.</p>
<p><code>resources/config/config_testing.yml.dist</code>
<code>resources/config/config_development.yml.dist</code>
<code>resources/config/config_production.yml.dist</code></p>
<h3><a id="user-content-running-behind-a-trusted-proxy" class="anchor" aria-hidden="true" href="#running-behind-a-trusted-proxy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#run-trusted-proxy">Running behind a trusted proxy</a></h3>
<p>If you are running OpenCFP behind a proxy server which adds X-Forwarded-For headers (this could be a cloud based load balancer or a service such as Cloudflare) you will need to set the environment variable TRUST_PROXIES to true this will ensure that OpenCFP trusts the headers set by these proxies for the original IP address and ssl mode. Setting this will trust these headers regardless of where the original request originates, so it's advisable to either lock down your instance so that only the trusted proxy can access it or modify the list of trusted proxies in the index.php file to only include the ip addresses of your proxies.</p>
<h3><a id="user-content-opencfp-central" class="anchor" aria-hidden="true" href="#opencfp-central"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#opencfp-central">OpenCFP Central</a></h3>
<p><a href="https://www.opencfpcentral.com" rel="nofollow">OpenCFP Central</a> is a web site created by <a href="https://github.com/sponsors/chartjes">Chris Hartjes</a> to help both speakers and conference organizers. Conference
organizers can create an account and get an OAuth2 client ID and client secret, which can be entered into the
configuration files. With the ID and secret, change the values for <code>opencfpcentral.sso</code> to be <code>on</code>, and set
<code>opencfpcentral.clientId</code> and <code>opencfpcentral.clientSecret</code> to their respective values.</p>
<p>Any users who create an account at OpenCFP Central can use it to log into any OpenCFP instance that has enabled
SSO. If you don't already have an account on that instance, one will be created for you.</p>
<h3><a id="user-content-run-migrations" class="anchor" aria-hidden="true" href="#run-migrations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#run-migrations">Run Migrations</a></h3>
<p>This project uses <a href="https://www.doctrine-project.org/projects/migrations.html" rel="nofollow">Doctrine Migrations</a> to handle migrations.</p>
<p>To run the existing migrations, make sure you are in the root directory for the project and run the following:</p>
<pre><code>$ bin/console doctrine:migrations:migrate --env=&lt;environment&gt; 
</code></pre>
<p>where  is one of <code>testing</code>, <code>development</code>, or <code>production</code>. The default environment is <code>development</code></p>
<h3><a id="user-content-using-vagrant" class="anchor" aria-hidden="true" href="#using-vagrant"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#using-vagrant">Using Vagrant</a></h3>
<p>After running <code>$ composer run setup-env</code> (or <code>$ ./script/setup</code>) from the project root run <code>php vendor/bin/homestead make</code>.
This will create a <code>Homestead.yaml</code> based on settings from <code>Homestead.yaml.example</code>. Do not version control <code>Homestead.yaml</code></p>
<p>Run <code>vagrant up</code>
Add <code>192.168.10.10 opencfp.test</code> to your operating system's hosts file (/etc/hosts)
Point your browser to <code>http://opencfp.test</code></p>
<p>Edit your <code>config/development.yml</code> to use Homestead's database &amp; mail settings:</p>
<pre><code>database:
  host: 127.0.0.1
  database: cfp
  dsn: mysql:dbname=cfp;host=127.0.0.1
  user: homestead
  password: secret

log:
  level: debug

mail:
  host: localhost
  port: 1025
  username: ~
  password: ~
  encryption: ~
  auth_mode: ~
</code></pre>
<p>Mailhog (local mail catching) can be viewed at <a href="http://opencfp.test:8025" rel="nofollow">http://opencfp.test:8025</a></p>
<p>For more usage information please see the <a href="http://laravel.com/docs/homestead" rel="nofollow">Laravel Homestead Docs</a></p>
<p>You also need to edit the following files for Doctrine support</p>
<h3><a id="user-content-final-touches" class="anchor" aria-hidden="true" href="#final-touches"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#final-touches">Final Touches</a></h3>
<ul>
<li>The web server must be able to write to the directories:
<ul>
<li><code>/web/uploads</code></li>
<li><code>/cache/:environment</code> (e.g. <code>/cache/production</code>)</li>
<li><code>/log</code></li>
</ul>
</li>
<li>You may need to alter the <code>memory_limit</code> of the web server to allow image processing of head-shots. This is largely
dictated by the size of the images people upload. Typically 512M works.</li>
<li>Customize templates and <code>/web/assets/css/app.css</code> to your heart's content.</li>
</ul>
<h3><a id="user-content-building-docker-image" class="anchor" aria-hidden="true" href="#building-docker-image"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#building-docker-image">Building Docker Image</a></h3>
<h4><a id="user-content-what-is-docker" class="anchor" aria-hidden="true" href="#what-is-docker"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is Docker</h4>
<p>Quoting <a href="https://opensource.com/resources/what-docker" rel="nofollow">OpenSource</a>:</p>
<p>"<a href="https://www.docker.com" rel="nofollow">Docker</a> is a tool designed to make it easier to create, deploy, and run applications by using containers.
Containers allow a developer to package up an application with all of the parts it needs, such as libraries and
other dependencies, and ship it all out as one package. By doing so, thanks to the container,
the developer can rest assured that the application will run on any other Linux machine regardless of any customized
settings that machine might have that could differ from the machine used for writing and testing the code."</p>
<h4><a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requirements</h4>
<ol>
<li>You will need to download and install <a href="https://www.docker.com/get-docker" rel="nofollow">Docker</a> locally.</li>
<li>You will need to download and install <a href="https://docs.docker.com/compose/install/" rel="nofollow">docker-compose</a> too.</li>
</ol>
<h4><a id="user-content-build--run-the-image" class="anchor" aria-hidden="true" href="#build--run-the-image"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build &amp; Run the image</h4>
<p>Please remember to edit the file <code>config/docker.yml.dist</code> to match your environment, then you can build your own
docker image by using a <a href="https://docs.docker.com/compose/install/" rel="nofollow">docker-compose</a> command which will build the
image and run the containers automatically for you:</p>
<pre><code>$  docker-compose -f docker-compose.yml.dist up --build -d
</code></pre>
<p>So now if you head over to <code>http://localhost:8080</code> you will be greeted with a running version of OpenCFP in
<code>development</code> mode.</p>
<p>After building and running the Docker image you'll need to use the docker-compose <a href="https://docs.docker.com/compose/reference/exec/" rel="nofollow">exec</a>
command to configure things inside the container:</p>
<div class="highlight highlight-source-shell"><pre>$ docker-compose -f docker-compose.yml.dist <span class="pl-c1">exec</span> app composer run setup-docker</pre></div>
<p>and then <a href="#user-management">Add an Admin User</a> before logging-in.</p>
<h4><a id="user-content-run-php-commands-within-the-container" class="anchor" aria-hidden="true" href="#run-php-commands-within-the-container"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run PHP commands within the Container</h4>
<p>To run any command in the app container you can use the docker-compose
<a href="https://docs.docker.com/compose/reference/exec/" rel="nofollow">exec</a> command, for example to clear the cache for your
environment:</p>
<div class="highlight highlight-source-shell"><pre>$ docker-compose -f docker-compose.yml.dist <span class="pl-c1">exec</span> app bin/console cache:clear </pre></div>
<p>OR</p>
<h4><a id="user-content-running-the-image-directly" class="anchor" aria-hidden="true" href="#running-the-image-directly"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running the image directly</h4>
<p>You can run the image (after you build it) and link it to an already running database container using the docker
<a href="https://docs.docker.com/engine/reference/commandline/run/" rel="nofollow">run</a> command like:</p>
<pre><code>docker run -e CFP_ENV=production -e CFP_DB_HOST=database -e CFP_DB_PASS=root --name cfp --link database:database -p 80:80 -d opencfp/opencfp:latest
</code></pre>
<p>Where <code>database</code> is the name of the running database container.</p>
<h4><a id="user-content-access-mysql-container" class="anchor" aria-hidden="true" href="#access-mysql-container"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Access MySQL container</h4>
<p>To access the MySQL container from outside the application container you can use the following information:</p>
<ul>
<li><strong>Host</strong>: 127.0.0.1</li>
<li><strong>User</strong>: root</li>
<li><strong>Password</strong>: root (or the one you specified in docker-compose)</li>
</ul>
<p>For using docker in your development environment check <a href="DOCKER.md">DOCKER.md</a> file.</p>
<p><em>PS</em>: You can always modify the file <code>docker-compose.yml.dist</code> and have your own setup.</p>
<h2><a id="user-content-command-line-utilities" class="anchor" aria-hidden="true" href="#command-line-utilities"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#command-line-utilities">Command-line Utilities</a></h2>
<p>OpenCFP comes bundled with a few command-line utilities to administer the system. A full list of commands (along with help for each)
can be found by running the following in the project root:</p>
<pre><code>$ bin/console
</code></pre>
<h3><a id="user-content-admin-group-management" class="anchor" aria-hidden="true" href="#admin-group-management"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#admin-group-management">Admin Group Management</a></h3>
<p>Administrators are authorized to review speaker information in addition to specifying talk favorites and making selections.</p>
<p>Adding <code>speaker@opencfp.org</code> to the admin group:</p>
<pre><code>$ bin/console user:promote --env=production speaker@opencfp.org admin
</code></pre>
<p>Removing <code>speaker@opencfp.org</code> from the admin group:</p>
<pre><code>$ bin/console user:demote --env=production speaker@opencfp.org admin
</code></pre>
<h3><a id="user-content-reviewer-group-management" class="anchor" aria-hidden="true" href="#reviewer-group-management"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#reviewer-group-management">Reviewer Group Management</a></h3>
<p>Reviewers are authorized to see talks and give ratings to them.</p>
<p>Adding <code>speaker@opencfp.org</code> to the reviewer group:</p>
<pre><code>$ bin/console user:promote --env=production speaker@opencfp.org reviewer
</code></pre>
<p>Removing <code>speaker@opencfp.org</code> from the reviewer group:</p>
<pre><code>$ bin/console user:demote --env=production speaker@opencfp.org reviewer
</code></pre>
<h3><a id="user-content-user-management" class="anchor" aria-hidden="true" href="#user-management"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#user-management">User Management</a></h3>
<p>Users are needed for you system, and sometimes you want to add users via command line.</p>
<p>Adding a speaker:</p>
<pre><code>$ bin/console user:create --first_name="Speaker" --last_name="Name" --email="speaker@opencfp.org" --password="somePassw0rd!"
</code></pre>
<p>Add an admin:</p>
<pre><code>$ bin/console user:create --first_name="Admin" --last_name="Name" --email="admin@opencfp.org" --password="somePassw0rd!" --admin
</code></pre>
<p>Add a reviewer:</p>
<pre><code>$ bin/console user:create --first_name="Admin" --last_name="Name" --email="admin@opencfp.org" --password="somePassw0rd!" --reviewer
</code></pre>
<h3><a id="user-content-clear-caches" class="anchor" aria-hidden="true" href="#clear-caches"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#clear-caches">Clear Caches</a></h3>
<p>OpenCFP uses Twig as a templating engine and HTML Purifier for input filtering. Both of these packages maintain a cache.
If you need to clear all application caches:</p>
<pre><code>$ bin/console cache:clear
</code></pre>
<h3><a id="user-content-scripts-to-rule-them-all" class="anchor" aria-hidden="true" href="#scripts-to-rule-them-all"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#scripts-rule-all">Scripts to Rule Them All</a></h3>
<p>OpenCFP follows the <a href="https://github.com/github/scripts-to-rule-them-all">Scripts to Rule Them All</a> pattern. This allows
for an easy to follow convention for common tasks when developing applications.</p>
<h4><a id="user-content-initial-setup" class="anchor" aria-hidden="true" href="#initial-setup"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Initial Setup</h4>
<p>This command will install all dependencies, run database migrations, and alert you of any missing configs.</p>
<pre><code>$ composer run setup-env
</code></pre>
<h4><a id="user-content-update-application" class="anchor" aria-hidden="true" href="#update-application"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Update Application</h4>
<p>This command will update all dependencies and run new migrations</p>
<pre><code>$ composer run update-env
</code></pre>
<h4><a id="user-content-run-tests" class="anchor" aria-hidden="true" href="#run-tests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run Tests</h4>
<p>This command will run the PHPUnit test suite using distributed phpunit config, <code>phpunit.xml.dist</code>, if
no phpunit.xml is found in the root.</p>
<pre><code>$ composer run test
</code></pre>
<h2><a id="user-content-compiling-frontend-assets" class="anchor" aria-hidden="true" href="#compiling-frontend-assets"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#compiling-frontend-assets">Compiling Frontend Assets</a></h2>
<p>OpenCFP ships with a pre-compiled CSS file. However, we now include the Sass / PostCSS used to compile front-end assets. You are free to modify these source files to change brand colors or modify your instance however you see fit. Remember, you can do <strong>nothing</strong> and take advantage of the pre-compiled CSS we ship. You only need these instructions if you want to customize or contribute to the look and feel of OpenCFP. Let's take a look at this new workflow for OpenCFP.</p>
<p>Install Node dependencies using <code>yarn</code>.</p>
<div class="highlight highlight-source-shell"><pre>yarn install</pre></div>
<p>Now dependencies are installed and we're ready to compile assets. Check out the <code>scripts</code> section of <code>package.json</code>. A normal development workflow is to run either <code>yarn run watch</code> or <code>yarn run watch-poll</code> (for OS that don't have <code>fs-events</code>) and begin work. When you make changes to Sass files, Webpack will recompile assets, but it doesn't compress the output. To do that, run <code>yarn run prod</code> (an alias for <code>yarn run production</code>). This will run the same compilation, but will compress the output.</p>
<p>The main <code>app.scss</code> file is at <a href="resources/assets/sass/app.scss"><code>resources/assets/sass/app.scss</code></a>. We use <a href="https://github.com/JeffreyWay/laravel-mix">Laravel Mix</a> to compile our Sass. Mix is configurable to run without Laravel, so we take advantage of that because it really makes dealing with Webpack a lot simpler. Our Mix configuration is at <a href="webpack.mix.js"><code>webpack.mix.js</code></a>. In it, we run our <code>app.scss</code> through a Sass compilation step, we copy FontAwesome icons and finally run the compiled CSS through <a href="https://tailwindcss.com" rel="nofollow">Tailwind CSS</a>, a PostCSS plugin.</p>
<p>TailwindCSS is a new utility-first CSS framework that uses CSS class composition to piece together interfaces. Check out <a href="https://tailwindcss.com/docs/what-is-tailwind/" rel="nofollow">their documentation</a> for more information on how to use the framework. We use it extensively across OpenCFP and it saves a lot of time and keeps us from having to maintain <em>too much</em> CSS. If you take a look through our <code>app.scss</code>, you'll see a lot of calls to <a href="https://tailwindcss.com/docs/functions-and-directives#apply" rel="nofollow"><code>@apply</code></a>. This is NOT a Sass construct. It's a TailwindCSS function used to mixin existing classes into our custom CSS.</p>
<h2><a id="user-content-testing" class="anchor" aria-hidden="true" href="#testing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#testing">Testing</a></h2>
<p>There is a test suite that uses PHPUnit in the /tests directory. To set up
your environment for testing:</p>
<ol>
<li>Create a testing database, and update the name and credentials in
/config/testing.yml</li>
<li>The recommended way to run the tests is:</li>
</ol>
<pre><code>$ composer run test
</code></pre>
<p>The default phpunit.xml.dist file is in the root directory for the project.</p>
<h2><a id="user-content-troubleshooting" class="anchor" aria-hidden="true" href="#troubleshooting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="#troubleshooting">Troubleshooting</a></h2>
<p><strong>I'm getting weird permissions-related errors to do with HTML Purifier.</strong></p>
<p>You may need to edit directory permissions for some vendor packages such as HTML Purifier. Check the <code>/cache</code> directory's
permissions first.</p>
</article></div>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 15 May 2020</div><div class="column">Version: 1.3.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>