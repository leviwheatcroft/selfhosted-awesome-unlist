<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Content Management System for powering database driven websites using JSON schemas. Provides permission management and automatic REST APIs."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>expressa</h1></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info"><div class="github"><span class="pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>14 Mar 2020</span><span class="stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>309</span><span class="issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>9</span></div><div class="tags"><a class="button" href="/selfhosted-awesome-unlist/tags/content-management-systems-cms.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Content Management Systems (CMS)</a><a class="button" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>selfhosted</a></div></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><p><img src="expressa.png" alt="">
<a href="https://circleci.com/gh/thomas4019/expressa"><img src="https://circleci.com/gh/thomas4019/expressa.svg?style=svg" alt="CircleCI"></a></p>
<h2 id="data-driven-extendable-api-middleware-for-nodejsexpress">data-driven extendable API middleware for Node.js/Express</h2>
<p>Expressa makes it easy to create basic APIs by using <a href="http://json-schema.org">JSON schema</a>:</p>
<ul>
<li>django-like <strong>admin interface</strong> for creating collection-<strong>REST</strong> endpoints and managing permissions </li>
<li>collection schema&#39;s can be edited <em>and</em> added <strong>through the admin interface</strong> </li>
<li>re-use collection schema&#39;s in your frontend to generate forms</li>
<li>easily extendable so you can add complex features as well</li>
<li>define collections as <a href="http://json-schema.org">JSON schema</a> instead of custom code</li>
<li>per-collection database storage: <em>MongoDB</em>, <em>PostgreSQL</em>, or <em>JSON-files</em> (useful for version control)</li>
</ul>
<blockquote>
<p>Best of all: it&#39;s just middleware, not a framework </p>
</blockquote>
<ul>
<li>mix-and-mash: easily throw in other express middleware and endpoints </li>
<li>decorate expressa-endpoints: add event listeners which stop/modify requests (responses)</li>
</ul>
<hr>
<h2 id="getting-started">Getting Started</h2>
<p>It&#39;s very easy to install expressa in your project directory:</p>
<pre><code>mkdir myapp
cd myapp
npm init
npm install expressa expressa-admin express</code></pre><p>Create a file <code>app.js</code> with the following code (or just copy the middle 3 lines into your existing express app)</p>
<pre><code>var express = require(&#39;express&#39;);
var app = express();

var expressa = require(&#39;expressa&#39;);
app.use(&#39;/api&#39;, expressa.api());            // optionally pass in settings
app.use(&#39;/admin&#39;, expressa.admin({ apiurl: &#39;/api/&#39; }));

app.listen(3000, function () {
  console.log(&#39;Example app listening on port 3000!&#39;);
});</code></pre><p>Now start the server by running <code>node --use-strict app.js</code> and navigate your browser to <a href="http://localhost:3000/admin/">http://localhost:3000/admin/</a></p>
<h2 id="api-endpoints">API endpoints</h2>
<p>Once you add a collections in the admin interface, every collection will have the following endpoints:</p>
<table>
<thead>
<tr>
<th>method</th>
<th>endpoint</th>
<th>description</th>
</tr>
</thead>
<tbody><tr>
<td>POST</td>
<td>/user/login</td>
<td>expects JSON in the message body. e.g. `{&quot;email&quot;: &quot;<a href="mailto:email@example.com">email@example.com</a>&quot;, password: &quot;<the password>&quot;}</td>
</tr>
<tr>
<td>GET</td>
<td>/:collection</td>
<td>get an array of all documents in a collection</td>
</tr>
<tr>
<td>GET</td>
<td>/:collection/:id</td>
<td>get a specific document</td>
</tr>
<tr>
<td>GET</td>
<td>/:collection/?query={..}</td>
<td>get an array of documents matching the <a href="https://www.npmjs.com/package/mongo-query">mongo query</a>. For pagination append <code>&amp;skip=0&amp;offset=0&amp;limit=6</code></td>
</tr>
<tr>
<td>GET</td>
<td>/:collection/?query={..}&amp;limit=10&amp;page=1&amp;orderby=[&quot;meta.created&quot;]</td>
<td>same as previous, but with pagination support</td>
</tr>
<tr>
<td>GET</td>
<td>/:collection/?query={..}&amp;limit=10&amp;offset=10</td>
<td>same as previous, but with finergrained output control</td>
</tr>
<tr>
<td>GET</td>
<td>/:collection/?fieldname=value</td>
<td>get an array of documents matching with the specified values. See <a href="https://github.com/Turistforeningen/node-mongo-querystring">node-mongo-querystring</a> for details.</td>
</tr>
<tr>
<td>GET</td>
<td>/:collection/schema</td>
<td>get the collection schema</td>
</tr>
<tr>
<td>POST</td>
<td>/:collection/</td>
<td>create a new document, the message body should be the JSON document</td>
</tr>
<tr>
<td>PUT</td>
<td>/:collection/:id</td>
<td>replace the document with id. The message body should be the JSON document. If the _id in document is different (the old document _id is deleted and a new one with id is created.)</td>
</tr>
<tr>
<td>POST</td>
<td>/:collection/:id/update</td>
<td>modify the document with id using a <a href="https://docs.mongodb.com/manual/reference/method/db.collection.update/#update-parameter">mongo update query</a>. The message body should be the update query</td>
</tr>
<tr>
<td>DELETE</td>
<td>/:collection/:id</td>
<td>delete the document</td>
</tr>
</tbody></table>
<blockquote>
<p>Supported Data: Only standard JSON (strings, numbers, booleans, null) is supported. Dates can be stored as strings using <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></p>
</blockquote>
<p>Each object will contain this meta property which has autogenerated fields shared across all collection types:</p>
<pre><code class="language-javascript">  &quot;meta&quot;: {
    &quot;created&quot;: &quot;2016-05-16T23:56:11.615Z&quot;,
    &quot;updated&quot;: &quot;2016-05-16T23:56:28.262Z&quot;,
    &quot;owner&quot;: &quot;56cb5df7f56ef0b92f7b984b&quot;
  },</code></pre>
<h2 id="documentation">Documentation</h2>
<ul>
<li><a href="doc/authentication.md">How to make authenticated requests</a></li>
<li><a href="doc/querying.md">Pagination and sorting</a></li>
<li><a href="doc/listeners.md">Modifying behavior using listeners</a></li>
<li><a href="doc/custom-endpoints.md">Adding custom endpoints</a></li>
<li><a href="doc/database.md">Accessing the database</a></li>
<li><a href="doc/relationships.md">Relationships</a></li>
<li><a href="https://www.npmjs.com/package/expressa-swagger">Online generated documentation + browser REST client</a></li>
<li><a href="doc/testing.md">Testing / CI integrating your expressa app</a></li>
<li><a href="doc/uploading-files.md">Uploading files</a></li>
</ul>
<h1 id="folder-structure">Folder Structure</h1>
<p>Expressa config is primarily stored in a folder called &quot;data&quot; inside your project. Inside this, there is a subfolder for some collections (those you choose to persist to disk). By default, the following will be added once you finish the install process.</p>
<table>
<thead>
<tr>
<th>folder</th>
<th>purpose</th>
</tr>
</thead>
<tbody><tr>
<td>settings</td>
<td>Config for each environment. Can include custom variables specific to your project.</td>
</tr>
<tr>
<td>role</td>
<td>List of roles in the system. Defaults to &quot;Admin&quot;, &quot;Anonymous&quot; and &quot;Authenticated&quot;.</td>
</tr>
<tr>
<td>collection</td>
<td>JSON Schemas and settings for each collection.</td>
</tr>
</tbody></table>
<p>Note that the files in these folders are just JSON so they can be manually updated or you can edit them in the Admin UI.</p>
<h1 id="admin-ui-examplesscreenshots">Admin UI Examples/Screenshots</h1>
<ul>
<li><a href="doc/blogexample.md">Example: Creating a blog collection and post in the UI</a></li>
<li><a href="doc/permissions.md">Managing CRUD permissions in the UI</a></li>
</ul>
<h2 id="expressa-ecosystem">Expressa ecosystem</h2>
<ul>
<li><a href="https://npmjs.org/package/expressa-folder">expressa-folder</a> easily extend expressa collections with ORM-ish js-code (get.js/post.js/functions.js/etc) &amp; setup sub-endpoints</li>
<li><a href="https://npmjs.org/package/expressa-swagger">expressa-swagger</a> middleware to generate online api documentation</li>
<li><a href="https://npmjs.org/package/expressa-client">expressa-client</a> middleware to generate browser REST-client (+nodejs client)</li>
<li><a href="https://npmjs.org/package/expressa-cli">expressa-cli</a> commandline interface for expressa </li>
</ul>
<h2 id="roadmap">Roadmap</h2>
<ul>
<li>Automatic GraphQL Support</li>
<li>JWT token expiration</li>
<li>Support cookie based authentication as well</li>
<li>File uploads</li>
</ul>
<h2 id="alternatives">Alternatives</h2>
<p>Expressa is not primarily built for simple blog websites or mostly static content websites. For those a cms like Keystone.js and enduro.js could work or maybe you could build you site with a static site generator like Hugo. For database-driven websites that need a strong CRUD backend where you want a clear separation between the frontend and backend, expressa.js is a great choice.</p>
<h2 id="changelog">Changelog</h2>
<ul>
<li>Due to many changes, please test your site thoroughly after updating to 0.4 before releasing to production.</li>
</ul>
<table>
<thead>
<tr>
<th>version</th>
<th>important changes</th>
</tr>
</thead>
<tbody><tr>
<td>0.4.1</td>
<td>db.create (postgres) now returns the id instead of the full document.</td>
</tr>
<tr>
<td>0.4.0</td>
<td>Pagination now starts with page 1. Delete requests can no longer bypass rejections by listeners. Updated permission error codes/messages. Error responses now always json (with an &quot;error&quot; field explaining) PUT /collection/:id response changed to match POST /collection</td>
</tr>
<tr>
<td>0.3.3</td>
<td>Fixes security vulnerability with the &quot;edit own&quot; permission and the :collection/:id/update endpoint. Update immediately.</td>
</tr>
<tr>
<td>0.3.2</td>
<td>Pagination is now supported by specifying the &quot;page&quot; and &quot;limit&quot;</td>
</tr>
<tr>
<td>0.3.1</td>
<td>Makes &quot;development&quot; the default settings file instead of &quot;production&quot;. Use NODE_ENV environmental variable to change this. To quickly migrate, just rename your settings file to &quot;development&quot;.</td>
</tr>
</tbody></table>
<h2 id="inspired-by">Inspired by</h2>
<ul>
<li><a href="http://deployd.com/">deployd</a> (API design)</li>
<li><a href="https://www.djangoproject.com/">Django</a> (admin UI)</li>
<li><a href="https://www.drupal.org/">Drupal</a> (roles/permissions)</li>
</ul>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 02 May 2020</div><div class="column">Version: 1.1.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>