<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Very minimalistic  website statistics tool."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>kis3</h1><span class="subheading">Very minimalistic  website statistics tool.</span><div class="links"><a class="button button-outline" href="https://kis3.dev"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>KISSS</a><a class="button button-outline" href="https://github.com/kis3/kis3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>Source Code</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>23 Apr 2020</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>34</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>2</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/tags/go.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">91</span>go</a><a class="tag" href="/selfhosted-awesome-unlist/tags/analytics.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">24</span>analytics</a><a class="tag" href="/selfhosted-awesome-unlist/tags/golang.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">27</span>golang</a><a class="tag" href="/selfhosted-awesome-unlist/tags/privacy.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">15</span>privacy</a><a class="tag" href="/selfhosted-awesome-unlist/tags/statistics.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">2</span>statistics</a><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>webstats</span><a class="tag" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">943</span>selfhosted</a><a class="tag" href="/selfhosted-awesome-unlist/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">327</span>docker</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><h1 id="kisss-keep-it-simple-stupid-stats-aka-kis3">KISSS (Keep It Simple Stupid Stats) a.k.a kis3</h1>
<blockquote>
<p>I started to develop KISSS because I need a simple and privacy respecting method to collect visitor statistics of my website. I don&#39;t need any fancy dashboard, but I want to get exactly the stats I need. I need something fast, that is able to run even on really low end hardware like a Raspberry Pi.</p>
</blockquote>
<h2 id="how-to-install">How to install</h2>
<p>KISSS is really easy to install via Docker.</p>
<pre><code class="language-bash">docker run -d --name kis3 -p 8080:8080 -v kis3:/app/data -v ${pwd}/config.json:/app/config.json kis3/kis3</code></pre>
<p>Depending on your setup, replace <code>-p 8080:8080</code> with your custom port configuration. KISSS listens to port 8080 by default, but you can also change this via the configuration.</p>
<p>To persist the data KISSS collects, you should mount a volume or a folder to <code>/app/data</code>. When mounting an folder, give writing permissions to UID 100, because it is a non-root image to make it more secure.</p>
<p>You should also mount a configuration file to <code>/app/config.json</code>.</p>
<h3 id="build-from-source">Build from source</h3>
<p>It&#39;s also possible to use KISSS without Docker, but for that you need to compile it yourself. All you need to do so is installing go (follow the <a href="https://golang.org/doc/install">instruction</a> or use <a href="https://distro.tools">distro.tools</a> to install the latest version on Linux - you need at least version 1.14) and execute the following command:</p>
<pre><code class="language-bash">go get -u kis3.dev/kis3</code></pre>
<p>After that there should be an executable with the name <code>kis3</code> in <code>$HOME/go/bin</code>.</p>
<h2 id="configuration">Configuration</h2>
<p>You can configure some settings using a <code>config.json</code> file in the working directory or provide a custom path to it using the <code>-c</code> CLI flag:</p>
<p><code>port</code> (<code>8080</code>): Set the port to which KISSS should listen</p>
<p><code>baseUrl</code> (optional, required for Telegram): Set the base URL on which KISSS runs</p>
<p><code>dnt</code> (<code>true</code>): Set whether or not KISSS should respect Do-Not-Track headers some browsers send</p>
<p><code>dbPath</code> (<code>data/kis3.db</code>): Set the path for the SQLite database (relative to the working directory - in the Docker container it&#39;s <code>/app</code>).</p>
<p>You can make the statistics private and only accessible with authentication by setting both <code>statsUsername</code> and <code>statsPassword</code> to a username and password. If only one or none is set, the statistics are accessible without authorization and public to anyone.</p>
<p>The configuration file can look like this:</p>
<pre><code class="language-json">{
  &quot;port&quot;: 8080,
  &quot;dnt&quot;: true,
  &quot;dbPath&quot;: &quot;data/kis3.db&quot;,
  &quot;statsUsername&quot;: &quot;myusername&quot;,
  &quot;statsPassword&quot;: &quot;mysecretpassword&quot;
}</code></pre>
<p>If you specify an environment variable (<code>PORT</code>, <code>BASE_URL</code>, <code>DNT</code>, <code>DB_PATH</code>, <code>STATS_USERNAME</code>, <code>STATS_PASSWORD</code>), that will override the settings from the configuration file.</p>
<h3 id="email">Email</h3>
<p>To enable email integration for sending reports, you need to add some configuration values for that:</p>
<p><code>smtpFrom</code>: Sender address for the emails</p>
<p><code>smtpHost</code>: Address of the mail server (including port)</p>
<p><code>smtpUser</code>: Username for SMTP login</p>
<p><code>smtpPassword</code>: Password for SMTP login</p>
<h3 id="telegram">Telegram</h3>
<p>The Telegram integration allows sending reports via Telegram and also requesting stats via Telegram. For that the following configuration value must be set:</p>
<p><code>tgBotToken</code>: Token for the Telegram bot, which you can request via the <a href="https://t.me/BotFather">Bot Father</a></p>
<p><code>tgHookSecret</code> (optional): Secret, so nobody (except KISSS and Telegram) knows the URL to which Telegram should send updates about new messages</p>
<h2 id="add-to-website">Add to website</h2>
<p>You can add the KISSS tracker to any website by putting <code>&lt;script src=&quot;https://yourkis3domain.tld/kis3.js&quot;&gt;&lt;/script&gt;</code> just before <code>&lt;/body&gt;</code> in the HTML. Just replace <code>yourkis3domain.tld</code> with the correct address.</p>
<h2 id="requesting-stats">Requesting stats</h2>
<p>You can request statistics via the <code>/stats</code> endpoint and specifying filters via query parameters (<code>?view=hours&amp;format=chart</code> etc.). By combining this filters, you can exactly request the stats you want to get.</p>
<p>The following filters are available:</p>
<p><code>view</code>: specify what data (and it&#39;s view counts) gets displayed, you have the option between <code>pages</code> (tracked URLS), <code>referrers</code> (tracked refererrers - only hostnames e.g. google.com), <code>useragents</code> (tracked useragents with version - browsers or crawl bots with version), <code>useragentnames</code> (tracked useragents without version), <code>os</code> (tracked operating systems), <code>hours</code> / <code>days</code> / <code>weeks</code> / <code>months</code> (tracks grouped by hours / days / weeks / months), <code>allhours</code> / <code>alldays</code> (tracks grouped by hours / days including hours or days with zero visits, spanning from first to last track in selection), <code>count</code> (count all tracked views where filters apply)</p>
<p><code>from</code>: start time of the selection in the format <code>YYYY-MM-DD HH:MM</code>, e.g. <code>2019-01</code> or <code>2019-01-01 01:00</code></p>
<p><code>to</code>: end time of the selection</p>
<p><code>fromrel</code> / <code>torel</code>: relative time from now for <code>to</code> or <code>from</code> (e.g <code>-2h45m</code>, valid time units are &quot;ns&quot;, &quot;us&quot; (or &quot;µs&quot;), &quot;ms&quot;, &quot;s&quot;, &quot;m&quot;, &quot;h&quot;</p>
<p><code>url</code>: filter URLs containing the string provided, so <code>word</code> filters out all URLs that don&#39;t contain <code>word</code></p>
<p><code>ref</code>: filter referrers containing the string provided, so <code>word</code> filters out all refferers that don&#39;t contain <code>word</code></p>
<p><code>ua</code>: filter user agents containing the string provided, so <code>Firefox</code> filters out all user agents that don&#39;t contain <code>Firefox</code></p>
<p><code>os</code>: filter operating systems containing the string provided, so <code>Windows</code> filters out all operating systems that don&#39;t contain <code>Windows</code></p>
<p><code>bots</code>: filter out bots (<code>0</code>) or show only bots (<code>1</code>)</p>
<p><code>ordercol</code>: column to use for ordering, <code>first</code> for the data groups, <code>second</code> for the view counts</p>
<p><code>order</code>: select whether to use ascending order (<code>ASC</code>) or descending order (<code>DESC</code>)</p>
<p><code>limit</code>: limit the number of rows returned</p>
<p><code>format</code>: the format to represent the data, default is <code>plain</code> for a simple plain text list, <code>json</code> for a JSON response or <code>chart</code> for a chart generated with ChartJS in the browser</p>
<h3 id="via-telegram">Via Telegram</h3>
<p>You can also request stats via Telegram (in case you enable the Telegram integration). To do so, simply send a message with the command <code>stats</code> like <code>/stats view=pages...</code>.</p>
<p>If you have authentication enabled, you need to add <code>username=yourusername&amp;password=yourpassword</code> to the query.</p>
<h2 id="daily-reports">Daily reports</h2>
<p>KISSS has a feature that can send you daily reports. It basically requests the statistics and sends the response via your preferred communication channel (mail or Telegram). You can configure it by adding report configurations to the configuration file:</p>
<pre><code class="language-json">{
  // Other configurations...
  &quot;reports&quot;: [
    {
      // Email configuration
      &quot;name&quot;: &quot;Daily stats from KISSS&quot;,
      &quot;time&quot;: &quot;15:00&quot;,
      &quot;query&quot;: &quot;view=pages&amp;bots=0&amp;ordercol=second&amp;order=desc&quot;,
      &quot;from&quot;: &quot;myemailaddress@mydomain.tld&quot;,
      &quot;to&quot;: &quot;myemailaddress@mydomain.tld&quot;
    },
    {
      // Telegram configuration
      &quot;name&quot;: &quot;Daily stats from KISSS&quot;,
      &quot;type&quot;: &quot;telegram&quot;, // Add this for Telegram
      &quot;time&quot;: &quot;15:00&quot;,
      &quot;query&quot;: &quot;view=pages&amp;bots=0&amp;ordercol=second&amp;order=desc&quot;,
      &quot;tgUserId&quot;: 123456
    },
    {
      // Additional reports...
    }
  ]
}</code></pre>
<p>You can find out your Telegram user id using <a href="https://t.me/userinfobot">@userinfobot</a>.</p>
<h2 id="license">License</h2>
<p>KISSS is licensed under the MIT license, so you can do basically everything with it, but nevertheless, please contribute your improvements to make KISSS better for everyone. See the LICENSE.txt file.</p>
<h1 id="kisss-keep-it-simple-stupid-stats-aka-kis3-1">KISSS (Keep It Simple Stupid Stats) a.k.a kis3</h1>
<blockquote>
<p>I started to develop KISSS because I need a simple and privacy respecting method to collect visitor statistics of my website. I don&#39;t need any fancy dashboard, but I want to get exactly the stats I need. I need something fast, that is able to run even on really low end hardware like a Raspberry Pi.</p>
</blockquote>
<h2 id="how-to-install-1">How to install</h2>
<p>KISSS is really easy to install via Docker.</p>
<pre><code class="language-bash">docker run -d --name kis3 -p 8080:8080 -v kis3:/app/data -v ${pwd}/config.json:/app/config.json kis3/kis3</code></pre>
<p>Depending on your setup, replace <code>-p 8080:8080</code> with your custom port configuration. KISSS listens to port 8080 by default, but you can also change this via the configuration.</p>
<p>To persist the data KISSS collects, you should mount a volume or a folder to <code>/app/data</code>. When mounting an folder, give writing permissions to UID 100, because it is a non-root image to make it more secure.</p>
<p>You should also mount a configuration file to <code>/app/config.json</code>.</p>
<h3 id="build-from-source-1">Build from source</h3>
<p>It&#39;s also possible to use KISSS without Docker, but for that you need to compile it yourself. All you need to do so is installing go (follow the <a href="https://golang.org/doc/install">instruction</a> or use <a href="https://distro.tools">distro.tools</a> to install the latest version on Linux - you need at least version 1.14) and execute the following command:</p>
<pre><code class="language-bash">go get -u kis3.dev/kis3</code></pre>
<p>After that there should be an executable with the name <code>kis3</code> in <code>$HOME/go/bin</code>.</p>
<h2 id="configuration-1">Configuration</h2>
<p>You can configure some settings using a <code>config.json</code> file in the working directory or provide a custom path to it using the <code>-c</code> CLI flag:</p>
<p><code>port</code> (<code>8080</code>): Set the port to which KISSS should listen</p>
<p><code>baseUrl</code> (optional, required for Telegram): Set the base URL on which KISSS runs</p>
<p><code>dnt</code> (<code>true</code>): Set whether or not KISSS should respect Do-Not-Track headers some browsers send</p>
<p><code>dbPath</code> (<code>data/kis3.db</code>): Set the path for the SQLite database (relative to the working directory - in the Docker container it&#39;s <code>/app</code>).</p>
<p>You can make the statistics private and only accessible with authentication by setting both <code>statsUsername</code> and <code>statsPassword</code> to a username and password. If only one or none is set, the statistics are accessible without authorization and public to anyone.</p>
<p>The configuration file can look like this:</p>
<pre><code class="language-json">{
  &quot;port&quot;: 8080,
  &quot;dnt&quot;: true,
  &quot;dbPath&quot;: &quot;data/kis3.db&quot;,
  &quot;statsUsername&quot;: &quot;myusername&quot;,
  &quot;statsPassword&quot;: &quot;mysecretpassword&quot;
}</code></pre>
<p>If you specify an environment variable (<code>PORT</code>, <code>BASE_URL</code>, <code>DNT</code>, <code>DB_PATH</code>, <code>STATS_USERNAME</code>, <code>STATS_PASSWORD</code>), that will override the settings from the configuration file.</p>
<h3 id="email-1">Email</h3>
<p>To enable email integration for sending reports, you need to add some configuration values for that:</p>
<p><code>smtpFrom</code>: Sender address for the emails</p>
<p><code>smtpHost</code>: Address of the mail server (including port)</p>
<p><code>smtpUser</code>: Username for SMTP login</p>
<p><code>smtpPassword</code>: Password for SMTP login</p>
<h3 id="telegram-1">Telegram</h3>
<p>The Telegram integration allows sending reports via Telegram and also requesting stats via Telegram. For that the following configuration value must be set:</p>
<p><code>tgBotToken</code>: Token for the Telegram bot, which you can request via the <a href="https://t.me/BotFather">Bot Father</a></p>
<p><code>tgHookSecret</code> (optional): Secret, so nobody (except KISSS and Telegram) knows the URL to which Telegram should send updates about new messages</p>
<h2 id="add-to-website-1">Add to website</h2>
<p>You can add the KISSS tracker to any website by putting <code>&lt;script src=&quot;https://yourkis3domain.tld/kis3.js&quot;&gt;&lt;/script&gt;</code> just before <code>&lt;/body&gt;</code> in the HTML. Just replace <code>yourkis3domain.tld</code> with the correct address.</p>
<h2 id="requesting-stats-1">Requesting stats</h2>
<p>You can request statistics via the <code>/stats</code> endpoint and specifying filters via query parameters (<code>?view=hours&amp;format=chart</code> etc.). By combining this filters, you can exactly request the stats you want to get.</p>
<p>The following filters are available:</p>
<p><code>view</code>: specify what data (and it&#39;s view counts) gets displayed, you have the option between <code>pages</code> (tracked URLS), <code>referrers</code> (tracked refererrers - only hostnames e.g. google.com), <code>useragents</code> (tracked useragents with version - browsers or crawl bots with version), <code>useragentnames</code> (tracked useragents without version), <code>os</code> (tracked operating systems), <code>hours</code> / <code>days</code> / <code>weeks</code> / <code>months</code> (tracks grouped by hours / days / weeks / months), <code>allhours</code> / <code>alldays</code> (tracks grouped by hours / days including hours or days with zero visits, spanning from first to last track in selection), <code>count</code> (count all tracked views where filters apply)</p>
<p><code>from</code>: start time of the selection in the format <code>YYYY-MM-DD HH:MM</code>, e.g. <code>2019-01</code> or <code>2019-01-01 01:00</code></p>
<p><code>to</code>: end time of the selection</p>
<p><code>fromrel</code> / <code>torel</code>: relative time from now for <code>to</code> or <code>from</code> (e.g <code>-2h45m</code>, valid time units are &quot;ns&quot;, &quot;us&quot; (or &quot;µs&quot;), &quot;ms&quot;, &quot;s&quot;, &quot;m&quot;, &quot;h&quot;</p>
<p><code>url</code>: filter URLs containing the string provided, so <code>word</code> filters out all URLs that don&#39;t contain <code>word</code></p>
<p><code>ref</code>: filter referrers containing the string provided, so <code>word</code> filters out all refferers that don&#39;t contain <code>word</code></p>
<p><code>ua</code>: filter user agents containing the string provided, so <code>Firefox</code> filters out all user agents that don&#39;t contain <code>Firefox</code></p>
<p><code>os</code>: filter operating systems containing the string provided, so <code>Windows</code> filters out all operating systems that don&#39;t contain <code>Windows</code></p>
<p><code>bots</code>: filter out bots (<code>0</code>) or show only bots (<code>1</code>)</p>
<p><code>ordercol</code>: column to use for ordering, <code>first</code> for the data groups, <code>second</code> for the view counts</p>
<p><code>order</code>: select whether to use ascending order (<code>ASC</code>) or descending order (<code>DESC</code>)</p>
<p><code>limit</code>: limit the number of rows returned</p>
<p><code>format</code>: the format to represent the data, default is <code>plain</code> for a simple plain text list, <code>json</code> for a JSON response or <code>chart</code> for a chart generated with ChartJS in the browser</p>
<h3 id="via-telegram-1">Via Telegram</h3>
<p>You can also request stats via Telegram (in case you enable the Telegram integration). To do so, simply send a message with the command <code>stats</code> like <code>/stats view=pages...</code>.</p>
<p>If you have authentication enabled, you need to add <code>username=yourusername&amp;password=yourpassword</code> to the query.</p>
<h2 id="daily-reports-1">Daily reports</h2>
<p>KISSS has a feature that can send you daily reports. It basically requests the statistics and sends the response via your preferred communication channel (mail or Telegram). You can configure it by adding report configurations to the configuration file:</p>
<pre><code class="language-json">{
  // Other configurations...
  &quot;reports&quot;: [
    {
      // Email configuration
      &quot;name&quot;: &quot;Daily stats from KISSS&quot;,
      &quot;time&quot;: &quot;15:00&quot;,
      &quot;query&quot;: &quot;view=pages&amp;bots=0&amp;ordercol=second&amp;order=desc&quot;,
      &quot;from&quot;: &quot;myemailaddress@mydomain.tld&quot;,
      &quot;to&quot;: &quot;myemailaddress@mydomain.tld&quot;
    },
    {
      // Telegram configuration
      &quot;name&quot;: &quot;Daily stats from KISSS&quot;,
      &quot;type&quot;: &quot;telegram&quot;, // Add this for Telegram
      &quot;time&quot;: &quot;15:00&quot;,
      &quot;query&quot;: &quot;view=pages&amp;bots=0&amp;ordercol=second&amp;order=desc&quot;,
      &quot;tgUserId&quot;: 123456
    },
    {
      // Additional reports...
    }
  ]
}</code></pre>
<p>You can find out your Telegram user id using <a href="https://t.me/userinfobot">@userinfobot</a>.</p>
<h2 id="license-1">License</h2>
<p>KISSS is licensed under the MIT license, so you can do basically everything with it, but nevertheless, please contribute your improvements to make KISSS better for everyone. See the LICENSE.txt file.</p>
<h1 id="kisss-keep-it-simple-stupid-stats-aka-kis3-2">KISSS (Keep It Simple Stupid Stats) a.k.a kis3</h1>
<blockquote>
<p>I started to develop KISSS because I need a simple and privacy respecting method to collect visitor statistics of my website. I don&#39;t need any fancy dashboard, but I want to get exactly the stats I need. I need something fast, that is able to run even on really low end hardware like a Raspberry Pi.</p>
</blockquote>
<h2 id="how-to-install-2">How to install</h2>
<p>KISSS is really easy to install via Docker.</p>
<pre><code class="language-bash">docker run -d --name kis3 -p 8080:8080 -v kis3:/app/data -v ${pwd}/config.json:/app/config.json kis3/kis3</code></pre>
<p>Depending on your setup, replace <code>-p 8080:8080</code> with your custom port configuration. KISSS listens to port 8080 by default, but you can also change this via the configuration.</p>
<p>To persist the data KISSS collects, you should mount a volume or a folder to <code>/app/data</code>. When mounting an folder, give writing permissions to UID 100, because it is a non-root image to make it more secure.</p>
<p>You should also mount a configuration file to <code>/app/config.json</code>.</p>
<h3 id="build-from-source-2">Build from source</h3>
<p>It&#39;s also possible to use KISSS without Docker, but for that you need to compile it yourself. All you need to do so is installing go (follow the <a href="https://golang.org/doc/install">instruction</a> or use <a href="https://distro.tools">distro.tools</a> to install the latest version on Linux - you need at least version 1.14) and execute the following command:</p>
<pre><code class="language-bash">go get -u kis3.dev/kis3</code></pre>
<p>After that there should be an executable with the name <code>kis3</code> in <code>$HOME/go/bin</code>.</p>
<h2 id="configuration-2">Configuration</h2>
<p>You can configure some settings using a <code>config.json</code> file in the working directory or provide a custom path to it using the <code>-c</code> CLI flag:</p>
<p><code>port</code> (<code>8080</code>): Set the port to which KISSS should listen</p>
<p><code>baseUrl</code> (optional, required for Telegram): Set the base URL on which KISSS runs</p>
<p><code>dnt</code> (<code>true</code>): Set whether or not KISSS should respect Do-Not-Track headers some browsers send</p>
<p><code>dbPath</code> (<code>data/kis3.db</code>): Set the path for the SQLite database (relative to the working directory - in the Docker container it&#39;s <code>/app</code>).</p>
<p>You can make the statistics private and only accessible with authentication by setting both <code>statsUsername</code> and <code>statsPassword</code> to a username and password. If only one or none is set, the statistics are accessible without authorization and public to anyone.</p>
<p>The configuration file can look like this:</p>
<pre><code class="language-json">{
  &quot;port&quot;: 8080,
  &quot;dnt&quot;: true,
  &quot;dbPath&quot;: &quot;data/kis3.db&quot;,
  &quot;statsUsername&quot;: &quot;myusername&quot;,
  &quot;statsPassword&quot;: &quot;mysecretpassword&quot;
}</code></pre>
<p>If you specify an environment variable (<code>PORT</code>, <code>BASE_URL</code>, <code>DNT</code>, <code>DB_PATH</code>, <code>STATS_USERNAME</code>, <code>STATS_PASSWORD</code>), that will override the settings from the configuration file.</p>
<h3 id="email-2">Email</h3>
<p>To enable email integration for sending reports, you need to add some configuration values for that:</p>
<p><code>smtpFrom</code>: Sender address for the emails</p>
<p><code>smtpHost</code>: Address of the mail server (including port)</p>
<p><code>smtpUser</code>: Username for SMTP login</p>
<p><code>smtpPassword</code>: Password for SMTP login</p>
<h3 id="telegram-2">Telegram</h3>
<p>The Telegram integration allows sending reports via Telegram and also requesting stats via Telegram. For that the following configuration value must be set:</p>
<p><code>tgBotToken</code>: Token for the Telegram bot, which you can request via the <a href="https://t.me/BotFather">Bot Father</a></p>
<p><code>tgHookSecret</code> (optional): Secret, so nobody (except KISSS and Telegram) knows the URL to which Telegram should send updates about new messages</p>
<h2 id="add-to-website-2">Add to website</h2>
<p>You can add the KISSS tracker to any website by putting <code>&lt;script src=&quot;https://yourkis3domain.tld/kis3.js&quot;&gt;&lt;/script&gt;</code> just before <code>&lt;/body&gt;</code> in the HTML. Just replace <code>yourkis3domain.tld</code> with the correct address.</p>
<h2 id="requesting-stats-2">Requesting stats</h2>
<p>You can request statistics via the <code>/stats</code> endpoint and specifying filters via query parameters (<code>?view=hours&amp;format=chart</code> etc.). By combining this filters, you can exactly request the stats you want to get.</p>
<p>The following filters are available:</p>
<p><code>view</code>: specify what data (and it&#39;s view counts) gets displayed, you have the option between <code>pages</code> (tracked URLS), <code>referrers</code> (tracked refererrers - only hostnames e.g. google.com), <code>useragents</code> (tracked useragents with version - browsers or crawl bots with version), <code>useragentnames</code> (tracked useragents without version), <code>os</code> (tracked operating systems), <code>hours</code> / <code>days</code> / <code>weeks</code> / <code>months</code> (tracks grouped by hours / days / weeks / months), <code>allhours</code> / <code>alldays</code> (tracks grouped by hours / days including hours or days with zero visits, spanning from first to last track in selection), <code>count</code> (count all tracked views where filters apply)</p>
<p><code>from</code>: start time of the selection in the format <code>YYYY-MM-DD HH:MM</code>, e.g. <code>2019-01</code> or <code>2019-01-01 01:00</code></p>
<p><code>to</code>: end time of the selection</p>
<p><code>fromrel</code> / <code>torel</code>: relative time from now for <code>to</code> or <code>from</code> (e.g <code>-2h45m</code>, valid time units are &quot;ns&quot;, &quot;us&quot; (or &quot;µs&quot;), &quot;ms&quot;, &quot;s&quot;, &quot;m&quot;, &quot;h&quot;</p>
<p><code>url</code>: filter URLs containing the string provided, so <code>word</code> filters out all URLs that don&#39;t contain <code>word</code></p>
<p><code>ref</code>: filter referrers containing the string provided, so <code>word</code> filters out all refferers that don&#39;t contain <code>word</code></p>
<p><code>ua</code>: filter user agents containing the string provided, so <code>Firefox</code> filters out all user agents that don&#39;t contain <code>Firefox</code></p>
<p><code>os</code>: filter operating systems containing the string provided, so <code>Windows</code> filters out all operating systems that don&#39;t contain <code>Windows</code></p>
<p><code>bots</code>: filter out bots (<code>0</code>) or show only bots (<code>1</code>)</p>
<p><code>ordercol</code>: column to use for ordering, <code>first</code> for the data groups, <code>second</code> for the view counts</p>
<p><code>order</code>: select whether to use ascending order (<code>ASC</code>) or descending order (<code>DESC</code>)</p>
<p><code>limit</code>: limit the number of rows returned</p>
<p><code>format</code>: the format to represent the data, default is <code>plain</code> for a simple plain text list, <code>json</code> for a JSON response or <code>chart</code> for a chart generated with ChartJS in the browser</p>
<h3 id="via-telegram-2">Via Telegram</h3>
<p>You can also request stats via Telegram (in case you enable the Telegram integration). To do so, simply send a message with the command <code>stats</code> like <code>/stats view=pages...</code>.</p>
<p>If you have authentication enabled, you need to add <code>username=yourusername&amp;password=yourpassword</code> to the query.</p>
<h2 id="daily-reports-2">Daily reports</h2>
<p>KISSS has a feature that can send you daily reports. It basically requests the statistics and sends the response via your preferred communication channel (mail or Telegram). You can configure it by adding report configurations to the configuration file:</p>
<pre><code class="language-json">{
  // Other configurations...
  &quot;reports&quot;: [
    {
      // Email configuration
      &quot;name&quot;: &quot;Daily stats from KISSS&quot;,
      &quot;time&quot;: &quot;15:00&quot;,
      &quot;query&quot;: &quot;view=pages&amp;bots=0&amp;ordercol=second&amp;order=desc&quot;,
      &quot;from&quot;: &quot;myemailaddress@mydomain.tld&quot;,
      &quot;to&quot;: &quot;myemailaddress@mydomain.tld&quot;
    },
    {
      // Telegram configuration
      &quot;name&quot;: &quot;Daily stats from KISSS&quot;,
      &quot;type&quot;: &quot;telegram&quot;, // Add this for Telegram
      &quot;time&quot;: &quot;15:00&quot;,
      &quot;query&quot;: &quot;view=pages&amp;bots=0&amp;ordercol=second&amp;order=desc&quot;,
      &quot;tgUserId&quot;: 123456
    },
    {
      // Additional reports...
    }
  ]
}</code></pre>
<p>You can find out your Telegram user id using <a href="https://t.me/userinfobot">@userinfobot</a>.</p>
<h2 id="license-2">License</h2>
<p>KISSS is licensed under the MIT license, so you can do basically everything with it, but nevertheless, please contribute your improvements to make KISSS better for everyone. See the LICENSE.txt file.</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 06 May 2020</div><div class="column">Version: 1.1.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>