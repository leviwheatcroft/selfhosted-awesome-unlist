<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Simple file sharing and pastebin with API, auto-expiry, deletion keys, and web seed support."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a><ul class="navigation-list float-right"><li class="navigation-item"><a class="navigation-link" href="https://github.com/leviwheatcroft/selfhosted-awesome-unlist"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>github</a></li></ul></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>linx-server</h1><span class="subheading"></span><div class="links"><a class="button button-outline" href="https://github.com/andreimarcu/linx-server"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>linx-server</a><a class="button button-outline" href="https://demo.linx-server.net/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>Demo</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info"><div class="github"><span class="pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>17 Apr 2020</span><span class="stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>764</span><span class="issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>25</span></div><div class="tags"><a class="button" href="/selfhosted-awesome-unlist/tags/go.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Go</a><a class="button" href="/selfhosted-awesome-unlist/tags/file-sharing-and-synchronization.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>File Sharing and Synchronization</a><a class="button" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>selfhosted</a><a class="button" href="/selfhosted-awesome-unlist/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Docker</a></div></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><h1 id="linx-server">linx-server </h1>
<p><a href="https://travis-ci.org/andreimarcu/linx-server"><img src="https://travis-ci.org/andreimarcu/linx-server.svg?branch=master" alt="Build Status"></a>  </p>
<p>Self-hosted file/media sharing website.  </p>
<h3 id="demo">Demo</h3>
<p>You can see what it looks like using the demo: <a href="https://demo.linx-server.net/">https://demo.linx-server.net/</a></p>
<h3 id="features">Features</h3>
<ul>
<li>Display common filetypes (image, video, audio, markdown, pdf)  </li>
<li>Display syntax-highlighted code with in-place editing</li>
<li>Documented API with keys if need to restrict uploads (can use <a href="https://github.com/andreimarcu/linx-client">linx-client</a> for uploading through command-line)</li>
<li>Torrent download of files using web seeding</li>
<li>File expiry, deletion key, file access key, and random filename options</li>
</ul>
<h3 id="screenshots">Screenshots</h3>
<img width="730" src="https://user-images.githubusercontent.com/4650950/76579039-03c82680-6488-11ea-8e23-4c927386fbd9.png" />

<p><img width="180" src="https://user-images.githubusercontent.com/4650950/76578903-771d6880-6487-11ea-8baf-a4a23fef4d26.png" /> <img width="180" src="https://user-images.githubusercontent.com/4650950/76578910-7be21c80-6487-11ea-9a0a-587d59bc5f80.png" /> <img width="180" src="https://user-images.githubusercontent.com/4650950/76578908-7b498600-6487-11ea-8994-ee7b6eb9cdb1.png" /> <img width="180" src="https://user-images.githubusercontent.com/4650950/76578907-7b498600-6487-11ea-8941-8f582bf87fb0.png" /></p>
<h2 id="getting-started">Getting started</h2>
<h4 id="using-docker">Using Docker</h4>
<p>Example running</p>
<pre><code>docker run -p 8080:8080 -v /path/to/meta:/data/meta -v /path/to/files:/data/files andreimarcu/linx-server</code></pre><p>Example with docker-compose </p>
<pre><code>version: &#39;2.2&#39;
services:
  linx-server:
    container_name: linx-server
    image: andreimarcu/linx-server
    entrypoint: /usr/local/bin/linx-server -bind=0.0.0.0:8080 -filespath=/data/files/ -metapath=/data/meta/
    command: -sitename=Linx -siteurl=https://linx.example.com 
    volumes:
      - /path/to/files:/data/files
      - /path/to/meta:/data/meta
    network_mode: bridge
    ports:
      - &quot;8080:8080&quot;
    restart: unless-stopped</code></pre><p>Ideally, you would use a reverse proxy such as nginx or caddy to handle TLS certificates.</p>
<h4 id="using-a-binary-release">Using a binary release</h4>
<ol>
<li>Grab the latest binary from the <a href="https://github.com/andreimarcu/linx-server/releases">releases</a></li>
<li>Run <code>./linx-server</code></li>
</ol>
<h2 id="usage">Usage</h2>
<h4 id="configuration">Configuration</h4>
<p>All configuration options are accepted either as arguments or can be placed in an ini-style file as such:  </p>
<pre><code class="language-ini">maxsize = 4294967296
allowhotlink = true
# etc</code></pre>
<p>...and then invoke <code>linx-server -config path/to/config.ini</code>    </p>
<h4 id="options">Options</h4>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>-bind 127.0.0.1:8080</code></td>
<td>what to bind to  (default is 127.0.0.1:8080)</td>
</tr>
<tr>
<td><code>-sitename myLinx</code></td>
<td>the site name displayed on top (default is inferred from Host header)</td>
</tr>
<tr>
<td><code>-siteurl &quot;https://mylinx.example.org/&quot;</code></td>
<td>the site url (default is inferred from execution context)</td>
</tr>
<tr>
<td><code>-selifpath &quot;selif&quot;</code></td>
<td>path relative to site base url (the &quot;selif&quot; in mylinx.example.org/selif/image.jpg) where files are accessed directly (default: selif)</td>
</tr>
<tr>
<td><code>-maxsize 4294967296</code></td>
<td>maximum upload file size in bytes (default 4GB)</td>
</tr>
<tr>
<td><code>-maxexpiry 86400</code></td>
<td>maximum expiration time in seconds (default is 0, which is no expiry)</td>
</tr>
<tr>
<td><code>-allowhotlink</code></td>
<td>Allow file hotlinking</td>
</tr>
<tr>
<td><code>-contentsecuritypolicy &quot;...&quot;</code></td>
<td>Content-Security-Policy header for pages (default is &quot;default-src &#39;self&#39;; img-src &#39;self&#39; data:; style-src &#39;self&#39; &#39;unsafe-inline&#39;; frame-ancestors &#39;self&#39;;&quot;)</td>
</tr>
<tr>
<td><code>-filecontentsecuritypolicy &quot;...&quot;</code></td>
<td>Content-Security-Policy header for files (default is &quot;default-src &#39;none&#39;; img-src &#39;self&#39;; object-src &#39;self&#39;; media-src &#39;self&#39;; style-src &#39;self&#39; &#39;unsafe-inline&#39;; frame-ancestors &#39;self&#39;;&quot;)</td>
</tr>
<tr>
<td><code>-refererpolicy &quot;...&quot;</code></td>
<td>Referrer-Policy header for pages (default is &quot;same-origin&quot;)</td>
</tr>
<tr>
<td><code>-filereferrerpolicy &quot;...&quot;</code></td>
<td>Referrer-Policy header for files (default is &quot;same-origin&quot;)</td>
</tr>
<tr>
<td><code>-xframeoptions &quot;...&quot;</code></td>
<td>X-Frame-Options header (default is &quot;SAMEORIGIN&quot;)</td>
</tr>
<tr>
<td><code>-remoteuploads</code></td>
<td>(optionally) enable remote uploads (/upload?url=https://...)</td>
</tr>
<tr>
<td><code>-nologs</code></td>
<td>(optionally) disable request logs in stdout</td>
</tr>
<tr>
<td><code>-force-random-filename</code></td>
<td>(optionally) force the use of random filenames</td>
</tr>
<tr>
<td><code>-custompagespath &quot;custom_pages&quot;</code></td>
<td>(optionally) specify path to directory containing markdown pages (must end in .md) that will be added to the site navigation (this can be useful for providing contact/support information and so on). For example, custom_pages/My_Page.md will become My Page in the site navigation</td>
</tr>
</tbody></table>
<h4 id="require-api-keys-for-uploads">Require API Keys for uploads</h4>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>-authfile path/to/authfile</code></td>
<td>(optionally) require authorization for upload/delete by providing a newline-separated file of scrypted auth keys</td>
</tr>
<tr>
<td><code>-remoteauthfile path/to/remoteauthfile</code></td>
<td>(optionally) require authorization for remote uploads by providing a newline-separated file of scrypted auth keys</td>
</tr>
<tr>
<td><code>-basicauth</code></td>
<td>(optionally) allow basic authorization to upload or paste files from browser when <code>-authfile</code> is enabled. When uploading, you will be prompted to enter a user and password - leave the user blank and use your auth key as the password</td>
</tr>
</tbody></table>
<p>A helper utility <code>linx-genkey</code> is provided which hashes keys to the format required in the auth files.</p>
<h4 id="storage-backends">Storage backends</h4>
<p>The following storage backends are available:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Notes</th>
<th>Options</th>
</tr>
</thead>
<tbody><tr>
<td>LocalFS</td>
<td>Enabled by default, this backend uses the filesystem</td>
<td><code>-filespath files/</code> -- Path to store uploads (default is files/)<br /><code>-metapath meta/</code> -- Path to store information about uploads (default is meta/)</td>
</tr>
<tr>
<td>S3</td>
<td>Use with any S3-compatible provider.<br> This implementation will stream files through the linx instance (every download will request and stream the file from the S3 bucket).<br><br>For high-traffic environments, one might consider using an external caching layer such as described <a href="https://blog.sentry.io/2017/03/01/dodging-s3-downtime-with-nginx-and-haproxy.html">in this article</a>.</td>
<td><code>-s3-endpoint https://...</code> -- S3 endpoint<br><code>-s3-region us-east-1</code> -- S3 region<br><code>-s3-bucket mybucket</code> -- S3 bucket to use for files and metadata<br><code>-s3-force-path-style</code> (optional) -- force path-style addresing (e.g. https://<span></span>s3.amazonaws.com/linx/example.txt)<br><br>Environment variables to provide:<br><code>AWS_ACCESS_KEY_ID</code> -- the S3 access key<br><code>AWS_SECRET_ACCESS_KEY</code> -- the S3 secret key<br><code>AWS_SESSION_TOKEN</code> (optional) -- the S3 session token</td>
</tr>
</tbody></table>
<h4 id="ssl-with-built-in-server">SSL with built-in server</h4>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>-certfile path/to/your.crt</code></td>
<td>Path to the ssl certificate (required if you want to use the https server)</td>
</tr>
<tr>
<td><code>-keyfile path/to/your.key</code></td>
<td>Path to the ssl key (required if you want to use the https server)</td>
</tr>
</tbody></table>
<h4 id="use-with-http-proxy">Use with http proxy</h4>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>-realip</code></td>
<td>let linx-server know you (nginx, etc) are providing the X-Real-IP and/or X-Forwarded-For headers.</td>
</tr>
</tbody></table>
<h4 id="use-with-fastcgi">Use with fastcgi</h4>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>-fastcgi</code></td>
<td>serve through fastcgi</td>
</tr>
</tbody></table>
<h2 id="cleaning-up-expired-files">Cleaning up expired files</h2>
<p>When files expire, access is disabled immediately, but the files and metadata
will persist on disk until someone attempts to access them. If you&#39;d like to
automatically clean up files that have expired, you can use the included
<code>linx-cleanup</code> utility. To run it automatically, use a cronjob or similar type
of scheduled task.</p>
<p>You should be careful to ensure that only one instance of <code>linx-cleanup</code> runs at
a time to avoid unexpected behavior. It does not implement any type of locking.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>-filespath files/</code></td>
<td>Path to stored uploads (default is files/)</td>
</tr>
<tr>
<td><code>-nologs</code></td>
<td>(optionally) disable deletion logs in stdout</td>
</tr>
<tr>
<td><code>-metapath meta/</code></td>
<td>Path to stored information about uploads (default is meta/)</td>
</tr>
</tbody></table>
<h2 id="deployment">Deployment</h2>
<p>Linx-server supports being deployed in a subdirectory (ie. example.com/mylinx/) as well as on its own (example.com/).</p>
<h4 id="1-using-fastcgi">1. Using fastcgi</h4>
<p>A suggested deployment is running nginx in front of linx-server serving through fastcgi.
This allows you to have nginx handle the TLS termination for example.<br>An example configuration:</p>
<pre><code>server {
    ...
    server_name yourlinx.example.org;
    ...

    client_max_body_size 4096M;
    location / {
        fastcgi_pass 127.0.0.1:8080;
        include fastcgi_params;
    }
}</code></pre><p>And run linx-server with the <code>-fastcgi</code> option.</p>
<h4 id="2-using-the-built-in-https-server">2. Using the built-in https server</h4>
<p>Run linx-server with the <code>-certfile path/to/cert.file</code> and <code>-keyfile path/to/key.file</code> options.</p>
<h4 id="3-using-the-built-in-http-server">3. Using the built-in http server</h4>
<p>Run linx-server normally.</p>
<h2 id="development">Development</h2>
<p>Any help is welcome, PRs will be reviewed and merged accordingly.<br>The official IRC channel is #linx on irc.oftc.net  </p>
<ol>
<li><code>go get -u github.com/andreimarcu/linx-server</code></li>
<li><code>cd $GOPATH/src/github.com/andreimarcu/linx-server</code></li>
<li><code>go build &amp;&amp; ./linx-server</code></li>
</ol>
<h2 id="license">License</h2>
<p>Copyright (C) 2015 Andrei Marcu</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<h2 id="author">Author</h2>
<p>Andrei Marcu, <a href="http://andreim.net/">http://andreim.net/</a></p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 02 May 2020</div><div class="column">Version: 1.0.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>