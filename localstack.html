<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="LocalStack is a fully functional local AWS cloud stack. This includes Lambda for serverless computation."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>localstack</h1><span class="subheading">LocalStack is a fully functional local AWS cloud stack. This includes Lambda for serverless computation.</span><div class="links"><a class="button button-outline" href="https://localstack.cloud/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>LocalStack</a><a class="button button-outline" href="https://github.com/localstack/localstack"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>Source Code</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>03 May 2020</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>24279</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>258</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/languages/python.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Python</a><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>aws</span><a class="tag" href="/selfhosted-awesome-unlist/tags/software-development.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">68</span>software development</a><a class="tag" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">943</span>selfhosted</a><a class="tag" href="/selfhosted-awesome-unlist/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">327</span>docker</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><p><a href="https://travis-ci.org/localstack/localstack"><img src="https://travis-ci.org/localstack/localstack.svg" alt="Build Status"></a> <a href="#backers"><img src="https://opencollective.com/localstack/backers/badge.svg" alt="Backers on Open Collective"></a> <a href="#sponsors"><img src="https://opencollective.com/localstack/sponsors/badge.svg" alt="Sponsors on Open Collective"></a> <a href="https://coveralls.io/github/localstack/localstack?branch=master"><img src="https://coveralls.io/repos/github/localstack/localstack/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://gitter.im/localstack/Platform"><img src="https://img.shields.io/gitter/room/localstack/Platform.svg" alt="Gitter"></a>
<a href="https://badge.fury.io/py/localstack"><img src="https://badge.fury.io/py/localstack.svg" alt="PyPI Version"></a>
<a href="https://img.shields.io/pypi/l/localstack.svg"><img src="https://img.shields.io/pypi/l/localstack.svg" alt="PyPI License"></a>
<a href="https://codeclimate.com/github/localstack/localstack"><img src="https://codeclimate.com/github/localstack/localstack/badges/gpa.svg" alt="Code Climate"></a>
<a href="https://twitter.com/_localstack"><img src="https://img.shields.io/twitter/url/http/shields.io.svg?style=social" alt="Twitter"></a></p>
<h1 id="localstack---a-fully-functional-local-aws-cloud-stack">LocalStack - A fully functional local AWS cloud stack</h1>
<p><img src="https://github.com/localstack/localstack/raw/master/localstack/dashboard/web/img/localstack.png" alt="LocalStack"></p>
<p><em>LocalStack</em> provides an easy-to-use test/mocking framework for developing Cloud applications.</p>
<p>Currently, the focus is primarily on supporting the AWS cloud stack.</p>
<h1 id="announcements">Announcements</h1>
<ul>
<li><strong>2019-10-09</strong>: <strong>LocalStack Pro is out!</strong> We&#39;re incredibly excited to announce the launch of LocalStack Pro - the enterprise version of LocalStack with additional APIs and advanced features. Check out the free trial at <a href="https://localstack.cloud">https://localstack.cloud</a></li>
<li><strong>2018-01-10</strong>: <strong>Help wanted!</strong> Please <a href="https://lambdastudy.typeform.com/to/kDUvvy?source=localstack-github">fill out this survey</a> to support a research study on the usage of Serverless and Function-as-a-Service (FaaS) services, conducted at Chalmers University of Technology. The survey only takes 5-10 minutes of your time. Many thanks for your participation!!<ul>
<li>The result from this study can be found <a href="https://research.chalmers.se/en/publication/508147">here</a></li>
</ul>
</li>
<li><strong>2017-08-27</strong>: <strong>We need your support!</strong> LocalStack is growing fast, we now have thousands of developers using the platform on a regular basis. Last month we have recorded a staggering 100k test runs, with 25k+ DynamoDB tables, 20k+ SQS queues, 15k+ Kinesis streams, 13k+ S3 buckets, and 10k+ Lambda functions created locally - for 0$ costs (more details to be published soon). Bug and feature requests are pouring in, and we now need some support from <em>you</em> to keep the open source version actively maintained. Please check out <a href="https://opencollective.com/localstack">Open Collective</a> and become a <a href="https://github.com/localstack/localstack#backers">backer</a> or <a href="https://github.com/localstack/localstack#backers">supporter</a> of the project today! Thanks everybody for contributing. ‚ô•</li>
<li><strong>2017-07-20</strong>: Please note: Starting with version <code>0.7.0</code>, the Docker image will be pushed
and kept up to date under the <strong>new name</strong> <code>localstack/localstack</code>. (This means that you may
have to update your CI configurations.) Please refer to the updated</li>
<li>*<a href="doc/end_user_license_agreement">End-User License Agreement (EULA)</a>** for the new versions.
The old Docker image (<code>atlassianlabs/localstack</code>) is still available but will not be maintained
any longer.</li>
</ul>
<h1 id="overview">Overview</h1>
<p>LocalStack spins up the following core Cloud APIs on your local machine.</p>
<p><strong>Note:</strong> Starting with version <code>0.11.0</code>, all APIs are exposed via a single <em>edge service</em>, which is
accessible on <strong><a href="http://localhost:4566">http://localhost:4566</a></strong> by default (customizable via <code>EDGE_PORT</code>, see further below).
The API-specific endpoints below are still left for backwards-compatibility, but may get removed in a
future release - please reconfigure your client SDKs to start using the single edge endpoint URL!</p>
<ul>
<li><strong>API Gateway</strong> <del>at <a href="http://localhost:4567">http://localhost:4567</a></del></li>
<li><strong>Kinesis</strong> <del>at <a href="http://localhost:4568">http://localhost:4568</a></del></li>
<li><strong>DynamoDB</strong> <del>at <a href="http://localhost:4569">http://localhost:4569</a></del></li>
<li><strong>DynamoDB Streams</strong> <del>at <a href="http://localhost:4570">http://localhost:4570</a></del></li>
<li><strong>S3</strong> <del>at <a href="http://localhost:4572">http://localhost:4572</a></del></li>
<li><strong>Firehose</strong> <del>at <a href="http://localhost:4573">http://localhost:4573</a></del></li>
<li><strong>Lambda</strong> <del>at <a href="http://localhost:4574">http://localhost:4574</a></del></li>
<li><strong>SNS</strong> <del>at <a href="http://localhost:4575">http://localhost:4575</a></del></li>
<li><strong>SQS</strong> <del>at <a href="http://localhost:4576">http://localhost:4576</a></del></li>
<li><strong>Redshift</strong> <del>at <a href="http://localhost:4577">http://localhost:4577</a></del></li>
<li><strong>Elasticsearch Service</strong> <del>at <a href="http://localhost:4578">http://localhost:4578</a></del></li>
<li><strong>SES</strong> <del>at <a href="http://localhost:4579">http://localhost:4579</a></del></li>
<li><strong>Route53</strong> <del>at <a href="http://localhost:4580">http://localhost:4580</a></del></li>
<li><strong>CloudFormation</strong> <del>at <a href="http://localhost:4581">http://localhost:4581</a></del></li>
<li><strong>CloudWatch</strong> <del>at <a href="http://localhost:4582">http://localhost:4582</a></del></li>
<li><strong>SSM</strong> <del>at <a href="http://localhost:4583">http://localhost:4583</a></del></li>
<li><strong>SecretsManager</strong> <del>at <a href="http://localhost:4584">http://localhost:4584</a></del></li>
<li><strong>StepFunctions</strong> <del>at <a href="http://localhost:4585">http://localhost:4585</a></del></li>
<li><strong>CloudWatch Logs</strong> <del>at <a href="http://localhost:4586">http://localhost:4586</a></del></li>
<li><strong>EventBridge (CloudWatch Events)</strong> <del>at <a href="http://localhost:4587">http://localhost:4587</a></del></li>
<li><strong>STS</strong> <del>at <a href="http://localhost:4592">http://localhost:4592</a></del></li>
<li><strong>IAM</strong> <del>at <a href="http://localhost:4593">http://localhost:4593</a></del></li>
<li><strong>EC2</strong> <del>at <a href="http://localhost:4597">http://localhost:4597</a></del></li>
<li><strong>KMS</strong> <del>at <a href="http://localhost:4599">http://localhost:4599</a></del></li>
</ul>
<p>In addition to the above, the <a href="https://localstack.cloud/#pricing"><strong>Pro version</strong> of LocalStack</a> supports additional APIs and advanced features, including:</p>
<ul>
<li><strong>API Gateway V2 (WebSockets support)</strong></li>
<li><strong>AppSync</strong></li>
<li><strong>Athena</strong></li>
<li><strong>CloudFront</strong></li>
<li><strong>CloudTrail</strong></li>
<li><strong>Cognito</strong></li>
<li><strong>ECS/EKS</strong></li>
<li><strong>ElastiCache</strong></li>
<li><strong>EMR</strong></li>
<li><strong>Glacier</strong> / <strong>S3 Select</strong></li>
<li><strong>IoT</strong></li>
<li><strong>Lambda Layers</strong></li>
<li><strong>RDS</strong></li>
<li><strong>XRay</strong></li>
<li><strong>Interactive UIs to manage resources</strong></li>
<li><strong>Test report dashboards</strong></li>
<li>...and much, much more to come!</li>
</ul>
<h2 id="why-localstack">Why LocalStack?</h2>
<p>LocalStack builds on existing best-of-breed mocking/testing tools, notably
<a href="https://github.com/mhart/kinesalite">kinesalite</a>/<a href="https://github.com/mhart/dynalite">dynalite</a>
and <a href="https://github.com/spulec/moto">moto</a>, <a href="https://github.com/softwaremill/elasticmq">ElasticMQ</a>,
and others. While these tools are <em>awesome</em> (!), they lack functionality for certain use cases.
LocalStack combines the tools, makes them interoperable, and adds important missing functionality
on top of them:</p>
<ul>
<li><strong>Error injection:</strong> LocalStack allows to inject errors frequently occurring in real Cloud environments,
for instance <code>ProvisionedThroughputExceededException</code> which is thrown by Kinesis or DynamoDB if the amount of
read/write throughput is exceeded.</li>
<li><strong>Isolated processes</strong>: Services in LocalStack can be run in separate processes. The overhead of additional
processes is acceptable, and the entire stack can easily be executed on any developer machine and CI server.
In moto, components are often hard-wired in memory (e.g., when forwarding a message on an SNS topic to an
SQS queue, the queue endpoint is looked up in a local hash map). In contrast, LocalStack services live in
isolation (separate processes communicating via HTTP), which fosters true decoupling and more closely
resembles the real cloud environment.</li>
<li><strong>Pluggable services</strong>: All services in LocalStack are easily pluggable (and replaceable), due to the fact that
we are using isolated processes for each service. This allows us to keep the framework up-to-date and select
best-of-breed mocks for each individual service.</li>
</ul>
<h2 id="requirements">Requirements</h2>
<ul>
<li><code>python</code> (both Python 2.x and 3.x supported)</li>
<li><code>pip</code> (python package manager)</li>
<li><code>Docker</code></li>
</ul>
<h2 id="installing">Installing</h2>
<p>The easiest way to install LocalStack is via <code>pip</code>:</p>
<pre><code>pip install localstack</code></pre><p><strong>Note</strong>: Please do <strong>not</strong> use <code>sudo</code> or the <code>root</code> user - LocalStack
should be installed and started entirely under a local non-root user. If you have problems
with permissions in MacOS X Sierra, install with <code>pip install --user localstack</code></p>
<h2 id="running-in-docker">Running in Docker</h2>
<p>By default, LocalStack gets started inside a Docker container using this command:</p>
<pre><code>localstack start</code></pre><p>(Note that on MacOS you may have to run <code>TMPDIR=/private$TMPDIR localstack start --docker</code> if
<code>$TMPDIR</code> contains a symbolic link that cannot be mounted by Docker.)</p>
<h3 id="using-docker-compose">Using <code>docker-compose</code></h3>
<p>You can also use the <code>docker-compose.yml</code> file from the repository and use this command (currently requires <code>docker-compose</code> version 2.1+):</p>
<pre><code>docker-compose up</code></pre><p>(Note that on MacOS you may have to run <code>TMPDIR=/private$TMPDIR docker-compose up</code> if
<code>$TMPDIR</code> contains a symbolic link that cannot be mounted by Docker.)</p>
<p>To facilitate interoperability, configuration variables can be prefixed with <code>LOCALSTACK_</code> in docker. For instance, setting <code>LOCALSTACK_SERVICES=s3</code> is equivalent to <code>SERVICES=s3</code>.</p>
<h2 id="starting-locally-non-docker-mode">Starting locally (non-Docker mode)</h2>
<p>Alternatively, the infrastructure can be spun up on the local host machine (without using Docker) using the following command:</p>
<pre><code>localstack start --host</code></pre><p>(Note that this will require <a href="#Developing">additional dependencies</a>, and currently is not supported on some operating systems, including Windows.)</p>
<p>LocalStack will attempt to automatically fetch the missing dependencies when you first start it up in &quot;host&quot; mode; alternatively, you can use the <code>full</code> profile to install all dependencies at <code>pip</code> installation time:</p>
<pre><code>pip install &quot;localstack[full]&quot;</code></pre><h2 id="configurations">Configurations</h2>
<p>You can pass the following environment variables to LocalStack:</p>
<ul>
<li><p><code>EDGE_PORT</code>: Port number for the edge service, the main entry point for all API invocations (default: <code>4566</code>).</p>
</li>
<li><p><code>SERVICES</code>: Comma-separated list of service names (APIs) to start up. Service names basically correspond
to the <a href="http://docs.aws.amazon.com/cli/latest/reference/#available-services">service names of the AWS CLI</a>
(<code>kinesis</code>, <code>lambda</code>, <code>sqs</code>, etc), although LocalStack only supports a subset of them.
Example value: <code>kinesis,lambda,sqs</code> to start Kinesis, Lambda, and SQS.
In addition, the following shorthand values can be specified to run a predefined ensemble of services:</p>
<ul>
<li><code>serverless</code>: run services often used for Serverless apps (<code>iam</code>, <code>lambda</code>, <code>dynamodb</code>, <code>apigateway</code>, <code>s3</code>, <code>sns</code>)</li>
</ul>
</li>
<li><p><code>DEFAULT_REGION</code>: AWS region to use when talking to the API (default: <code>us-east-1</code>).</p>
</li>
<li><p><code>HOSTNAME</code>: Name of the host to expose the services internally (default: <code>localhost</code>).
Use this to customize the framework-internal communication, e.g., if services are
started in different containers using docker-compose.</p>
</li>
<li><p><code>HOSTNAME_EXTERNAL</code>: Name of the host to expose the services externally (default: <code>localhost</code>).
This host is used, e.g., when returning queue URLs from the SQS service to the client.</p>
</li>
<li><p><code>&lt;SERVICE&gt;_PORT</code>: Port number to bind a specific service to (defaults to service ports above).</p>
</li>
<li><p><code>&lt;SERVICE&gt;_PORT_EXTERNAL</code>: Port number to expose a specific service externally (defaults to service ports above). <code>SQS_PORT_EXTERNAL</code>, for example, is used when returning queue URLs from the SQS service to the client.</p>
</li>
<li><p><code>USE_SSL</code>: Whether to use <code>https://...</code> URLs with SSL encryption (default: <code>false</code>).</p>
</li>
<li><p><code>IMAGE_NAME</code>: Specific name and tag of LocalStack Docker image to use, e.g., <code>localstack/localstack:0.11.0</code> (default: <code>localstack/localstack</code>).</p>
</li>
<li><p><code>KINESIS_ERROR_PROBABILITY</code>: Decimal value between 0.0 (default) and 1.0 to randomly
inject <code>ProvisionedThroughputExceededException</code> errors into Kinesis API responses.</p>
</li>
<li><p><code>KINESIS_SHARD_LIMIT</code>: Integer value (default: <code>100</code>) or <code>Infinity</code> (to disable), causing the Kinesis API to start throwing exceptions to mimick the <a href="https://docs.aws.amazon.com/streams/latest/dev/service-sizes-and-limits.html">default shard limit</a>.</p>
</li>
<li><p><code>KINESIS_LATENCY</code>: Integer value (default: <code>500</code>) or <code>0</code> (to disable), causing the Kinesis API to delay returning a response in order to mimick latency from a live AWS call.</p>
</li>
<li><p><code>DYNAMODB_ERROR_PROBABILITY</code>: Decimal value between 0.0 (default) and 1.0 to randomly
inject <code>ProvisionedThroughputExceededException</code> errors into DynamoDB API responses.</p>
</li>
<li><p><code>STEPFUNCTIONS_LAMBDA_ENDPOINT</code>: URL to use as the lambda service endpoint in step functions.
By default this is the localstack lambda endpoint.</p>
</li>
<li><p><code>LAMBDA_EXECUTOR</code>: Method to use for executing Lambda functions. Possible values are:</p>
<ul>
<li><code>local</code>: run Lambda functions in a temporary directory on the local machine</li>
<li><code>docker</code>: run each function invocation in a separate Docker container</li>
<li><code>docker-reuse</code>: create one Docker container per function and reuse it across invocations</li>
</ul>
<p>For <code>docker</code> and <code>docker-reuse</code>, if LocalStack itself is started inside Docker, then
the <code>docker</code> command needs to be available inside the container (usually requires to run the
container in privileged mode). Default is <code>docker</code>, fallback to <code>local</code> if Docker is not available.</p>
</li>
<li><p><code>LAMBDA_REMOTE_DOCKER</code> determines whether Lambda code is copied or mounted into containers.
Possible values are:</p>
<ul>
<li><code>true</code> (default): your Lambda function definitions will be passed to the container by
copying the zip file (potentially slower). It allows for remote execution, where the host
and the client are not on the same machine.</li>
<li><code>false</code>: your Lambda function definitions will be passed to the container by mounting a
volume (potentially faster). This requires to have the Docker client and the Docker
host on the same machine.</li>
</ul>
</li>
<li><p><code>LAMBDA_DOCKER_NETWORK</code>: Optional Docker network for the container running your lambda function.</p>
</li>
<li><p><code>LAMBDA_CONTAINER_REGISTRY</code> Use an alternative docker registry to pull lambda execution containers (default: <code>lambci/lambda</code>).</p>
</li>
<li><p><code>LAMBDA_REMOVE_CONTAINERS</code>: Whether to remove containers after Lambdas finished executing (default: <code>true</code>).</p>
</li>
<li><p><code>DATA_DIR</code>: Local directory for saving persistent data (currently only supported for these services:
Kinesis, DynamoDB, Elasticsearch, S3, Secretsmanager, SSM). Set it to <code>/tmp/localstack/data</code> to enable persistence
(<code>/tmp/localstack</code> is mounted into the Docker container), leave blank to disable
persistence (default).</p>
</li>
<li><p><code>PORT_WEB_UI</code>: Port for the Web user interface / dashboard (default: <code>8080</code>).</p>
</li>
<li><p><code>&lt;SERVICE&gt;_BACKEND</code>: Custom endpoint URL to use for a specific service, where <code>&lt;SERVICE&gt;</code> is the uppercase
service name (currently works for: <code>APIGATEWAY</code>, <code>CLOUDFORMATION</code>, <code>DYNAMODB</code>, <code>ELASTICSEARCH</code>,
<code>KINESIS</code>, <code>S3</code>, <code>SNS</code>, <code>SQS</code>). This allows to easily integrate third-party services into LocalStack.</p>
</li>
<li><p><code>FORCE_NONINTERACTIVE</code>: when running with Docker, disables the <code>--interactive</code> and <code>--tty</code> flags. Useful when running headless.</p>
</li>
<li><p><code>DOCKER_FLAGS</code>: Allows to pass custom flags (e.g., volume mounts) to &quot;docker run&quot; when running LocalStack in Docker.</p>
</li>
<li><p><code>DOCKER_CMD</code>: Shell command used to run Docker containers, e.g., set to <code>&quot;sudo docker&quot;</code> to run as sudo (default: <code>docker</code>).</p>
</li>
<li><p><code>SKIP_INFRA_DOWNLOADS</code>: Whether to skip downloading additional infrastructure components (e.g., specific Elasticsearch versions).</p>
</li>
<li><p><code>START_WEB</code>: Flag to control whether the Web API should be started in Docker (values: <code>0</code>/<code>1</code>; default: <code>1</code>).</p>
</li>
<li><p><code>LAMBDA_FALLBACK_URL</code>: Fallback URL to use when a non-existing Lambda is invoked. Either records invocations in DynamoDB (value <code>dynamodb://&lt;table_name&gt;</code>) or forwards invocations as a POST request (value <code>http(s)://...</code>).</p>
</li>
<li><p><code>EXTRA_CORS_ALLOWED_HEADERS</code>: Comma-separated list of header names to be be added to <code>Access-Control-Allow-Headers</code> CORS header</p>
</li>
<li><p><code>EXTRA_CORS_EXPOSE_HEADERS</code>: Comma-separated list of header names to be be added to <code>Access-Control-Expose-Headers</code> CORS header</p>
</li>
<li><p><code>LAMBDA_JAVA_OPTS</code>: Allow passing custom JVM options (e.g., <code>-Xmx512M</code>) to Java Lambdas executed in Docker. Use <code>_debug_port_</code> placeholder to configure the debug port (e.g., <code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=_debug_port_</code>).</p>
</li>
</ul>
<p>Additionally, the following <em>read-only</em> environment variables are available:</p>
<ul>
<li><code>LOCALSTACK_HOSTNAME</code>: Name of the host where LocalStack services are available.
This is needed in order to access the services from within your Lambda functions
(e.g., to store an item to DynamoDB or S3 from Lambda).
The variable <code>LOCALSTACK_HOSTNAME</code> is available for both, local Lambda execution
(<code>LAMBDA_EXECUTOR=local</code>) and execution inside separate Docker containers (<code>LAMBDA_EXECUTOR=docker</code>).</li>
</ul>
<h3 id="dynamically-updating-configuration-at-runtime">Dynamically updating configuration at runtime</h3>
<p>Each of the service APIs listed <a href="https://github.com/localstack/localstack#overview">above</a> defines
a backdoor API under the path <code>/?_config_</code> which allows to dynamically update configuration variables
defined in <a href="https://github.com/localstack/localstack/blob/master/localstack/config.py"><code>config.py</code></a>.</p>
<p>For example, to dynamically set <code>KINESIS_ERROR_PROBABILITY=1</code> at runtime, use the following command:</p>
<pre><code>curl -v -d &#39;{&quot;variable&quot;:&quot;KINESIS_ERROR_PROBABILITY&quot;,&quot;value&quot;:1}&#39; &#39;http://localhost:4568/?_config_&#39;</code></pre><h3 id="service-health-checks">Service health checks</h3>
<p>The service health check endpoint <code>http://localhost:8080/health</code> provides basic information about the status of each service (e.g., <code>{&quot;s3&quot;:&quot;running&quot;,&quot;es&quot;:&quot;starting&quot;}</code>). By default, the endpoint returns cached values that are determined during startup - the status values can be refreshed by adding the <code>reload</code> query parameter: <code>http://localhost:8080/health?reload</code>.</p>
<h3 id="initializing-a-fresh-instance">Initializing a fresh instance</h3>
<p>When a container is started for the first time, it will execute files with extensions .sh that are found in <code>/docker-entrypoint-initaws.d</code>. Files will be executed in alphabetical order. You can easily create aws resources on localstack using <code>awslocal</code> (or <code>aws</code>) cli tool in the initialization scripts.</p>
<h2 id="using-custom-ssl-certificates">Using custom SSL certificates</h2>
<p>To use your own SSL certificate (for <code>USE_SSL=1</code>) instead of the randomly generated certificate, you can place a file <code>server.test.pem</code> into the LocalStack temporary directory (<code>$TMPDIR/localstack</code>, or <code>/tmp/localstack</code> by default). The file <code>server.test.pem</code> must contain the key file, as well as the certificate file content:</p>
<pre><code>-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----
-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----</code></pre><h3 id="using-use_ssl-and-own-persistent-certificate-with-docker-compose">Using USE_SSL and own persistent certificate with docker-compose</h3>
<p>Typically with docker-compose you can add into docker-compose.yml this volume to the localstack services :</p>
<pre><code>volumes:
      - &quot;${PWD}/ls_tmp:/tmp/localstack&quot;
      - &quot;/var/run/docker.sock:/var/run/docker.sock&quot;</code></pre><p>local directory <strong>ls_tmp</strong> must contains the three files (server.test.pem, server.test.pem.crt, server.test.pem.key)</p>
<h2 id="accessing-the-infrastructure-via-cli-or-code">Accessing the infrastructure via CLI or code</h2>
<p>You can point your <code>aws</code> CLI to use the local infrastructure, for example:</p>
<pre><code>aws --endpoint-url=http://localhost:4568 kinesis list-streams
{
    &quot;StreamNames&quot;: []
}</code></pre><p>Use the below command to install <code>aws CLI</code>, if not installed already.</p>
<pre><code>pip install awscli</code></pre><h3 id="setting-up-local-region-and-credentials-to-run-localstack">Setting up local region and credentials to run localstack</h3>
<p>aws requires the region and the credentials to be set in order to run the aws commands. Create the default configuration &amp; the credentials. Below key will ask for the Access key id, secret Access Key, region &amp; output format.</p>
<pre><code>aws configure --profile default

# Config &amp; credential file will be created under ~/.aws folder</code></pre><p><strong>NEW</strong>: Check out <a href="https://github.com/localstack/awscli-local">awslocal</a>, a thin CLI wrapper
that runs commands directly against LocalStack (no need to specify <code>--endpoint-url</code> anymore).
Install it via <code>pip install awscli-local</code>, and then use it as follows:</p>
<pre><code>awslocal kinesis list-streams
{
    &quot;StreamNames&quot;: []
}</code></pre><p><strong>UPDATE</strong>: Use the environment variable <code>$LOCALSTACK_HOSTNAME</code> to determine the target host
inside your Lambda function. See <a href="#Configurations">Configurations</a> section for more details.</p>
<h3 id="client-libraries">Client Libraries</h3>
<ul>
<li>Python: <a href="https://github.com/localstack/localstack-python-client">https://github.com/localstack/localstack-python-client</a><ul>
<li>alternatively, you can also use <code>boto3</code> and use the <code>endpoint_url</code> parameter when creating a connection</li>
</ul>
</li>
<li>(more coming soon...)</li>
</ul>
<h2 id="integration-with-nosetests">Integration with nosetests</h2>
<p>If you want to use LocalStack in your integration tests (e.g., nosetests), simply fire up the
infrastructure in your test setup method and then clean up everything in your teardown method:</p>
<pre><code>from localstack.services import infra

def setup():
    infra.start_infra(asynchronous=True)

def teardown():
    infra.stop_infra()

def my_app_test():
    # here goes your test logic</code></pre><p>See the example test file <code>tests/integration/test_integration.py</code> for more details.</p>
<h2 id="integration-with-serverless">Integration with Serverless</h2>
<p>You can use the <a href="https://www.npmjs.com/package/serverless-localstack"><code>serverless-localstack</code></a> plugin to easily run <a href="https://serverless.com/framework/">Serverless</a> applications on LocalStack.
For more information, please check out the plugin repository here:
<a href="https://github.com/localstack/serverless-localstack">https://github.com/localstack/serverless-localstack</a></p>
<h2 id="integration-with-terraform">Integration with Terraform</h2>
<p>You can use <a href="https://www.terraform.io">Terraform</a> to provision your resources locally. Please refer to the Terraform AWS Provider docs <a href="https://www.terraform.io/docs/providers/aws/guides/custom-service-endpoints.html#localstack">here</a> on how to configure the API endpoints on <code>localhost</code>.</p>
<h2 id="using-local-code-with-lambda">Using local code with Lambda</h2>
<p>In order to mount a local folder, ensure that <code>LAMBDA_REMOTE_DOCKER</code> is set to <code>false</code> then set the S3 bucket name to <code>__local__</code> and the S3 key to your local path:</p>
<pre><code>awslocal lambda create-function --function-name myLambda \
    --code S3Bucket=&quot;__local__&quot;,S3Key=&quot;/my/local/lambda/folder&quot; \
    --handler index.myHandler \
    --runtime nodejs8.10 \
    --role whatever</code></pre><h2 id="integration-with-javajunit">Integration with Java/JUnit</h2>
<p>In order to use LocalStack with Java, the project ships with a simple JUnit runner, see sample below.</p>
<pre><code>...
import cloud.localstack.LocalstackTestRunner;
import cloud.localstack.TestUtils;
import cloud.localstack.docker.annotation.LocalstackDockerProperties;

@RunWith(LocalstackTestRunner.class)
@LocalstackDockerProperties(services = { &quot;s3&quot;, &quot;sqs&quot;, &quot;kinesis:77077&quot; })
public class MyCloudAppTest {

  @Test
  public void testLocalS3API() {
    AmazonS3 s3 = TestUtils.getClientS3()
    List&lt;Bucket&gt; buckets = s3.listBuckets();
    ...
  }
}</code></pre><p>For more details and a complete list of configuration parameters, please refer to the <a href="https://github.com/localstack/localstack-java-utils">LocalStack Java Utils</a> repository.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<ul>
<li><p>If you&#39;re using AWS Java libraries with Kinesis, please, refer to <a href="https://github.com/mhart/kinesalite#cbor-protocol-issues-with-the-java-sdk">CBOR protocol issues with the Java SDK guide</a> how to disable CBOR protocol which is not supported by kinesalite.</p>
</li>
<li><p>Accessing local S3: To avoid domain name resolution issues, you need to enable <strong>path style access</strong> on your S3 SDK client. Most AWS SDKs provide a config to achieve that, e.g., for Java:</p>
<pre><code>s3.setS3ClientOptions(S3ClientOptions.builder().setPathStyleAccess(true).build());
// There is also an option to do this if you&#39;re using any of the client builder classes:
AmazonS3ClientBuilder builder = AmazonS3ClientBuilder.standard();
builder.withPathStyleAccessEnabled(true);
...</code></pre></li>
<li><p>Mounting the temp. directory: Note that on MacOS you may have to run <code>TMPDIR=/private$TMPDIR docker-compose up</code> if
<code>$TMPDIR</code> contains a symbolic link that cannot be mounted by Docker.
(See details here: <a href="https://bitbucket.org/atlassian/localstack/issues/40/getting-mounts-failed-on-docker-compose-up">https://bitbucket.org/atlassian/localstack/issues/40/getting-mounts-failed-on-docker-compose-up</a>)</p>
</li>
<li><p>If you run into file permission issues on <code>pip install</code> under Mac OS (e.g., <code>Permission denied: &#39;/Library/Python/2.7/site-packages/six.py&#39;</code>), then you may have to re-install <code>pip</code> via Homebrew (see <a href="https://github.com/localstack/localstack/issues/260#issuecomment-334458631">this discussion thread</a>). Alternatively, try installing
with the <code>--user</code> flag: <code>pip install --user localstack</code></p>
</li>
</ul>
<ul>
<li><p>If you are deploying within OpenShift, please be aware: the pod must run as <code>root</code>, and the user must have capabilities added to the running pod, in order to allow Elasticsearch to be run as the non-root <code>localstack</code> user.</p>
</li>
<li><p>The environment variable <code>no_proxy</code> is rewritten by LocalStack.
(Internal requests will go straight via localhost, bypassing any proxy configuration).</p>
</li>
<li><p>For troubleshooting LocalStack start issues, you can check debug logs by running <code>DEBUG=1 localstack start</code></p>
</li>
<li><p>In case you get errors related to node/nodejs, you may find (this issue comment: <a href="https://github.com/localstack/localstack/issues/227#issuecomment-319938530">https://github.com/localstack/localstack/issues/227#issuecomment-319938530</a>) helpful.</p>
</li>
<li><p>If you are using AWS Java libraries and need to disable SSL certificate checking, add <code>-Dcom.amazonaws.sdk.disableCertChecking</code> to the java invocation.</p>
</li>
</ul>
<h2 id="developing">Developing</h2>
<h3 id="requirements-for-developing-or-starting-locally">Requirements for developing or starting locally</h3>
<p>To develop new features, or to start the stack locally (outside of Docker), the following additional tools are required:</p>
<ul>
<li><code>make</code></li>
<li><code>npm</code> (node.js package manager)</li>
<li><code>java</code>/<code>javac</code> (Java 8 runtime environment and compiler)</li>
<li><code>mvn</code> (Maven, the build system for Java)</li>
<li><code>moto</code>(for testing)</li>
<li><code>docker-compose</code> (for running the localstack using docker-compose)</li>
<li><code>mock</code> (for unit testing)</li>
<li><code>pytest</code> (for unit testing)</li>
<li><code>pytest-cov</code> (to check the unit-testing coverage)</li>
</ul>
<h3 id="development-environment">Development Environment</h3>
<p>If you pull the repo in order to extend/modify LocalStack, run this command to install
all the dependencies:</p>
<pre><code>make install</code></pre><p>This will install the required pip dependencies in a local Python virtualenv directory
<code>.venv</code> (your global python packages will remain untouched), as well as some node modules
in <code>./localstack/node_modules/</code>. Depending on your system, some pip/npm modules may require
additional native libs installed.</p>
<p>The Makefile contains a target to conveniently run the local infrastructure for development:</p>
<pre><code>make infra</code></pre><p>Check out the
<a href="https://github.com/localstack/localstack/tree/master/doc/developer_guides">developer guide</a> which
contains a few instructions on how to get started with developing (and debugging) features for
LocalStack.</p>
<h2 id="testing">Testing</h2>
<p>The project contains a set of unit and integration tests that can be kicked off via a make
target:</p>
<pre><code>make test</code></pre><h2 id="to-check-the-code-coverage">To check the Code Coverage</h2>
<p>Once the new feature / bug fix is done, run the unit testing and check for the coverage.</p>
<pre><code># To run the particular test file (sample)
pytest --cov=localstack tests/unit/test_common.py 

# To check the coverage in the console
coverage report 

# To check the coverage as html (output will be redirected to the html folder)
coverage html</code></pre><h2 id="web-dashboard">Web Dashboard</h2>
<p>The projects also comes with a simple Web dashboard that allows to view the deployed AWS
components and the relationship between them.</p>
<pre><code>localstack web</code></pre><h2 id="other-ui-clients">Other UI Clients</h2>
<ul>
<li><a href="https://getcommandeer.com">Commandeer desktop app</a></li>
<li><a href="https://www.npmjs.com/package/dynamodb-admin">DynamoDB Admin Web UI</a></li>
</ul>
<h2 id="change-log">Change Log</h2>
<p>Please refer to <a href="CHANGELOG.md"><code>CHANGELOG.md</code></a> to see the complete list of changes for each release.</p>
<h2 id="contributing">Contributing</h2>
<p>We welcome feedback, bug reports, and pull requests!</p>
<p>For pull requests, please stick to the following guidelines:</p>
<ul>
<li>Add tests for any new features and bug fixes. Ideally, each PR should increase the test coverage.</li>
<li>Follow the existing code style (e.g., indents). A PEP8 code linting target is included in the Makefile.</li>
<li>Put a reasonable amount of comments into the code.</li>
<li>Fork localstack on your github user account, do your changes there and then create a PR against main localstack repository.</li>
<li>Separate unrelated changes into multiple pull requests.</li>
<li>1 commit per PR: Please squash/rebase multiple commits into one single commit (to keep the history clean).</li>
</ul>
<p>Please note that by contributing any code or documentation to this repository (by
raising pull requests, or otherwise) you explicitly agree to
the <a href="doc/contributor_license_agreement"><strong>Contributor License Agreement</strong></a>.</p>
<h2 id="contributors">Contributors</h2>
<p>This project exists thanks to all the people who contribute.
<a href="https://github.com/localstack/localstack/graphs/contributors"><img src="https://opencollective.com/localstack/contributors.svg?width=890" /></a></p>
<h2 id="backers">Backers</h2>
<p>Thank you to all our backers! üôè [<a href="https://opencollective.com/localstack#backer">Become a backer</a>]</p>
<p><a href="https://opencollective.com/localstack#backers" target="_blank"><img src="https://opencollective.com/localstack/backers.svg?width=890"></a></p>
<h2 id="sponsors">Sponsors</h2>
<p>Support this project by becoming a sponsor. Your logo will show up here with a link to your website. [<a href="https://opencollective.com/localstack#sponsor">Become a sponsor</a>]</p>
<p><a href="https://opencollective.com/localstack/sponsor/0/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/0/avatar.svg"></a>
<a href="https://opencollective.com/localstack/sponsor/1/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/1/avatar.svg"></a>
<a href="https://opencollective.com/localstack/sponsor/2/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/2/avatar.svg"></a>
<a href="https://opencollective.com/localstack/sponsor/3/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/3/avatar.svg"></a>
<a href="https://opencollective.com/localstack/sponsor/4/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/4/avatar.svg"></a>
<a href="https://opencollective.com/localstack/sponsor/5/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/5/avatar.svg"></a>
<a href="https://opencollective.com/localstack/sponsor/6/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/6/avatar.svg"></a>
<a href="https://opencollective.com/localstack/sponsor/7/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/7/avatar.svg"></a>
<a href="https://opencollective.com/localstack/sponsor/8/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/8/avatar.svg"></a>
<a href="https://opencollective.com/localstack/sponsor/9/website" target="_blank"><img src="https://opencollective.com/localstack/sponsor/9/avatar.svg"></a></p>
<h2 id="stargazers-over-time">Stargazers over time</h2>
<p><a href="https://starchart.cc/localstack/localstack"><img src="https://starchart.cc/localstack/localstack.svg" alt="Stargazers over time"></a></p>
<h2 id="license">License</h2>
<p>Copyright (c) 2017-2020 LocalStack maintainers and contributors.</p>
<p>Copyright (c) 2016 Atlassian and others.</p>
<p>This version of LocalStack is released under the Apache License, Version 2.0 (see LICENSE.txt).
By downloading and using this software you agree to the
<a href="doc/end_user_license_agreement">End-User License Agreement (EULA)</a>.</p>
<p>We build on a number of third-party software tools, including the following:</p>
<table>
<thead>
<tr>
<th>Third-Party software</th>
<th>License</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Python/pip modules:</strong></td>
<td></td>
</tr>
<tr>
<td>airspeed</td>
<td>BSD License</td>
</tr>
<tr>
<td>amazon_kclpy</td>
<td>Amazon Software License</td>
</tr>
<tr>
<td>boto3</td>
<td>Apache License 2.0</td>
</tr>
<tr>
<td>coverage</td>
<td>Apache License 2.0</td>
</tr>
<tr>
<td>docopt</td>
<td>MIT License</td>
</tr>
<tr>
<td>elasticsearch</td>
<td>Apache License 2.0</td>
</tr>
<tr>
<td>flask</td>
<td>BSD License</td>
</tr>
<tr>
<td>flask_swagger</td>
<td>MIT License</td>
</tr>
<tr>
<td>jsonpath-rw</td>
<td>Apache License 2.0</td>
</tr>
<tr>
<td>moto</td>
<td>Apache License 2.0</td>
</tr>
<tr>
<td>requests</td>
<td>Apache License 2.0</td>
</tr>
<tr>
<td>subprocess32</td>
<td>PSF License</td>
</tr>
<tr>
<td><strong>Node.js/npm modules:</strong></td>
<td></td>
</tr>
<tr>
<td>kinesalite</td>
<td>MIT License</td>
</tr>
<tr>
<td><strong>Other tools:</strong></td>
<td></td>
</tr>
<tr>
<td>Elasticsearch</td>
<td>Apache License 2.0</td>
</tr>
<tr>
<td>local-kms</td>
<td>MIT License</td>
</tr>
</tbody></table>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 03 May 2020</div><div class="column">Version: 1.1.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>