<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Highly-configurable directory listing made with nodejs."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>explorer</h1><span class="subheading">Highly-configurable directory listing made with nodejs.</span><div class="links"><a class="button button-outline" href="https://soyuka.github.io/explorer/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>explorer</a><a class="button button-outline" href="https://github.com/soyuka/explorer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>Source Code</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>14 Feb 2018</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>168</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>9</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/languages/javascript.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>JavaScript</a><a class="tag" href="/selfhosted-awesome-unlist/tags/file-sharing-and-synchronization.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">63</span>file sharing and synchronization</a><a class="tag" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">943</span>selfhosted</a><a class="tag" href="/selfhosted-awesome-unlist/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">327</span>docker</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><h1 id="logo-explorer-build-status"><img src="https://raw.githubusercontent.com/soyuka/explorer/master/client/logo.png" alt="Logo"> Explorer <a href="https://travis-ci.org/soyuka/explorer"><img src="https://travis-ci.org/soyuka/explorer.svg?branch=master" alt="Build Status"></a></h1>
<p>Explore and share. Highly-configurable directory listing made with nodejs.</p>
<p><img src="https://raw.githubusercontent.com/soyuka/explorer/master/doc/screen.png" alt="Screenshot"></p>
<ul>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#update">Update</a></li>
<li><a href="#more-installation-methods">More installation methods</a></li>
<li><a href="#plugins">Plugins</a></li>
<li><a href="#development">Development</a></li>
<li><a href="#performances">Performances</a></li>
<li><a href="#why">Why</a></li>
</ul>
<h2 id="requirements">Requirements</h2>
<ul>
<li>nodejs (v4 with harmony support)</li>
</ul>
<p>0.12 and iojs are no longer supported as of v3.0.0</p>
<h3 id="installing-nodejs-with-nvm">Installing nodejs with <a href="https://github.com/creationix/nvm">nvm</a></h3>
<pre><code class="language-bash">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.25.4/install.sh | bash
nvm install 4 #nvm ls-remote to see available versions
nvm alias default 4
nvm use default</code></pre>
<h2 id="install">Install</h2>
<pre><code class="language-bash">npm install pm2 -g
pm2 install xplorer</code></pre>
<p>Go to IP:4859, login with <code>admin:admin</code> Don&#39;t forget to change the password.</p>
<p>With pm2 configuration file is located in <code>~/.config/explorer</code></p>
<p>You may want to create your own HTTPS certs or disable it (<a href="#certs">see below</a>).</p>
<p><a href="#more-installation-methods">More installation methods</a></p>
<h2 id="configuration">Configuration</h2>
<pre><code class="language-yaml">---
search:
  # Available: pt, ack, find, mdfind, custom, native
  method: &#39;native&#39;
  # Custom search command (${search} will be replaced by the string)
  command: &quot;pt --nocolor --nogroup -l -i &#39;${search}&#39; .&quot; # not used by native
  maxDepth: 10 # Default 10
  concurrency: 100 # Default 100 (only used with native search)
  # String match score (only used with native search)
  maxScore: 0.65
pagination:
  # Maximum number of items per page
  limit: 10 # Default 100
# Be careful with this next section as it will have an impact on performances
tree:
  # When calculating directory size we stop at the max_depth
  maxDepth: 10 #Default 10
  concurrency: 100 #Default 100
  cache: true # set to false to disable size caching
  cacheTTL: 86400 # dir size cache duration in second
remove:
  # &#39;mv&#39; will move files to a trash directory
  # &#39;rm&#39; will delete files
  # empty to disable deletion
  method: &#39;mv&#39; # default is to mv (move instead of remove)
  path: &#39;./trash&#39;
# disable with:
# archive: false
archive:
  path: &#39;./tmp&#39;
# disable with:
# upload: false
upload:
  path: &#39;./upload&#39;
  concurrency: 10
  maxSize: &#39;50mb&#39; # default to 50mb see https://github.com/expressjs/body-parser#limit
  maxCount: 10 # max number of files
# note that path values will be overridden by the user path if set
# path will be created if non-existant
database: &#39;./data/users&#39; # don&#39;t touch if you don&#39;t know what you&#39;re doing
app_root: &#39;/&#39; # app root for client ressources
session_secret: &#39;Some string here&#39; #Change this
port: 4859
https:
  port: 6859
  enabled: true # default option!
  key: &#39;./certs/key.pem&#39; # change those are dummies
  cert: &#39;./certs/cert.pem&#39;
plugins: # those are enable by default, use below options to disable them
  upload: {}
  archive: {}
cache: &#39;memory&#39; # redis is available too
redis:
  host: &#39;redis://127.0.0.1:6379&#39;
  # host: &#39;somesocket.sock&#39;
dev: false # more verbose error (stack)
auth: false # disable auth
user: admin # user to use without auth</code></pre>
<p>The <code>config.yml</code> will be searched in:</p>
<ul>
<li><code>~/.config/explorer/config.yml</code></li>
<li><code>./config/explorer/config.yml</code> (relative to the script directory!)</li>
</ul>
<p>To reload the configuration you&#39;ll need to restart the script <code>pm2 restart xplorer</code>!</p>
<p>See also: <a href="https://github.com/soyuka/explorer/blob/master/config.example.min.yml">minimal</a>, <a href="https://github.com/soyuka/explorer/blob/master/config.example.dev.yml">dev</a></p>
<h2 id="search">Search</h2>
<p>Search accepts globs and filters:</p>
<pre><code>somefile -exact # should match exactly, alias -e
somedir -e -dir # exact and a directory, -d or -directory
* -video # every video files
-audio # every audio files
* -video --no-recursive # search in the current path only
--directory --atime=1h # directory accessed in the last hour
*.js --mtime=&gt;2015-10-13 --mtime=&lt;2015-10-14 # get all javascript files modified between dates</code></pre><h2 id="https">HTTP(S)</h2>
<h3 id="nginx">Nginx</h3>
<pre><code class="language-nginx">upstream explorer {
  server localhost:4859 #port can be changed in the config.yml
}

server {
  listen 80;

  location / { #if you want to change this, change `app_root` in the config.yml
    proxy_pass http://explorer/
  }
}</code></pre>
<h3 id="apache">Apache</h3>
<pre><code class="language-apache">&lt;VirtualHost *:80&gt;
    ServerAdmin example@example.com
    ServerName explorer.com

    ProxyRequests off

    &lt;Proxy *&gt;
        Order deny,allow
        Allow from all
    &lt;/Proxy&gt;

    &lt;Location /&gt;
        ProxyPass http://localhost:4859/
        ProxyPassReverse http://localhost:4859/
    &lt;/Location&gt;
&lt;/VirtualHost&gt;</code></pre>
<h3 id="certs">Certs</h3>
<p>You can either change the paths in the <code>config.yml</code>, or replace those located in your configuration path (see <a href="#configuration">Configuration</a>).</p>
<h3 id="rss">Rss</h3>
<p>By calling your tree url or a search path (<code>localhost:4859/search?search=*.mkv&amp;key=my-key</code>), set the <code>Accept</code> header to <code>application/rss+xml</code>:</p>
<pre><code class="language-bash">http GET localhost:4859/?key=get-your-key-from-settings Accept:application/rss+xml</code></pre>
<h2 id="update">Update</h2>
<p><a href="https://github.com/soyuka/explorer/blob/master/doc/Migration.md">From 1.x to 2.x see configuration migration</a>.</p>
<h3 id="as-a-pm2-module">As a pm2 module</h3>
<pre><code>pm2 install xplorer</code></pre><h3 id="from-tarball">From tarball</h3>
<pre><code>cd /path/to/your/explorer
curl -L https://github.com/soyuka/explorer/archive/vx.x.x.tar.gz | tar xz --strip-components 1
npm rebuild</code></pre><h2 id="more-installation-methods">More installation methods</h2>
<h3 id="docker">Docker</h3>
<pre><code class="language-bash">git clone https://github.com/soyuka/explorer.git
cd explorer
docker build -t explorer .
# you have to mount the configuration to /opt/explorer (see EXPLORER_CONFIG env)
docker run -p 8080:4859 -d -v $(pwd)/doc/examples:/opt/explorer --name explorer explorer</code></pre>
<p>Use a mounted volume with data by changing your <code>home</code> in the Explorer admin panel.
Here we forward <code>8080</code> to <code>4859</code>, where <code>4859</code> is the default http port.</p>
<h3 id="tarball-package">Tarball package</h3>
<p>Download latest release, unpack, configure, launch :</p>
<pre><code class="language-bash">cp doc/examples/config.yml config.yml #copy default configuration
cp -r doc/examples/data data #copy default database
cp -r doc/examples/certs certs #copy default certificates for https
npm rebuild</code></pre>
<h3 id="git">Git</h3>
<pre><code class="language-bash">git clone https://github.com/soyuka/explorer.git
cd explorer
cp doc/examples/config.yml config.yml #copy default configuration
cp -r doc/examples/data data #copy default database
cp -r doc/examples/certs certs #copy default certificates for https
npm install #install packages</code></pre>
<p>Then run <code>gulp</code> to compile minified resources</p>
<pre><code class="language-bash">npm install gulp bower -g
bower install
gulp</code></pre>
<h3 id="betamaster-installation">Beta/master installation</h3>
<p>After using the default method (i.e. <code>pm2 install xplorer</code>):</p>
<pre><code class="language-bash">cd ~/.pm2/node_modules
npm install gulp bower -g
npm install git://github.com/soyuka/explorer
cd xplorer
bower install
gulp
pm2 restart xplorer</code></pre>
<h2 id="run">Run</h2>
<p>Installed as a pm2 module explorer will already be daemonized.</p>
<h3 id="development">Development</h3>
<pre><code class="language-bash">DEBUG=&quot;explorer:*&quot; node --harmony index.js</code></pre>
<h3 id="daemonize-with-pm2">Daemonize with pm2</h3>
<pre><code class="language-bash">npm i pm2 -g
pm2 start --node-args=&quot;--harmony&quot; --name explorer index.js</code></pre>
<h2 id="plugins">Plugins</h2>
<h3 id="install-a-plugin">Install a plugin:</h3>
<pre><code>explorer plugin install [plugin-name]</code></pre><p><strong>See <code>explorer --help</code> for more commands.</strong></p>
<h3 id="configure">Configure</h3>
<p>In the <code>config.yml</code>:</p>
<pre><code>plugins:
  name:
    module: &#39;npm-package-name&#39;
  local-name: {} # located in path/to/explorer/plugins/local-name</code></pre><h3 id="available-plugins">Available plugins:</h3>
<ul>
<li><a href="https://github.com/soyuka/explorer-unrar">explorer-unrar</a></li>
</ul>
<pre><code>plugins:
  unrar:
    module: &#39;explorer-unrar&#39;</code></pre><ul>
<li><a href="https://github.com/soyuka/explorer-cksfv">explorer-cksfv</a></li>
</ul>
<pre><code>plugins:
  cksfv
    module: &#39;explorer-cksfv&#39;</code></pre><ul>
<li><a href="https://github.com/soyuka/explorer-m3u">explorer-m3u</a></li>
</ul>
<pre><code>plugins:
  unrar:
    module: &#39;explorer-m3u&#39;</code></pre><h3 id="development-1">Development</h3>
<p><a href="https://github.com/soyuka/explorer/blob/master/doc/Plugins.md">See plugins documentation</a></p>
<h2 id="development-2">Development</h2>
<p>Clone <a href="#from-git">see From git</a></p>
<pre><code class="language-bash">DEBUG=&quot;explorer:*&quot; node --harmony index.js -c config.example.dev.yml</code></pre>
<p>Sass is compiled with gulp:</p>
<pre><code class="language-bash">gulp watch</code></pre>
<p>To get stack traces from errors use <code>dev: true</code> in your configuration file.</p>
<h3 id="tests">Tests</h3>
<p>Tests are using their own configuration file <code>test/fixtures/config.yml</code>:</p>
<pre><code class="language-bash">mocha --harmony</code></pre>
<h3 id="api-docs">Api docs</h3>
<p>Generated with <a href="http://apidocjs.com">apidocjs</a> (<a href="http://soyuka.github.io/explorer/#api-Admin-createUser">available here</a>):</p>
<p><code>apidoc -i routes -o doc/api</code></p>
<h2 id="performances">Performances</h2>
<p>We use Bluebird with concurrency, for your information you may speed things up:</p>
<pre><code>$ sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches
$ node test.js 1
reading files 35ms
$ sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches
$ node test.js Infinity
reading files: 9ms</code></pre><p>See <a href="https://github.com/petkaantonov/bluebird/blob/master/API.md#option-concurrency">bluebird docs</a>, <code>tree.concurrency</code> and <code>search.concurrency</code> configuration options.</p>
<p>In the configuration there is a <code>tree.maxDepth</code> parameter. It&#39;s used when <em>estimating</em> the size of a directory, we&#39;ll stop recursivity when depth is more than 10.
10 is a lot actually, to improve performances you should lower the number. To get a more precise number increase it.</p>
<p>The <code>search.maxDepth</code> indicates wether to search in the directory or not if it&#39;s too deep. Search will go faster but you&#39;ll get less results.</p>
<h2 id="why">Why?</h2>
<p>I did this because I could not find a light file explorer. It had to be simple, easy to install and fast.
I tried <a href="https://pyd.io">pydio</a> but it&#39;s heavy and long to install. I also tried <a href="http://larsjung.de/h5ai/">h5ai</a> but it does not have user support and has a lot of client-side javascript. I also have the feeling that it&#39;s slow.</p>
<p>KISS.</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 03 May 2020</div><div class="column">Version: 1.1.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>