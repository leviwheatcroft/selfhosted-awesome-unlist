<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="droppy is a self-hosted cloud server with an interface similar to desktop file managers and has capabilities to edit files on-the-fly as well as view and playback media directly in the browser."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/site.css" rel="stylesheet" type="text/css"></head></head><body><nav class="navigation"><section class="container"><a class="navigation-title" href="/">Selfhosted Awesome [Un]list</a><ul class="navigation-list float-right"><li class="navigation-item"><a class="navigation-link" href="https://github.com/leviwheatcroft/selfhosted-awesome-unlist"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>github</a></li></ul></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>droppy</h1><span class="subheading"></span><div class="links"><a class="button button-outline" href="https://github.com/silverwind/droppy"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>droppy</a><a class="button button-outline" href="https://droppy.silverwind.io/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>Demo</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info"><div class="github"><span class="pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>30 Apr 2020</span><span class="stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>1186</span><span class="issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>55</span></div><div class="tags"><a class="button" href="/tags/javascript.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>JavaScript</a><a class="button" href="/tags/file-sharing-and-synchronization.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>File Sharing and Synchronization</a><a class="button" href="/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>selfhosted</a><a class="button" href="/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Docker</a></div></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><p align="center">
  <img src="https://cdn.rawgit.com/silverwind/droppy/master/client/images/readme-logo.svg"/>
</p>
<p align="center">
  <a href="https://www.npmjs.org/package/droppy"><img src="https://img.shields.io/npm/v/droppy.svg"></a>
  <a href="https://raw.githubusercontent.com/silverwind/droppy/master/LICENSE"><img src="https://img.shields.io/badge/licence-bsd-blue.svg"></a>
  <a href="https://www.npmjs.org/package/droppy"><img src="https://img.shields.io/npm/dm/droppy.svg"></a>
</p>

<p><strong>droppy</strong> is a self-hosted file storage server with a web interface and capabilities to edit files and view media directly in the browser. It is particularly well-suited to be run on low-end hardware like the Raspberry Pi.</p>
<h2 id="features">Features</h2>
<ul>
<li>Responsive, scalable HTML5 interface</li>
<li>Realtime updates of file system changes</li>
<li>Directory and Multi-File upload</li>
<li>Drag-and-Drop support</li>
<li>Clipboard support to create image/text files</li>
<li>Side-by-Side mode</li>
<li>Simple and fast Search</li>
<li>Shareable public download links</li>
<li>Zip download of directories</li>
<li>Powerful text editor with themes and broad language support</li>
<li>Image and video gallery with touch support</li>
<li>Audio player with seeking support</li>
<li>Fullscreen support for editor and gallery</li>
<li>Supports installing to the homescreen</li>
<li>Docker images available for x86-64, ARMv6, ARMv7 and ARMv8</li>
</ul>
<h2 id="general-information">General Information</h2>
<p>Two directories will be used, one for configuration and one for the actual files:</p>
<ul>
<li><code>config</code>: defaults to <code>~/.droppy/config</code>, override with <code>-c /some/dir</code></li>
<li><code>files</code>: default <code>~/.droppy/files</code> override with <code>-f /some/dir</code></li>
</ul>
<p>droppy maintains an in-memory representation of the <code>files</code> directory. If you&#39;re on slow storage and/or serving 100k or more files, the initial indexing on startup will likely take some time.</p>
<h2 id="installation">Installation</h2>
<h3 id="local-installation-package">Local Installation :package:</h3>
<p>With <a href="https://nodejs.org"><code>Node.js</code></a> &gt;= 12.10.0 installed, run:</p>
<pre><code class="language-sh">$ npm install -g droppy
$ droppy start -c /srv/droppy/config -f /srv/droppy/files</code></pre>
<p>To make droppy run in the background, you can use the <code>--daemon</code> option, thought it is adviced that you install it as a persistent service in your system. For Linux, see these guides:</p>
<ul>
<li><a href="https://github.com/silverwind/droppy/wiki/Systemd-Installation">Systemd-based distributions</a></li>
<li><a href="https://github.com/silverwind/droppy/wiki/Debian-Installation-(Pre-Jessie)">Debian (Pre-Jessie)</a></li>
<li><a href="https://github.com/silverwind/droppy/wiki/Nginx-reverse-proxy">Nginx reverse proxy</a></li>
<li><a href="https://github.com/silverwind/droppy/wiki/Apache-reverse-proxy">Apache reverse proxy</a></li>
</ul>
<h3 id="docker-installation-whale">Docker installation :whale:</h3>
<p>The following images are available:</p>
<ul>
<li><a href="https://hub.docker.com/r/silverwind/droppy/"><code>silverwind/droppy</code></a> for x86-64</li>
<li><a href="https://hub.docker.com/r/silverwind/armhf-droppy/"><code>silverwind/armhf-droppy</code></a> for ARMv6 and ARMv7</li>
<li><a href="https://hub.docker.com/r/silverwind/arm64v8-droppy/"><code>silverwind/arm64v8-droppy</code></a> for ARMv8</li>
</ul>
<p>To pull and run, use:</p>
<pre><code class="language-sh">$ docker run --name droppy -p 127.0.0.1:8989:8989 silverwind/droppy</code></pre>
<p>This method uses automatic volumes for <code>/config</code> and <code>/files</code> which can be overridden through <code>-v /srv/droppy/config:/config</code> and <code>-v /srv/droppy/files:/files</code>. If you&#39;re using existing files, it&#39;s advisable to use <code>-e UID=1000 -e GID=1000</code> to get new files written with correct ownership.</p>
<p>To update a docker installation, run</p>
<pre><code class="language-sh">$ docker pull silverwind/droppy
$ docker stop droppy &amp;&amp; docker rm droppy
$ docker run --name droppy -p 127.0.0.1:8989:8989 silverwind/droppy</code></pre>
<h3 id="docker-compose">docker-compose</h3>
<p>Alternatively, you can use the example <a href="https://github.com/silverwind/droppy/blob/master/examples/docker-compose.yml"><code>docker-compose.yml</code></a>:</p>
<pre><code class="language-sh">$ curl -O https://raw.githubusercontent.com/silverwind/droppy/master/examples/docker-compose.yml
$ docker-compose up</code></pre>
<p>This example <code>docker-compose.yml</code> uses the subdirectories <code>config</code> and <code>files</code> of the current working directory for storing data.</p>
<h3 id="caddy">Caddy</h3>
<p>See the example <a href="examples/Caddyfile">Caddyfile</a>.</p>
<h2 id="configuration">Configuration</h2>
<p>By default, the server listens on all IPv4 and IPv6 interfaces on port 8989. On first startup, a prompt to create login data for the first account will appear. Once it&#39;s created, login credentials are enforced. Additional accounts can be created in the options interface or the command line. Configuration is done in <code>config/config.json</code>, which is created with these defaults:</p>
<pre><code class="language-javascript">{
  &quot;listeners&quot; : [
    {
      &quot;host&quot;: [&quot;0.0.0.0&quot;, &quot;::&quot;],
      &quot;port&quot;: 8989,
      &quot;protocol&quot;: &quot;http&quot;
    }
  ],
  &quot;public&quot;: false,
  &quot;timestamps&quot;: true,
  &quot;linkLength&quot;: 5,
  &quot;linkExtensions&quot;: false,
  &quot;logLevel&quot;: 2,
  &quot;maxFileSize&quot;: 0,
  &quot;updateInterval&quot;: 1000,
  &quot;pollingInterval&quot;: 0,
  &quot;keepAlive&quot;: 20000,
  &quot;allowFrame&quot;: false,
  &quot;readOnly&quot;: false,
  &quot;ignorePatterns&quot;: [],
  &quot;watch&quot;: true,
  &quot;headers&quot;: {}
}</code></pre>
<h2 id="options">Options</h2>
<ul>
<li><code>listeners</code> <em>Array</em> - Defines on which network interfaces, port and protocols the server will listen. See <a href="#listener-options">listener options</a> below. <code>listeners</code> has no effect when droppy is used as a module. The default listens on HTTP port 8989 on all interfaces and protocols.</li>
<li><code>public</code> <em>boolean</em> - When enabled, no user authentication is performed. Default: <code>false</code>.</li>
<li><code>timestamps</code> <em>boolean</em> - When enabled, adds timestamps to log output. Default: <code>true</code>.</li>
<li><code>linkLength</code> <em>number</em> - The amount of characters in a shared link. Default: <code>5</code>.</li>
<li><code>linkExtensions</code> <em>boolean</em> - Whether shared links should include the file extension. This can be used to allow other software to make a guess on the content of the file without actually retrieving it. Default: <code>false</code>.</li>
<li><code>logLevel</code> <em>number</em> - Logging amount. <code>0</code> is no logging, <code>1</code> is errors, <code>2</code> is info (HTTP requests), <code>3</code> is debug (Websocket communication). Default: <code>2</code>.</li>
<li><code>maxFileSize</code> <em>number</em> - The maximum file size in bytes a user can upload in a single file. <code>0</code> means no limit. Default: <code>0</code>.</li>
<li><code>updateInterval</code> <em>number</em> - Interval in milliseconds in which a single client can receive update messages through changes in the file system. Default: <code>1000</code>.</li>
<li><code>pollingInterval</code> <em>number</em> - Interval in milliseconds in which the file system is polled for changes, which <strong>may necessary for files on external or network-mapped drives</strong>. Corresponds to chokidar&#39;s <a href="https://github.com/paulmillr/chokidar#performance">usePolling</a> option. This is CPU-intensive. <code>0</code> disables polling. Default: <code>0</code>.</li>
<li><code>keepAlive</code> <em>number</em> - Interval in milliseconds in which the server sends websocket keepalive messages, which may be necessary when proxies are involved. <code>0</code> disables keepalive messages. Default: <code>20000</code>.</li>
<li><code>allowFrame</code> <em>boolean</em> - Allow the page to be loaded into a <code>&lt;frame&gt;</code> or <code>&lt;iframe&gt;</code>. Default: <code>false</code>.</li>
<li><code>readOnly</code> <em>boolean</em> - Treat all files as being read-only. Default: <code>false</code>.</li>
<li><code>compression</code> <em>boolean</em> - Whether to serve brotli/gzip compressed static content. Default: <code>true</code>. Note that compression incurs no performance penalty because pre-compressed artifacts are included in the distribution. Default: <code>true</code>.</li>
<li><code>dev</code> <em>boolean</em> - Enable developer mode, skipping resource minification and enabling live reload. Default: <code>false</code>.</li>
<li><code>ignorePatterns</code> <em>Array</em> - Array of file path glob patterns to ignore when indexing files. See <a href="https://github.com/micromatch/picomatch#globbing-features">here</a> for supported patterns. Default: <code>[]</code>.</li>
<li><code>watch</code> <em>boolean</em> - Whether to watch the local file system for changes. Disabling this may improve performance when dealing with a large number of files, but with the downside that changes not done via droppy won&#39;t be detected. Default: <code>true</code>.</li>
<li><code>headers</code> <em>Object</em>: A object with key-value pairs of custom HTTP headers to set on all responses, for example <code>{&quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;}</code>. Default: <code>{}</code>.</li>
</ul>
<p><a name="listener-options"></a></p>
<h3 id="listener-options">Listener Options</h3>
<p><code>listeners</code> defines on which network interfaces, ports and protocol(s) the server will listen. For example:</p>
<pre><code class="language-javascript">&quot;listeners&quot;: [
  {
    &quot;host&quot;: &quot;::&quot;,
    &quot;port&quot;: 80,
    &quot;socket&quot;: &quot;/tmp/droppy&quot;,
    &quot;protocol&quot;: &quot;http&quot;
  },
  {
    &quot;host&quot;: &quot;0.0.0.0&quot;,
    &quot;port&quot;: 443,
    &quot;protocol&quot;: &quot;https&quot;,
    &quot;key&quot;: &quot;~/certs/example.com.key&quot;,
    &quot;cert&quot;: &quot;~/certs/example.com.crt&quot;
  }
]</code></pre>
<p>The above configuration will result in:</p>
<ul>
<li>HTTP listening on all IPv4 and IPv6 interfaces, port 80 and on the unix domain socket <code>/tmp/droppy</code>.</li>
<li>HTTPS listening on all IPv4 interfaces, port 443 using the provided TLS files.</li>
</ul>
<p>A listener object accepts these options:</p>
<ul>
<li><code>host</code> <em>string/Array</em> - Network interface(s) addresses to listen on. Required when <code>port</code> is given. Note that &quot;::&quot; will typically bind to both IPv4 and IPv6 on all addresses but a &quot;0.0.0.0&quot; address might be required if IPv6 is disabled.</li>
<li><code>port</code> <em>number/string/Array</em> - Network port(s) to listen on. Required when <code>host</code> is given.</li>
<li><code>socket</code> <em>string/Array</em> - Unix domain socket(s) to listen on.</li>
<li><code>protocol</code> <em>string</em> - Protocol to use, <code>http</code> or <code>https</code>. Required.</li>
</ul>
<p>For TLS the following additional options are available. Paths can be given relative to the configuration directory and <code>~</code> is resolved as expected.</p>
<ul>
<li><code>cert</code> <em>string</em> - Path to PEM-encoded TLS certificate file, which can include additional intermediate certificates concatenated after the main certificate. Required.</li>
<li><code>key</code> <em>string</em> - Path to PEM-encoded TLS private key file not encrypted with a passphrase. Required.</li>
</ul>
<h2 id="downloading-from-the-command-line">Downloading from the command line</h2>
<p>To download shared links with <code>curl</code> and <code>wget</code> to the correct filename:</p>
<pre><code class="language-sh">$ curl -OJ url
$ wget --content-disposition url</code></pre>
<h1 id="development">Development</h1>
<p>To start a live-reloading dev server:</p>
<pre><code class="language-sh">$ git clone https://github.com/silverwind/droppy &amp;&amp; cd droppy
$ npm i
$ node droppy start --dev</code></pre>
<p>The <a href="https://github.com/silverwind/droppy/blob/master/Makefile">Makefile</a> has a few tasks for updating dependencies, pushing docker images, see the comment above for dependencies of those tasks.</p>
<p>Â© <a href="https://github.com/silverwind">silverwind</a>, distributed under BSD licence.</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 02 May 2020</div><div class="column">Version: 1.0.0</div></div></div></footer><script src="/site.js"></script></body></html>