<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="droppy is a self-hosted cloud server with an interface similar to desktop file managers and has capabilities to edit files on-the-fly as well as view and playback media directly in the browser."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>droppy</h1><span class="subheading">droppy is a self-hosted cloud server with an interface similar to desktop file managers and has capabilities to edit files on-the-fly as well as view and playback media directly in the browser.</span><div class="links"><a class="button button-outline" href="https://github.com/silverwind/droppy"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>droppy</a><a class="button button-outline" href="https://droppy.silverwind.io/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>Demo</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>30 Apr 2020</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>1212</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>56</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/tags/javascript.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">199</span>javascript</a><a class="tag" href="/selfhosted-awesome-unlist/tags/cloud-storage.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">4</span>cloud-storage</a><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>codemirror</span><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>file-server</span><a class="tag" href="/selfhosted-awesome-unlist/tags/image-gallery.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">5</span>image-gallery</a><a class="tag" href="/selfhosted-awesome-unlist/tags/media-server.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">5</span>media-server</a><a class="tag" href="/selfhosted-awesome-unlist/tags/nodejs.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">38</span>nodejs</a><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>plyr</span><a class="tag" href="/selfhosted-awesome-unlist/tags/self-hosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">77</span>self-hosted</a><a class="tag" href="/selfhosted-awesome-unlist/tags/file-sharing-and-synchronization.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">63</span>file sharing and synchronization</a><a class="tag" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">943</span>selfhosted</a><a class="tag" href="/selfhosted-awesome-unlist/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">328</span>docker</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column">
<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content" itemprop="text"><p align="center">
  <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/abce96075e1d9ffb897a243c09f320d99d0309d7/68747470733a2f2f63646e2e7261776769742e636f6d2f73696c76657277696e642f64726f7070792f6d61737465722f636c69656e742f696d616765732f726561646d652d6c6f676f2e737667"><img src="https://camo.githubusercontent.com/abce96075e1d9ffb897a243c09f320d99d0309d7/68747470733a2f2f63646e2e7261776769742e636f6d2f73696c76657277696e642f64726f7070792f6d61737465722f636c69656e742f696d616765732f726561646d652d6c6f676f2e737667" data-canonical-src="https://cdn.rawgit.com/silverwind/droppy/master/client/images/readme-logo.svg" style="max-width:100%;"></a>
</p>
<p align="center">
  <a href="https://www.npmjs.org/package/droppy" rel="nofollow"><img src="https://camo.githubusercontent.com/7d7c7a6fef01930cefd2d55ffa698c55bc30e5b1/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f64726f7070792e737667" data-canonical-src="https://img.shields.io/npm/v/droppy.svg" style="max-width:100%;"></a>
  <a href="https://raw.githubusercontent.com/silverwind/droppy/master/LICENSE" rel="nofollow"><img src="https://camo.githubusercontent.com/01939ded861e7407ea025a38727073078c6f7293/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e63652d6273642d626c75652e737667" data-canonical-src="https://img.shields.io/badge/licence-bsd-blue.svg" style="max-width:100%;"></a>
  <a href="https://www.npmjs.org/package/droppy" rel="nofollow"><img src="https://camo.githubusercontent.com/a21b62cb3bed0ae36aecccde13579740f94476de/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f646d2f64726f7070792e737667" data-canonical-src="https://img.shields.io/npm/dm/droppy.svg" style="max-width:100%;"></a>
</p>
<p><strong>droppy</strong> is a self-hosted file storage server with a web interface and capabilities to edit files and view media directly in the browser. It is particularly well-suited to be run on low-end hardware like the Raspberry Pi.</p>
<h2><a id="user-content-features" class="anchor" aria-hidden="true" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features</h2>
<ul>
<li>Responsive, scalable HTML5 interface</li>
<li>Realtime updates of file system changes</li>
<li>Directory and Multi-File upload</li>
<li>Drag-and-Drop support</li>
<li>Clipboard support to create image/text files</li>
<li>Side-by-Side mode</li>
<li>Simple and fast Search</li>
<li>Shareable public download links</li>
<li>Zip download of directories</li>
<li>Powerful text editor with themes and broad language support</li>
<li>Image and video gallery with touch support</li>
<li>Audio player with seeking support</li>
<li>Fullscreen support for editor and gallery</li>
<li>Supports installing to the homescreen</li>
<li>Docker images available for x86-64, ARMv6, ARMv7 and ARMv8</li>
</ul>
<h2><a id="user-content-general-information" class="anchor" aria-hidden="true" href="#general-information"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>General Information</h2>
<p>Two directories will be used, one for configuration and one for the actual files:</p>
<ul>
<li><code>config</code>: defaults to <code>~/.droppy/config</code>, override with <code>-c /some/dir</code></li>
<li><code>files</code>: default <code>~/.droppy/files</code> override with <code>-f /some/dir</code></li>
</ul>
<p>droppy maintains an in-memory representation of the <code>files</code> directory. If you're on slow storage and/or serving 100k or more files, the initial indexing on startup will likely take some time.</p>
<h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<h3><a id="user-content-local-installation-package" class="anchor" aria-hidden="true" href="#local-installation-package"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Local Installation <g-emoji class="g-emoji" alias="package" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4e6.png">📦</g-emoji></h3>
<p>With <a href="https://nodejs.org" rel="nofollow"><code>Node.js</code></a> &gt;= 12.10.0 installed, run:</p>
<div class="highlight highlight-source-shell"><pre>$ npm install -g droppy
$ droppy start -c /srv/droppy/config -f /srv/droppy/files</pre></div>
<p>To make droppy run in the background, you can use the <code>--daemon</code> option, thought it is adviced that you install it as a persistent service in your system. For Linux, see these guides:</p>
<ul>
<li><a href="https://github.com/silverwind/droppy/wiki/Systemd-Installation">Systemd-based distributions</a></li>
<li><a href="https://github.com/silverwind/droppy/wiki/Debian-Installation-(Pre-Jessie)">Debian (Pre-Jessie)</a></li>
<li><a href="https://github.com/silverwind/droppy/wiki/Nginx-reverse-proxy">Nginx reverse proxy</a></li>
<li><a href="https://github.com/silverwind/droppy/wiki/Apache-reverse-proxy">Apache reverse proxy</a></li>
</ul>
<h3><a id="user-content-docker-installation-whale" class="anchor" aria-hidden="true" href="#docker-installation-whale"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Docker installation <g-emoji class="g-emoji" alias="whale" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f433.png">🐳</g-emoji></h3>
<p>The following images are available:</p>
<ul>
<li><a href="https://hub.docker.com/r/silverwind/droppy/" rel="nofollow"><code>silverwind/droppy</code></a> for x86-64</li>
<li><a href="https://hub.docker.com/r/silverwind/armhf-droppy/" rel="nofollow"><code>silverwind/armhf-droppy</code></a> for ARMv6 and ARMv7</li>
<li><a href="https://hub.docker.com/r/silverwind/arm64v8-droppy/" rel="nofollow"><code>silverwind/arm64v8-droppy</code></a> for ARMv8</li>
</ul>
<p>To pull and run, use:</p>
<div class="highlight highlight-source-shell"><pre>$ docker run --name droppy -p 127.0.0.1:8989:8989 silverwind/droppy</pre></div>
<p>This method uses automatic volumes for <code>/config</code> and <code>/files</code> which can be overridden through <code>-v /srv/droppy/config:/config</code> and <code>-v /srv/droppy/files:/files</code>. If you're using existing files, it's advisable to use <code>-e UID=1000 -e GID=1000</code> to get new files written with correct ownership.</p>
<p>To update a docker installation, run</p>
<div class="highlight highlight-source-shell"><pre>$ docker pull silverwind/droppy
$ docker stop droppy <span class="pl-k">&amp;&amp;</span> docker rm droppy
$ docker run --name droppy -p 127.0.0.1:8989:8989 silverwind/droppy</pre></div>
<h3><a id="user-content-docker-compose" class="anchor" aria-hidden="true" href="#docker-compose"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>docker-compose</h3>
<p>Alternatively, you can use the example <a href="https://github.com/silverwind/droppy/blob/master/examples/docker-compose.yml"><code>docker-compose.yml</code></a>:</p>
<div class="highlight highlight-source-shell"><pre>$ curl -O https://raw.githubusercontent.com/silverwind/droppy/master/examples/docker-compose.yml
$ docker-compose up</pre></div>
<p>This example <code>docker-compose.yml</code> uses the subdirectories <code>config</code> and <code>files</code> of the current working directory for storing data.</p>
<h3><a id="user-content-caddy" class="anchor" aria-hidden="true" href="#caddy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Caddy</h3>
<p>See the example <a href="examples/Caddyfile">Caddyfile</a>.</p>
<h2><a id="user-content-configuration" class="anchor" aria-hidden="true" href="#configuration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h2>
<p>By default, the server listens on all IPv4 and IPv6 interfaces on port 8989. On first startup, a prompt to create login data for the first account will appear. Once it's created, login credentials are enforced. Additional accounts can be created in the options interface or the command line. Configuration is done in <code>config/config.json</code>, which is created with these defaults:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-kos">{</span>
  <span class="pl-s">"listeners"</span> : <span class="pl-kos">[</span>
    <span class="pl-kos">{</span>
      <span class="pl-s">"host"</span>: <span class="pl-kos">[</span><span class="pl-s">"0.0.0.0"</span><span class="pl-kos">,</span> <span class="pl-s">"::"</span><span class="pl-kos">]</span><span class="pl-kos">,</span>
      <span class="pl-s">"port"</span>: <span class="pl-c1">8989</span><span class="pl-kos">,</span>
      <span class="pl-s">"protocol"</span>: <span class="pl-s">"http"</span>
    <span class="pl-kos">}</span>
  <span class="pl-kos">]</span><span class="pl-kos">,</span>
  <span class="pl-s">"public"</span>: <span class="pl-c1">false</span><span class="pl-kos">,</span>
  <span class="pl-s">"timestamps"</span>: <span class="pl-c1">true</span><span class="pl-kos">,</span>
  <span class="pl-s">"linkLength"</span>: <span class="pl-c1">5</span><span class="pl-kos">,</span>
  <span class="pl-s">"linkExtensions"</span>: <span class="pl-c1">false</span><span class="pl-kos">,</span>
  <span class="pl-s">"logLevel"</span>: <span class="pl-c1">2</span><span class="pl-kos">,</span>
  <span class="pl-s">"maxFileSize"</span>: <span class="pl-c1">0</span><span class="pl-kos">,</span>
  <span class="pl-s">"updateInterval"</span>: <span class="pl-c1">1000</span><span class="pl-kos">,</span>
  <span class="pl-s">"pollingInterval"</span>: <span class="pl-c1">0</span><span class="pl-kos">,</span>
  <span class="pl-s">"keepAlive"</span>: <span class="pl-c1">20000</span><span class="pl-kos">,</span>
  <span class="pl-s">"allowFrame"</span>: <span class="pl-c1">false</span><span class="pl-kos">,</span>
  <span class="pl-s">"readOnly"</span>: <span class="pl-c1">false</span><span class="pl-kos">,</span>
  <span class="pl-s">"ignorePatterns"</span>: <span class="pl-kos">[</span><span class="pl-kos">]</span><span class="pl-kos">,</span>
  <span class="pl-s">"watch"</span>: <span class="pl-c1">true</span><span class="pl-kos">,</span>
  <span class="pl-s">"headers"</span>: <span class="pl-kos">{</span><span class="pl-kos">}</span>
<span class="pl-kos">}</span></pre></div>
<h2><a id="user-content-options" class="anchor" aria-hidden="true" href="#options"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h2>
<ul>
<li><code>listeners</code> <em>Array</em> - Defines on which network interfaces, port and protocols the server will listen. See <a href="#listener-options">listener options</a> below. <code>listeners</code> has no effect when droppy is used as a module. The default listens on HTTP port 8989 on all interfaces and protocols.</li>
<li><code>public</code> <em>boolean</em> - When enabled, no user authentication is performed. Default: <code>false</code>.</li>
<li><code>timestamps</code> <em>boolean</em> - When enabled, adds timestamps to log output. Default: <code>true</code>.</li>
<li><code>linkLength</code> <em>number</em> - The amount of characters in a shared link. Default: <code>5</code>.</li>
<li><code>linkExtensions</code> <em>boolean</em> - Whether shared links should include the file extension. This can be used to allow other software to make a guess on the content of the file without actually retrieving it. Default: <code>false</code>.</li>
<li><code>logLevel</code> <em>number</em> - Logging amount. <code>0</code> is no logging, <code>1</code> is errors, <code>2</code> is info (HTTP requests), <code>3</code> is debug (Websocket communication). Default: <code>2</code>.</li>
<li><code>maxFileSize</code> <em>number</em> - The maximum file size in bytes a user can upload in a single file. <code>0</code> means no limit. Default: <code>0</code>.</li>
<li><code>updateInterval</code> <em>number</em> - Interval in milliseconds in which a single client can receive update messages through changes in the file system. Default: <code>1000</code>.</li>
<li><code>pollingInterval</code> <em>number</em> - Interval in milliseconds in which the file system is polled for changes, which <strong>may necessary for files on external or network-mapped drives</strong>. Corresponds to chokidar's <a href="https://github.com/paulmillr/chokidar#performance">usePolling</a> option. This is CPU-intensive. <code>0</code> disables polling. Default: <code>0</code>.</li>
<li><code>keepAlive</code> <em>number</em> - Interval in milliseconds in which the server sends websocket keepalive messages, which may be necessary when proxies are involved. <code>0</code> disables keepalive messages. Default: <code>20000</code>.</li>
<li><code>allowFrame</code> <em>boolean</em> - Allow the page to be loaded into a <code>&lt;frame&gt;</code> or <code>&lt;iframe&gt;</code>. Default: <code>false</code>.</li>
<li><code>readOnly</code> <em>boolean</em> - Treat all files as being read-only. Default: <code>false</code>.</li>
<li><code>compression</code> <em>boolean</em> - Whether to serve brotli/gzip compressed static content. Default: <code>true</code>. Note that compression incurs no performance penalty because pre-compressed artifacts are included in the distribution. Default: <code>true</code>.</li>
<li><code>dev</code> <em>boolean</em> - Enable developer mode, skipping resource minification and enabling live reload. Default: <code>false</code>.</li>
<li><code>ignorePatterns</code> <em>Array</em> - Array of file path glob patterns to ignore when indexing files. See <a href="https://github.com/micromatch/picomatch#globbing-features">here</a> for supported patterns. Default: <code>[]</code>.</li>
<li><code>watch</code> <em>boolean</em> - Whether to watch the local file system for changes. Disabling this may improve performance when dealing with a large number of files, but with the downside that changes not done via droppy won't be detected. Default: <code>true</code>.</li>
<li><code>headers</code> <em>Object</em>: A object with key-value pairs of custom HTTP headers to set on all responses, for example <code>{"Access-Control-Allow-Origin": "*"}</code>. Default: <code>{}</code>.</li>
</ul>
<p><a name="user-content-listener-options"></a></p>
<h3><a id="user-content-listener-options" class="anchor" aria-hidden="true" href="#listener-options"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Listener Options</h3>
<p><code>listeners</code> defines on which network interfaces, ports and protocol(s) the server will listen. For example:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-s">"listeners"</span>: <span class="pl-kos">[</span>
  <span class="pl-kos">{</span>
    <span class="pl-s">"host"</span>: <span class="pl-s">"::"</span><span class="pl-kos">,</span>
    <span class="pl-s">"port"</span>: <span class="pl-c1">80</span><span class="pl-kos">,</span>
    <span class="pl-s">"socket"</span>: <span class="pl-s">"/tmp/droppy"</span><span class="pl-kos">,</span>
    <span class="pl-s">"protocol"</span>: <span class="pl-s">"http"</span>
  <span class="pl-kos">}</span><span class="pl-kos">,</span>
  <span class="pl-kos">{</span>
    <span class="pl-s">"host"</span>: <span class="pl-s">"0.0.0.0"</span><span class="pl-kos">,</span>
    <span class="pl-s">"port"</span>: <span class="pl-c1">443</span><span class="pl-kos">,</span>
    <span class="pl-s">"protocol"</span>: <span class="pl-s">"https"</span><span class="pl-kos">,</span>
    <span class="pl-s">"key"</span>: <span class="pl-s">"~/certs/example.com.key"</span><span class="pl-kos">,</span>
    <span class="pl-s">"cert"</span>: <span class="pl-s">"~/certs/example.com.crt"</span>
  <span class="pl-kos">}</span>
<span class="pl-kos">]</span></pre></div>
<p>The above configuration will result in:</p>
<ul>
<li>HTTP listening on all IPv4 and IPv6 interfaces, port 80 and on the unix domain socket <code>/tmp/droppy</code>.</li>
<li>HTTPS listening on all IPv4 interfaces, port 443 using the provided TLS files.</li>
</ul>
<p>A listener object accepts these options:</p>
<ul>
<li><code>host</code> <em>string/Array</em> - Network interface(s) addresses to listen on. Required when <code>port</code> is given. Note that "::" will typically bind to both IPv4 and IPv6 on all addresses but a "0.0.0.0" address might be required if IPv6 is disabled.</li>
<li><code>port</code> <em>number/string/Array</em> - Network port(s) to listen on. Required when <code>host</code> is given.</li>
<li><code>socket</code> <em>string/Array</em> - Unix domain socket(s) to listen on.</li>
<li><code>protocol</code> <em>string</em> - Protocol to use, <code>http</code> or <code>https</code>. Required.</li>
</ul>
<p>For TLS the following additional options are available. Paths can be given relative to the configuration directory and <code>~</code> is resolved as expected.</p>
<ul>
<li><code>cert</code> <em>string</em> - Path to PEM-encoded TLS certificate file, which can include additional intermediate certificates concatenated after the main certificate. Required.</li>
<li><code>key</code> <em>string</em> - Path to PEM-encoded TLS private key file not encrypted with a passphrase. Required.</li>
</ul>
<h2><a id="user-content-downloading-from-the-command-line" class="anchor" aria-hidden="true" href="#downloading-from-the-command-line"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Downloading from the command line</h2>
<p>To download shared links with <code>curl</code> and <code>wget</code> to the correct filename:</p>
<div class="highlight highlight-source-shell"><pre>$ curl -OJ url
$ wget --content-disposition url</pre></div>
<h1><a id="user-content-development" class="anchor" aria-hidden="true" href="#development"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Development</h1>
<p>To start a live-reloading dev server:</p>
<div class="highlight highlight-source-shell"><pre>$ git clone https://github.com/silverwind/droppy <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">cd</span> droppy
$ npm i
$ node droppy start --dev</pre></div>
<p>The <a href="https://github.com/silverwind/droppy/blob/master/Makefile">Makefile</a> has a few tasks for updating dependencies, pushing docker images, see the comment above for dependencies of those tasks.</p>
<p>© <a href="https://github.com/silverwind">silverwind</a>, distributed under BSD licence.</p>
</article></div>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 15 May 2020</div><div class="column">Version: 1.3.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>