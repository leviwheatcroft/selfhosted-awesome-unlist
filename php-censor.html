<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Open source self-hosted continuous integration server for PHP projects."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>php-censor</h1><span class="subheading">Open source self-hosted continuous integration server for PHP projects.</span><div class="links"><a class="button button-outline" href="https://github.com/php-censor/php-censor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>PHP Censor</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>04 May 2020</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>573</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>44</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/tags/php.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">218</span>php</a><a class="tag" href="/selfhosted-awesome-unlist/tags/ci.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">5</span>ci</a><a class="tag" href="/selfhosted-awesome-unlist/tags/continuous-integration.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">10</span>continuous-integration</a><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>database-testing</span><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>php-censor</span><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>phpcensor</span><a class="tag" href="/selfhosted-awesome-unlist/tags/phpci.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">2</span>phpci</a><a class="tag" href="/selfhosted-awesome-unlist/tags/self-hosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">77</span>self-hosted</a><a class="tag" href="/selfhosted-awesome-unlist/tags/testing.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">2</span>testing</a><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>unit-testing</span><a class="tag" href="/selfhosted-awesome-unlist/tags/continuous-integration-and-continuous-deployment.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">13</span>continuous integration &amp; continuous deployment</a><a class="tag" href="/selfhosted-awesome-unlist/tags/sysadmin.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">371</span>sysadmin</a><a class="tag" href="/selfhosted-awesome-unlist/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">327</span>docker</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><p><a href="http://ci.php-censor.info/build-status/view/2?branch=master"><img src="http://ci.php-censor.info/build-status/image/2?branch=master&label=PHPCensor&style=flat-square" alt="PHP Censor"></a>
<a href="https://travis-ci.org/php-censor/php-censor?branch=master"><img src="https://img.shields.io/travis/php-censor/php-censor/master.svg?label=TravisCI&style=flat-square" alt="Travis CI"></a>
<a href="https://codecov.io/gh/php-censor/php-censor"><img src="https://img.shields.io/codecov/c/github/php-censor/php-censor.svg?label=Codecov&style=flat-square" alt="Codecov"></a>
<a href="https://packagist.org/packages/php-censor/php-censor"><img src="https://img.shields.io/packagist/v/php-censor/php-censor.svg?label=Version&style=flat-square" alt="Latest Version"></a>
<a href="https://packagist.org/packages/php-censor/php-censor"><img src="https://img.shields.io/packagist/dt/php-censor/php-censor.svg?label=Downloads&style=flat-square" alt="Total downloads"></a>
<a href="https://packagist.org/packages/php-censor/php-censor"><img src="https://img.shields.io/packagist/l/php-censor/php-censor.svg?label=License&style=flat-square" alt="License"></a></p>
<p align="center">
    <img width="500" height="auto" src="docs/images/php-censor-black.png" alt="PHP Censor" />
</p>


<p><strong>PHP Censor</strong> is an open source, self-hosted, continuous integration server for PHP projects 
(<a href="https://www.phptesting.org">PHPCI</a> fork). <a href="https://twitter.com/php_censor">Official twitter @php_censor</a>.</p>
<p>Actual PHP Censor versions and release branches:</p>
<table>
<thead>
<tr>
<th align="left">Version</th>
<th align="left">Branch</th>
<th align="left">Status</th>
<th align="left">Minimal PHP Version</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>1.0</code></td>
<td align="left"><code>release-1.0</code></td>
<td align="left">Last stable version</td>
<td align="left"><code>5.6</code></td>
</tr>
<tr>
<td align="left"><code>1.1</code></td>
<td align="left"><code>release-1.1</code></td>
<td align="left">Current stable version</td>
<td align="left"><code>5.6</code></td>
</tr>
<tr>
<td align="left"><code>1.2</code></td>
<td align="left"><code>master</code></td>
<td align="left">Future stable minor version (WIP)</td>
<td align="left"><code>5.6</code></td>
</tr>
<tr>
<td align="left"><code>2.0</code></td>
<td align="left"><code>pre-release-2.0</code></td>
<td align="left">Future stable major version (WIP)</td>
<td align="left"><code>7.1</code></td>
</tr>
</tbody></table>
<p><a href="docs/screenshots/dashboard.png"><img src="docs/screenshots/dashboard.png" alt="Dashboard"></a></p>
<p>More <a href="docs/en/screenshots.md">screenshots</a>.</p>
<ul>
<li><a href="#system-requirements">System requirements</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#changelog">Changelog</a></li>
<li><a href="#roadmap">Roadmap</a></li>
<li><a href="#installing">Installing</a></li>
<li><a href="#installing-via-docker">Installing via Docker</a></li>
<li><a href="#updating">Updating</a></li>
<li><a href="#configuring-project">Configuring project</a></li>
<li><a href="#migrations">Migrations</a></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="system-requirements">System requirements</h2>
<ul>
<li><p>Unix-like OS (<strong>Windows isn&#39;t supported</strong>);</p>
</li>
<li><p>PHP 5.6+ (with OpenSSL support and enabled functions: <code>exec()</code>, <code>shell_exec()</code> and <code>proc_open()</code>);</p>
</li>
<li><p>Web-server (Nginx or Apache2);</p>
</li>
<li><p>Database (MySQL/MariaDB or PostgreSQL);</p>
</li>
<li><p>Beanstalkd queue;</p>
</li>
</ul>
<h2 id="features">Features</h2>
<ul>
<li><p>Clone project from <a href="docs/en/sources/github.md">GitHub</a>, <a href="docs/en/sources/bitbucket.md">Bitbucket</a> (Git/Hg), 
<a href="docs/en/sources/gitlab.md">GitLab</a>, <a href="docs/en/sources/git.md">Git</a>, Hg (Mercurial), SVN (Subversion) or from local 
directory;</p>
</li>
<li><p>Set up and tear down database tests for <a href="docs/en/plugins/pgsql.md">PostgreSQL</a>, <a href="docs/en/plugins/mysql.md">MySQL</a> or 
<a href="docs/en/plugins/sqlite.md">SQLite</a>;</p>
</li>
<li><p>Install <a href="docs/en/plugins/composer.md">Composer</a> dependencies;</p>
</li>
<li><p>Run tests for PHPUnit, Atoum, Behat, Codeception and PHPSpec;</p>
</li>
<li><p>Check code via Lint, PHPParallelLint, Pdepend, PHPCodeSniffer, PHPCpd, PHPCsFixer, PHPDocblockChecker, PHPLoc, 
PHPMessDetector, PHPTalLint and TechnicalDebt;</p>
</li>
<li><p>Run through any combination of the other <a href="docs/en/README.md#plugins">supported plugins</a>, including Campfire, 
CleanBuild, CopyBuild, Deployer, Env, Git, Grunt, Gulp, PackageBuild, Phar, Phing, Shell and Wipe;</p>
</li>
<li><p>Send notifications to Email, XMPP, Slack, IRC, Flowdock, HipChat and 
<a href="https://github.com/LEXASOFT/PHP-Censor-Telegram-Plugin">Telegram</a>;</p>
</li>
<li><p>Use your LDAP-server for authentication;</p>
</li>
</ul>
<h2 id="changelog">Changelog</h2>
<p><a href="CHANGELOG.md">Versions changelog</a>.</p>
<h2 id="roadmap">Roadmap</h2>
<p>See <a href="https://github.com/php-censor/php-censor/milestones">milestones</a>.</p>
<h2 id="installing">Installing</h2>
<ul>
<li>Go to the directory in which you want to install PHP Censor, for example: <code>/var/www</code>:</li>
</ul>
<pre><code class="language-bash">cd /var/www</code></pre>
<ul>
<li>Create project by Composer:</li>
</ul>
<pre><code class="language-bash">composer create-project \
    php-censor/php-censor \
    php-censor.local \
    --keep-vcs</code></pre>
<p>Or download <a href="https://github.com/php-censor/php-censor/releases/latest">latest archive</a> from GitHub, unzip it and run 
<code>composer install</code>.</p>
<ul>
<li><p>Create an empty database for your application (MySQL/MariaDB or PostgreSQL);</p>
</li>
<li><p>Install Beanstalkd Queue (Optional, if you are going to use a queue with Worker):</p>
</li>
</ul>
<pre><code class="language-bash"># For Debian-based
aptitude install beanstalkd</code></pre>
<ul>
<li>Install PHP Censor itself:</li>
</ul>
<pre><code class="language-bash">cd ./php-censor.local

# Interactive installation
./bin/console php-censor:install

# Non-interactive installation
./bin/console php-censor:install \
    --url=&#39;http://php-censor.local&#39; \
    --db-type=pgsql \
    --db-host=localhost \
    --db-pgsql-sslmode=prefer \
    --db-name=php-censor \
    --db-user=php-censor \
    --db-password=php-censor \
    --db-port=default \ # Value &#39;default&#39;: 5432 for PostgreSQL and 3306 for MySQL
    --admin-name=admin \
    --admin-password=admin \
    --admin-email=&#39;admin@php-censor.local&#39; \
    --queue-use=1 \
    --queue-host=localhost \
    --queue-port=11300 \
    --queue-name=php-censor

# Non-interactive installation with prepared config.yml file
./bin/console php-censor:install \
    --config-from-file=yes \
    --admin-name=admin \
    --admin-password=admin \
    --admin-email=&#39;admin@php-censor.local&#39;</code></pre>
<ul>
<li><p><a href="docs/en/virtual_host.md">Add a virtual host to your web server</a>, pointing to the <code>public</code> directory within your new
PHP Censor directory. You&#39;ll need to set up rewrite rules to point all non-existent requests to PHP Censor;</p>
</li>
<li><p><a href="docs/en/workers/worker.md">Set up the PHP Censor Worker</a>;</p>
</li>
</ul>
<h2 id="installing-via-docker">Installing via Docker</h2>
<p>If you want to install PHP Censor as a Docker container, you can use 
<a href="https://github.com/php-censor/docker-php-censor">php-censor/docker-php-censor</a> project.</p>
<h2 id="updating">Updating</h2>
<ul>
<li><p>Go to your PHP Censor directory (to <code>/var/www/php-censor.local</code> for example):</p>
<pre><code class="language-bash">  cd /var/www/php-censor.local</code></pre>
</li>
<li><p>Pull the latest code from the repository by Git (If you want the latest <code>master</code> branch):</p>
<pre><code class="language-bash">  git checkout master
  git pull -r</code></pre>
<p>  Or pull the latest version:</p>
<pre><code class="language-bash">  git fetch
  git checkout &lt;version&gt;</code></pre>
</li>
<li><p>Update the Composer dependencies: <code>composer install</code></p>
</li>
<li><p>Update the database scheme:</p>
<pre><code class="language-bash">  ./bin/console php-censor-migrations:migrate</code></pre>
</li>
<li><p>Restart Supervisord workers (If you use workers and Supervisord):</p>
<pre><code class="language-bash">  sudo supervisorctl status
  sudo supervisorctl restart &lt;worker:worker_00&gt;
  ...
  sudo supervisorctl restart &lt;worker:worker_nn&gt;</code></pre>
<p>  Or restart Systemd workers (If you use workers and Systemd):</p>
<pre><code class="language-bash">  sudo systemctl restart &lt;worker@1.service&gt;
  ...
  sudo systemctl restart &lt;worker@n.service&gt;</code></pre>
</li>
</ul>
<h2 id="configuring-project">Configuring project</h2>
<p>There are several ways to set up the project:</p>
<ul>
<li><p>Add project without any project config (Runs &quot;zero-config&quot; plugins, including: Composer, TechnicalDebt, PHPLoc, 
PHPCpd, PHPCodeSniffer, PHPMessDetector, PHPDocblockChecker, PHPParallelLint, PHPUnit and Codeception);</p>
</li>
<li><p>Similar to <a href="https://travis-ci.org">Travis CI</a>, to support PHP Censor in your project, you simply need to add a 
<code>.php-censor.yml</code> file to the root of your repository;</p>
</li>
<li><p>Add project config in PHP Censor project page (And it will cancel file config from project repository);</p>
</li>
</ul>
<p>The project config should look something like this:</p>
<pre><code class="language-yml">setup:
  composer:
    action:    &quot;install&quot;
    directory: &quot;.&quot;
test:
  php_unit:
    config: &quot;phpunit.xml&quot;
  php_mess_detector:
    allow_failures: true
  php_code_sniffer:
    standard: &quot;PSR2&quot;
  php_cpd:
    allow_failures: true
complete:
  email:
    default_mailto_address: admin@php-censor.local</code></pre>
<p>More details about <a href="docs/en/configuring_project.md">configuring project</a>.</p>
<h2 id="migrations">Migrations</h2>
<p>Run to apply latest migrations:</p>
<pre><code class="language-bash">cd /path/to/php-censor
./bin/console php-censor-migrations:migrate</code></pre>
<p>Run to create a new migration:</p>
<pre><code class="language-bash">cd /path/to/php-censor
./bin/console php-censor-migrations:create NewMigrationName</code></pre>
<h2 id="tests">Tests</h2>
<pre><code class="language-bash">cd /path/to/php-censor

./vendor/bin/phpunit --configuration ./phpunit.xml.dist --coverage-html ./tests/runtime/coverage -vvv --colors=always</code></pre>
<p>For Phar plugin tests set &#39;phar.readonly&#39; setting to Off (0) in <code>php.ini</code> config. Otherwise the tests will be skipped.  </p>
<p>For database tests create an empty &#39;test_db&#39; database on &#39;localhost&#39; with user/password: <code>root/&lt;empty&gt;</code> 
for MySQL and with user/password: <code>postgres/&lt;empty&gt;</code> for PostgreSQL (You can change default test user, password and 
database name in <code>phpunit.xml[.dist]</code> config constants). If connection failed the tests will be skipped.</p>
<h2 id="documentation">Documentation</h2>
<p><a href="docs/en/README.md">Full PHP Censor documentation</a>.</p>
<h2 id="license">License</h2>
<p>PHP Censor is open source software licensed under the <a href="LICENSE">BSD-2-Clause license</a>.</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 06 May 2020</div><div class="column">Version: 1.1.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>