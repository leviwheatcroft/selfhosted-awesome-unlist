<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="FileShelter is a self-hosted software that allows you to easily share files over the Internet."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/site.css" rel="stylesheet" type="text/css"></head></head><body><nav class="navigation"><section class="container"><a class="navigation-title" href="/">Selfhosted Awesome [Un]list</a><ul class="navigation-list float-right"><li class="navigation-item"><a class="navigation-link" href="/tags"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>github</a></li></ul></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>fileshelter</h1><span class="subheading"></span><div class="links"><a class="button button-outline" href="https://github.com/epoupon/fileshelter"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>FileShelter</a><a class="button button-outline" href="http://fileshelter.demo.poupon.io/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-box"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>Demo</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info"><div class="github"><span class="pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>05 Apr 2020</span><span class="stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>104</span><span class="issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>4</span></div><div class="tags"><a class="button" href="/tags/c.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>C++</a><a class="button" href="/tags/file-sharing-and-synchronization.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>File Sharing and Synchronization</a><a class="button" href="/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>selfhosted</a><a class="button" href="/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Docker</a></div></div></div></div></div></section><article><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><h1 id="fileshelter">FileShelter</h1>
<p><a href="https://travis-ci.org/epoupon/fileshelter"><img src="https://travis-ci.org/epoupon/fileshelter.svg?branch=master" alt="Build Status"></a></p>
<p><em>FileShelter</em> is a self-hosted software that allows you to easily share files over the Internet.
Just upload a file and get an URL back!</p>
<p>The aim is to provide a very simple web application, with few package dependencies, so that anyone can install it on his own server.</p>
<p>A <a href="http://fileshelter.demo.poupon.io">demo</a> instance is available, with the following limitations:</p>
<ul>
<li>Maximum duration is set to 3 days</li>
<li>Maximum download limit is set to 10</li>
<li>Maximum file size is set to 1 MB</li>
</ul>
<p>A <a href="https://github.com/paulgalow/fileshelter-docker">docker image</a> is available, thanks to Paul Galow.</p>
<h2 id="features">Features</h2>
<ul>
<li>Multiple file upload (a zip is created server side)</li>
<li>Period of validity (from one hour to years)</li>
<li>Optional download limit</li>
<li>Customizable interface to allow or to prevent users to set the download limit or the duration validity</li>
<li>Optional password protection (download and upload)</li>
<li>Practically unique links, using <a href="https://fr.wikipedia.org/wiki/Universal_Unique_Identifier">UUID</a></li>
<li>Private link, used to remove the file or to check the download counter</li>
<li>Terms of service support</li>
<li>Multiple language support (english, french, german, russian)</li>
<li>Low memory requirement (the demo instance runs on a Raspberry Pi3B+, using less than 2% of total memory)</li>
</ul>
<p>Once the expiry date or the download limit is reached, the download is no longer available and the file is deleted.</p>
<h2 id="installation">Installation</h2>
<h3 id="from-packages">From packages</h3>
<h4 id="debian-buster-packages">Debian Buster packages</h4>
<p><em>Buster</em> packages are provided for <em>amd64</em> and <em>armhf</em> architectures.</p>
<p>As root, trust the following debian package provider and add it in your list of repositories:</p>
<pre><code class="language-sh">wget -O - https://debian.poupon.io/apt/debian/epoupon.gpg.key | apt-key add -
echo &quot;deb https://debian.poupon.io/apt/debian buster main&quot; &gt; /etc/apt/sources.list.d/epoupon.list</code></pre>
<p>To install or upgrade <em>fileshelter</em>:</p>
<pre><code class="language-sh">apt update
apt install fileshelter</code></pre>
<p>The <em>fileshelter</em> service is started just after the package installation, run by a dedicated <em>fileshelter</em> system user.</br>
Please refer to <a href="#deployment">Deployment</a> for further configuration options.</p>
<h3 id="from-source">From source</h3>
<p><strong>Note</strong>: this installation process and the default values of the configuration files have been written for <em>Debian Buster</em>. Therefore, you may have to adapt commands and/or paths in order to fit to your distribution.</p>
<h4 id="debianubuntu-dependencies">Debian/Ubuntu dependencies</h4>
<p><strong>Note</strong>: a C++17 compiler is needed to compile <em>fileshelter</em></p>
<pre><code class="language-sh">apt-get install build-essential autoconf automake libboost-dev libconfig++-dev libzip-dev</code></pre>
<p>You also need <em>Wt4</em>, that is not packaged yet on <em>Debian</em>. See <a href="https://www.webtoolkit.eu/wt/doc/reference/html/InstallationUnix.html">installation instructions</a>.</p>
<h4 id="build">Build</h4>
<pre><code class="language-sh">git clone https://github.com/epoupon/fileshelter.git fileshelter
cd fileshelter
autoreconf -vfi
mkdir build
cd build
../configure --prefix=/usr</code></pre>
<p>configure will complain if a mandatory library is missing.</p>
<pre><code class="language-sh">make</code></pre>
<h4 id="installation-1">Installation</h4>
<p><strong>Note</strong>: the commands of this section require root privileges.</p>
<pre><code class="language-sh">make install</code></pre>
<p>Create a dedicated system user:</p>
<pre><code class="language-sh">useradd --system --group fileshelter</code></pre>
<p>Copy the configuration files:</p>
<pre><code class="language-sh">cp /usr/share/fileshelter/fileshelter.conf /etc/fileshelter.conf
cp /usr/share/fileshelter/fileshelter.service /lib/systemd/system/fileshelter.service</code></pre>
<p>Create the working directory and give it access to the <em>fileshelter</em> user:</p>
<pre><code class="language-sh">mkdir /var/fileshelter
chown fileshelter:fileshelter /var/fileshelter</code></pre>
<p>To make <em>Fileshelter</em> run automatically during startup:</p>
<pre><code class="language-sh">systemctl enable fileshelter</code></pre>
<h4 id="upgrade">Upgrade</h4>
<p>To upgrade <em>FileShelter</em> from source, you need to update the master branch and rebuild/install it:</p>
<pre><code class="language-sh">cd build
git pull
make</code></pre>
<p>Then using root privileges:</p>
<pre><code class="language-sh">make install
systemctl restart fileshelter</code></pre>
<h2 id="deployment">Deployment</h2>
<h3 id="configuration">Configuration</h3>
<p><em>Fileshelter</em> uses a configuration file, installed by default in <code>/etc/fileshelter.conf</code>. It is recommended to edit this file and change relevant settings (listen address, listen port, working directory, ...).</p>
<p>A basic <em>Terms of Services</em> is provided. The configuration file contains the definition of the fields needed by the default tos.
You may also specify an alternate tos file to fit your needs.</p>
<p>If a setting is not present in the configuration file, a hardcoded default value is used (the same as in the <a href="https://github.com/epoupon/fileshelter/blob/master/conf/fileshelter.conf">default.conf</a> file)</p>
<h3 id="reverse-proxy-settings">Reverse proxy settings</h3>
<p><em>Fileshelter</em> is shipped with an embedded web server, but it is recommended to deploy behind a reverse proxy. You have to set the <em>behind-reverse-proxy</em> option to <em>true</em> in the <code>fileshelter.conf</code> configuration file.</p>
<p>Here is an example to make <em>Fileshelter</em> properly work on <em>myserver.org</em> using <em>nginx</em>:</p>
<pre><code>server {
    listen 80;

    server_name myserver.org;

    access_log            /var/log/nginx/myserver.access.log;

    proxy_request_buffering off;
    proxy_buffering off;
    proxy_buffer_size 4k;

    location / {

      proxy_set_header        Host $host;
      proxy_set_header        X-Real-IP $remote_addr;
      proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header        X-Forwarded-Proto $scheme;

      proxy_pass          http://localhost:5082;
      proxy_read_timeout  120;
    }
}</code></pre><h2 id="run">Run</h2>
<pre><code class="language-sh">systemctl start fileshelter</code></pre>
<p>Log traces can be accessed using journactl:</p>
<pre><code class="language-sh">journalctl -u fileshelter.service</code></pre>
<p>To connect to <em>Fileshelter</em>, just open your favorite browser and go to <a href="http://localhost:5091">http://localhost:5091</a></p>
<h3 id="reverse-proxy-settings-1">Reverse proxy settings</h3>
<p>You have to set the &#39;behind-reverse-proxy&#39; option to &#39;true&#39; in the configuration file.</p>
<p>Here is an example to make FileShelter properly work on myserver.org using nginx.</p>
<pre><code>server {
    listen 80;

    server_name myserver.org;

    access_log            /var/log/nginx/myserver.access.log;

    proxy_request_buffering off;
    proxy_buffering off;
    proxy_buffer_size 4k;

    location / {

      proxy_set_header        Host $host;
      proxy_set_header        X-Real-IP $remote_addr;
      proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_set_header        X-Forwarded-Proto $scheme;

      proxy_pass          http://localhost:5091;
      proxy_read_timeout  120;
    }
}</code></pre><p>To connect to <em>FileShelter</em>, just open your favorite browser and go to <a href="http://localhost:5091">http://localhost:5091</a></p>
<h2 id="credits">Credits</h2>
<ul>
<li>Wt, awesome framework: <a href="http://www.webtoolkit.eu/">http://www.webtoolkit.eu/</a></li>
<li>Bootstrap: <a href="http://getbootstrap.com/">http://getbootstrap.com/</a></li>
</ul>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built At: 02 May 2020</div><div class="column">Version: 1.0.0</div></div></div></footer><script src="/site.js"></script></body></html>