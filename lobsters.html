<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Run your own link aggregation site."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/site.css" rel="stylesheet" type="text/css"></head></head><body><nav class="navigation"><section class="container"><a class="navigation-title" href="/">Selfhosted Awesome [Un]list</a><ul class="navigation-list float-right"><li class="navigation-item"><a class="navigation-link" href="https://github.com/leviwheatcroft/selfhosted-awesome-unlist"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>github</a></li></ul></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>lobsters</h1><span class="subheading"></span><div class="links"><a class="button button-outline" href="https://lobste.rs"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>Lobsters</a><a class="button button-outline" href="https://github.com/jcs/lobsters"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>Source Code</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info"><div class="github"><span class="pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>25 Apr 2020</span><span class="stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>2570</span><span class="issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>97</span></div><div class="tags"><a class="button" href="/tags/ruby.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Ruby</a><a class="button" href="/tags/bookmarks-and-link-sharing.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Bookmarks and Link Sharing</a><a class="button" href="/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>selfhosted</a><a class="button" href="/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Docker</a></div></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><h3 id="lobsters-rails-project-build-status">Lobsters Rails Project <a href="https://travis-ci.org/lobsters/lobsters"><img src="https://travis-ci.org/lobsters/lobsters.svg?branch=master" alt="Build Status"></a></h3>
<p>This is the
<a href="https://www.reddit.com/r/rails/comments/6jz7tq/source_code_lobsters_a_hacker_news_clone_built/">quite sad</a>
source code to the site operating at
<a href="https://lobste.rs">https://lobste.rs</a>.
It is a Rails 5 codebase and uses a SQL (MariaDB in production) backend for the database.</p>
<p>You are free to use this code to start your own <a href="https://github.com/lobsters/lobsters/wiki">sister site</a>
because the code is available under a <a href="https://github.com/lobsters/lobsters/blob/master/LICENSE">permissive license</a> (3-clause BSD).
We welcome bug reports and code contributions that help use improve <a href="https://lobste.rs">lobste.rs</a>.
As a volunteer project we&#39;re reluctant to take on work that&#39;s not useful to our site, so please understand if we don&#39;t want to adopt your custom feature.</p>
<p>2019-05-29 experiment:
Are you interested in running your own sister site and not technical, or otherwise willing to pay for hosting/support?
Maybe you&#39;re a Reddit community unhappy with their redesign, want an internal site for your company, or want to experiement with community design?
Please contact Peter (email that name @push.cx).
I&#39;m exploring the idea of a hosting company to run sites using the codebase, or maybe consulting on custom features, and would love to hear from you.
(The only change to Lobsters would be that someone&#39;s getting paid to PR back bug fixes.)</p>
<h4 id="contributing-bugfixes-and-new-features">Contributing bugfixes and new features</h4>
<p>We&#39;d love to have your help.
Please see the <a href="https://github.com/lobsters/lobsters/blob/master/CONTRIBUTING.md">CONTRIBUTING</a> file for details.</p>
<h4 id="initial-setup">Initial setup</h4>
<p>Use the steps below for a local install or
<a href="https://github.com/lobsters/lobsters-ansible">lobsters-ansible</a> for our production deployment config.
There&#39;s an external project <a href="https://github.com/utensils/docker-lobsters">docker-lobsters</a> if you want to use Docker.</p>
<ul>
<li><p>Install Ruby 2.3.</p>
</li>
<li><p>Checkout the lobsters git tree from Github</p>
<pre><code class="language-sh">  $ git clone git://github.com/lobsters/lobsters.git
  $ cd lobsters
  lobsters$</code></pre>
</li>
<li><p>Install Nodejs, needed (or other execjs) for uglifier</p>
<pre><code class="language-sh">  Fedora: sudo yum install nodejs
  Ubuntu: sudo apt-get install nodejs
  OSX: brew install nodejs</code></pre>
</li>
<li><p>Run Bundler to install/bundle gems needed by the project:</p>
<pre><code class="language-sh">  lobsters$ bundle</code></pre>
<ul>
<li>If when installing the <code>mysql2</code> gem on macOS, you see 
<code>ld: library not found for -l-lpthread</code> in the output, see 
<a href="https://stackoverflow.com/a/44790834/204052">this solution</a> for a fix.
You might also see <code>ld: library not found for -lssl</code> if you&#39;re using
macOS 10.4+ and Homebrew <code>openssl</code>, in which case see
<a href="https://stackoverflow.com/a/39628463/1042144">this solution</a>.</li>
</ul>
</li>
<li><p>Create a MySQL (other DBs supported by ActiveRecord may work, only MySQL and
MariaDB have been tested) database, username, and password and put them in a
<code>config/database.yml</code> file.  You will also want a separate database for
running tests:</p>
<pre><code class="language-yaml">  development:
    adapter: mysql2
    encoding: utf8mb4
    reconnect: false
    database: lobsters_dev
    socket: /tmp/mysql.sock
    username: *dev_username*
    password: *dev_password*

  test:
    adapter: mysql2
    encoding: utf8mb4
    reconnect: false
    database: lobsters_test
    socket: /tmp/mysql.sock
    username: *test_username*
    password: *test_password*</code></pre>
</li>
<li><p>Load the schema into the new database:</p>
<pre><code class="language-sh">  lobsters$ rails db:schema:load</code></pre>
</li>
<li><p>On your production server, copy <code>config/initializers/production.rb.sample</code>
to <code>config/initalizers/production.rb</code> and customize it with your site&#39;s
<code>domain</code> and <code>name</code>. (You don&#39;t need this on your dev machine).</p>
</li>
<li><p>Put your site&#39;s custom CSS in <code>app/assets/stylesheets/local</code>.</p>
</li>
<li><p>Seed the database to create an initial administrator user, the <code>inactive-user</code>, and at least one tag:</p>
<pre><code class="language-sh">  lobsters$ rails db:seed</code></pre>
</li>
<li><p>On your personal computer, you can add some sample data and run the Rails server in development mode.
You should be able to login to <code>http://localhost:3000</code> with your new <code>test</code> user:</p>
<pre><code class="language-sh">  lobsters$ rails fake_data
  lobsters$ rails server</code></pre>
</li>
<li><p>Deploying the site in production requires setting up a web server and running the app in production mode.
There are more tools and options available than we can describe; find a guide or an expert.
The lobsters-ansible repo has our config files to crib from. Some app-specific notes:</p>
</li>
<li><p>Set up crontab or another scheduler to run regular jobs:</p>
<pre><code>  */5 * * * *  cd /path/to/lobsters &amp;&amp; env RAILS_ENV=production sh -c &#39;bundle exec ruby script/mail_new_activity; bundle exec ruby script/post_to_twitter; bundle exec ruby script/traffic_range&#39;</code></pre></li>
<li><p>See <code>config/initializers/production.rb.sample</code> for GitHub/Twitter integration help.</p>
</li>
</ul>
<h4 id="administration">Administration</h4>
<p>Basic moderation happens on-site, but most other administrative tasks require use of the rails console in production.
Administrators can create and edit tags at <code>/tags</code>.</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 02 May 2020</div><div class="column">Version: 1.0.0</div></div></div></footer><script src="/site.js"></script></body></html>