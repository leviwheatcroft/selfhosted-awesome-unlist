<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="FeedHQ is a web-based feed reader."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/site.css" rel="stylesheet" type="text/css"></head></head><body><nav class="navigation"><section class="container"><a class="navigation-title" href="/">Selfhosted Awesome [Un]list</a><ul class="navigation-list float-right"><li class="navigation-item"><a class="navigation-link" href="https://github.com/leviwheatcroft/selfhosted-awesome-unlist"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>github</a></li></ul></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>feedhq</h1><span class="subheading"></span><div class="links"><a class="button button-outline" href="https://feedhq.org/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>FeedHQ</a><a class="button button-outline" href="https://github.com/feedhq/feedhq"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>Source Code</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info"><div class="github"><span class="pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>07 Jan 2020</span><span class="stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>502</span><span class="issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>30</span></div><div class="tags"><a class="button" href="/tags/python.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Python</a><a class="button" href="/tags/feed-readers.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>Feed Readers</a><a class="button" href="/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>selfhosted</a></div></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><h1 id="feedhq">FeedHQ</h1>
<p>.. image:: <a href="https://travis-ci.org/feedhq/feedhq.svg?branch=master">https://travis-ci.org/feedhq/feedhq.svg?branch=master</a>
   :alt: Build Status
   :target: <a href="https://travis-ci.org/feedhq/feedhq">https://travis-ci.org/feedhq/feedhq</a></p>
<p>.. image:: <a href="https://img.shields.io/coveralls/feedhq/feedhq/master.svg">https://img.shields.io/coveralls/feedhq/feedhq/master.svg</a>
   :alt: Coverage Status
   :target: <a href="https://coveralls.io/r/feedhq/feedhq?branch=master">https://coveralls.io/r/feedhq/feedhq?branch=master</a></p>
<p>FeedHQ is a simple, lightweight web-based feed reader. Main features:</p>
<h2 id="user-facing-features">User-facing features</h2>
<ul>
<li><p>RSS and ATOM support</p>
</li>
<li><p>Grouping by categories</p>
</li>
<li><p>Awesome pagination and intelligent browsing</p>
</li>
<li><p>Great readability on all screen sizes (smatphones, tablets and desktops)</p>
</li>
<li><p>Mobile-first, retina-ready</p>
</li>
<li><p>Reading list management with Instapaper, Readability or Read It Later
support</p>
</li>
<li><p>Filter out already read entries</p>
</li>
<li><p>Hides images/media by default (and therefore filters ads and tracking stuff)</p>
</li>
<li><p>Multiple user support</p>
</li>
<li><p><code>OPML import</code>_</p>
</li>
<li><p>Syntax highlighting, awesome for reading tech blogs</p>
</li>
<li><p>Keyboard navigation</p>
</li>
<li><p><code>Subtome</code>_ support</p>
</li>
</ul>
<h2 id="developer---sysadmin-facing-features">Developer- / Sysadmin-facing features</h2>
<ul>
<li><p>Nice with web servers, uses ETag and Last-Modified HTTP headers</p>
</li>
<li><p>Handles HTTP status codes nicely (permanent redirects, gone, not-modifiedâ€¦)</p>
</li>
<li><p>Exponential backoff support</p>
</li>
<li><p><code>PubSubHubbub</code>_ support</p>
</li>
</ul>
<p>.. _PubSubHubbub: <a href="http://code.google.com/p/pubsubhubbub/">http://code.google.com/p/pubsubhubbub/</a></p>
<p>.. _OPML import: <a href="http://www.opml.org/">http://www.opml.org/</a></p>
<p>.. _Subtome: <a href="https://www.subtome.com/">https://www.subtome.com/</a></p>
<h2 id="installation">Installation</h2>
<p>Requirements:</p>
<ul>
<li>Python 3.4 or greater</li>
<li>Redis (2.6+ recommended)</li>
<li>PostgreSQL (9.2+ recommended but anything &gt;= 8.4 should work)</li>
<li>Elasticsearch (see compatibility table below)</li>
</ul>
<p>Getting the code::</p>
<pre><code>git clone https://github.com/feedhq/feedhq.git
cd feedhq
virtualenv -p python2 env
source env/bin/activate
add2virtualenv .
pip install -r requirements.txt</code></pre><p>Elasticsearch version requirements:</p>
<p>============ ============ ==========
Commit hash  Date         ES version
============ ============ ==========
Up to 3aea18 Sep 18, 2014 1.1
From 6d5cbc  Oct 28, 2014 1.3
============ ============ ==========</p>
<h2 id="configuration">Configuration</h2>
<p>FeedHQ relies on environment variables for its configuration. The required
environment variables are:</p>
<ul>
<li><code>DJANGO_SETTINGS_MODULE</code>: set it to <code>feedhq.settings</code>.</li>
<li><code>SECRET_KEY</code>: set to a long random string.</li>
<li><code>ALLOWED_HOSTS</code>: space-separated list of hosts which serve the web app.
E.g. <code>www.feedhq.org feedhq.org</code>.</li>
<li><code>FROM_EMAIL</code>: the email address that sends automated emails (password
lost, etc.). E.g. <code>FeedHQ &lt;feedhq@example.com&gt;</code>.</li>
<li><code>REDIS_URL</code>: a URL for configuring redis. E.g.
<code>redis://localhost:6354/1</code>.</li>
<li><code>DATABASE_URL</code>: a heroku-like database URL. E.g.
<code>postgres://user:password@host:port/database</code>.</li>
</ul>
<p>Optionally you can customize:</p>
<ul>
<li><code>DEBUG</code>: set it to a non-empty value to enable the Django debug mode.</li>
<li><code>MEDIA_ROOT</code>: the absolute location where media files (user-generated) are
stored. This must be a public directory on your webserver available under
<code>MEDIA_URL</code>.</li>
<li><code>MEDIA_URL</code>: the URL that handles media files (user-generated) served from
<code>MEDIA_ROOT</code>. By default, it is set to <code>/media/</code>.</li>
<li><code>STATIC_ROOT</code>: the absolute location where static files (CSS/JS files) are
stored. This must be a public directory on your webserver available under
the <code>/static/</code> URL.</li>
<li><code>STATIC_URL</code>: the URL that serves static files (CSS/JS files) located in
<code>STATIC_ROOT</code>. By default, it is set to <code>/static/</code>.</li>
<li><code>SENTRY_DSN</code>: a DSN to enable <code>Sentry</code>_ error reporting.</li>
<li><code>SESSION_COOKIE_PATH</code>: the path set on the session cookie. E.g., <code>/</code>.</li>
<li><code>HTTPS</code>: set-it to a non-empty value to configure FeedHQ for SSL access.</li>
<li><code>EMAIL_URL</code>: a URL for configuring email. E.g.
<code>smtp://user:password@host:port/?backend=my.EmailBackend&amp;use_tls=true</code>.
The <code>backend</code> querystring parameter sets the Django <code>EMAIL_BACKEND</code>
setting. By default emails only go to the development console.</li>
<li><code>ES_NODES</code>: space-separated list of elasticsearch nodes to use for cluster
discovery. Defaults to <code>localhost:9200</code>.</li>
<li><code>ES_INDEX</code>: the name of the elasticsearch index. Defaults to <code>feedhq</code>.</li>
<li><code>ES_ALIAS_TEMPLATE</code>: string template to format the per-user alias that is
created in elasticsearch. Defaults to <code>feedhq-{0}</code>.</li>
<li><code>ES_SHARDS</code>: number of shards that you want in your elasticsearch index.
This cannot be changed once you have created the index. Defaults to 5.</li>
<li><code>ES_REPLICAS</code>: number of times you want your shards to be replicated on
the elasticsearch cluster. Defaults to 1. Set it to 0 if you only have one
node. This is only used at index creation but the index setting can be
altered dynamically.</li>
<li><code>HEALTH_SECRET</code>: a shared secret between your FeedHQ server(s) and your
monitoring. The <code>/health/</code> endpoint can be protected by requiring clients
to provide a shared secret in an <code>X-Token</code> header. If no secret is set,
the health endpoint is open to all.</li>
<li><code>LOG_SYSLOG</code>: set it to <code>1</code> to send logs to <code>/dev/log</code> instead of
stdout (the default). Logs are formatted in JSON.</li>
</ul>
<p>.. _Sentry: <a href="https://www.getsentry.com/">https://www.getsentry.com/</a></p>
<p>For integration with external services:</p>
<ul>
<li><code>READITLATER_API_KEY</code>: your <code>Pocket</code>_ API key.</li>
<li><code>INSTAPAPER_CONSUMER_KEY</code>, <code>INSTAPAPER_CONSUMER_SECRET</code>: your
<code>Instapaper</code>_ API keys.</li>
<li><code>READABILITY_CONSUMER_KEY</code>, <code>READABILITY_CONSUMER_SECRET</code>: your
<code>Readability</code>_ API keys.</li>
</ul>
<p>.. _Pocket: <a href="http://getpocket.com/">http://getpocket.com/</a>
.. _Instapaper: <a href="http://www.instapaper.com/">http://www.instapaper.com/</a>
.. _Readability: <a href="https://www.readability.com/">https://www.readability.com/</a></p>
<p>Then deploy the Django app using the recipe that fits your installation. More
documentation on the <code>Django deployment guide</code>_. The WSGI application is
located at <code>feedhq.wsgi.application</code>.</p>
<p>.. _Django deployment guide: <a href="http://docs.djangoproject.com/en/dev/howto/deployment/">http://docs.djangoproject.com/en/dev/howto/deployment/</a></p>
<p>To create the Elasticsearch index::</p>
<pre><code>django-admin.py create_index</code></pre><p>Then you&#39;ll need to create the appropriate PostgreSQL database and run::</p>
<pre><code>django-admin.py syncdb
django-admin.py migrate</code></pre><p>Note that additionally to the web server, you need to run one or more
consumers for the task queue. This is done with the <code>rqworker</code> management
command::</p>
<pre><code>django-admin.py rqworker store high default low favicons</code></pre><p>The arguments are queue names.</p>
<p>Once your application is deployed (you&#39;ve run <code>django-admin.py syncdb</code> to
create the database tables, <code>django-admin.py migrate</code> to run the initial
migrations and <code>django-admin.py collectstatic</code> to collect your static
files), you can add users to the application. On the admin interface, add
as many users as you want. Then add some some categories and feeds to your
account using the regular interface.</p>
<p>Crawl for updates::</p>
<pre><code>django-admin.py sync_scheduler
django-admin.py updatefeeds</code></pre><p>Set up a cron job to update your feeds on a regular basis. This puts the
oldest-updated feeds in the update queue::</p>
<pre><code>*/5 * * * * /path/to/env/django-admin.py updatefeeds</code></pre><p>The <code>updatefeeds</code> command puts 1/12th of the feeds in the update queue. Feeds
won&#39;t update if they&#39;ve been updated in the past 60 minutes, so the 5-minute
period for cron jobs distributes nicely the updates along the 1-hour
period.</p>
<p>A cron job should also be set up for picking and updating favicons (the
<code>--all</code> switch processes existing favicons in case they have changed, which
you should probably do every month or so)::</p>
<pre><code>@monthly /path/to/env/bin/django-admin.py favicons --all</code></pre><p>Here is a full list of management commands that you should schedule:</p>
<ul>
<li><p><code>add_missing</code> creates the missing denormalized URLs for crawling. Since
URLs are denormalized it&#39;s recommended to run it every now and then to
ensure consistency.</p>
<p>Recommended frequency: hourly.</p>
<p>Resource consumption: negligible (2 database queries).</p>
</li>
<li><p><code>delete_unsubscribed</code> is the delete counterpart of <code>add_missing</code>.</p>
<p>Recommended frequency: hourly.</p>
<p>Resource consumption: negligible (2 database queries).</p>
</li>
<li><p><code>favicons --all</code> forces fetching the favicons for all existing URLs. It&#39;s
useful for picking up new favicons when they&#39;re updated. Depending on your
volume of data, this can be resource-intensive.</p>
<p>Recommended frequency: monthly.</p>
<p>Resource consumption: the command itself only triggers async jobs but the
jobs perform network I/O, HTML parsing, disk I/O and database queries.</p>
</li>
<li><p><code>updatefeeds</code> picks 1/12th of the URLs and fetches them.</p>
<p>Recommended frequency: every 5 minutes.</p>
<p>Resource consumption: the command itself only triggers async jobs but the
jobs perform network I/O, HTML parsing and -- when updates are found --
database queries.</p>
</li>
<li><p><code>sync_scheduler</code> adds missing URLs to the scheduler. Also useful to run
every now and then.</p>
<p>Recommended frequency: every hour.</p>
<p>Resource consumption: one large database query per chunk of 10k feeds which
aren&#39;t in the scheduler, plus one redis <code>HMSET</code> per URL that&#39;s not in the
scheduler. As a routine task it&#39;s not resource-intensive.</p>
</li>
<li><p><code>sync_pubsubhubbub</code> unsubscribes from unneeded PubSubHubbub
subscriptions.</p>
<p>Recommended frequency: once a day.</p>
<p>Resource consumption: low.</p>
</li>
<li><p><code>clean_rq</code> removes stale RQ jobs.</p>
<p>Recommended frequency: once a day.</p>
<p>Resource consumption: low. Only makes requests to Redis.</p>
</li>
<li><p><code>delete_old</code> removes expired entries as determined by each user&#39;s entry TTL.</p>
<p>Recommended frequency: once a day.</p>
<p>Resource consumption: medium, makes <code>delete_by_query</code> queries to ES (1 per
user).</p>
</li>
<li><p><code>delete_expired_tokens</code> removes expired API tokens. Tokens are valid for 7
days, after which they are renewed by client apps.</p>
<p>Recommended frequency: once a day.</p>
<p>Resource consumption: low (one <code>DELETE</code> query).</p>
</li>
</ul>
<h2 id="development">Development</h2>
<p>Install the development requirements::</p>
<pre><code>pip install -r requirements-dev.txt</code></pre><p>Run the tests::</p>
<pre><code>make test</code></pre><p>Or if you want to run the tests with <code>django-admin.py</code> directly, make sure
you use <code>feedhq.test_settings</code> as the <code>DJANGO_SETTINGS_MODULE</code> environment
variable to avoid making network calls while running the tests.</p>
<p>The Django debug toolbar is enabled when the <code>DEBUG</code> environment variable is
true and the <code>django-debug-toolbar</code> package is installed.</p>
<p><code>Foreman</code>_ is used in development to start a lightweight Django server and run
<code>RQ</code>_ workers. Environment variables are managed using a <code>python port</code>_ of
Daemontools&#39; <code>envdir</code> utility. A running <code>Redis</code>_ server is required for
this workflow::</p>
<pre><code>make run</code></pre><p>.. _Foreman: <a href="http://ddollar.github.com/foreman/">http://ddollar.github.com/foreman/</a>
.. _RQ: <a href="http://python-rq.org/">http://python-rq.org/</a>
.. _Redis: <a href="http://redis.io/">http://redis.io/</a>
.. _Daemontools: <a href="http://cr.yp.to/daemontools.html">http://cr.yp.to/daemontools.html</a>
.. _python port: <a href="https://pypi.python.org/pypi/envdir">https://pypi.python.org/pypi/envdir</a></p>
<p>When running <code>django-admin.py updatefeeds</code> on your development machine,
make sure you have the <code>DEBUG</code> environment variable present to avoid making
PubSubHubbub subscription requests without any valid callback URL.</p>
<p>Environment variables for development are set in the <code>envdir</code> directory. For
tests, they are located in the <code>tests/envdir</code> directory.</p>
<p>When working on frontend assets (SCSS or js files), <code>watchman</code>_ can be used to
automatically run compass and uglify on file changes. Install <code>watchman</code><em>,
<code>Compass</code></em> (<code>gem install bundle &amp;&amp; bundle install</code>) and <code>npm</code>_ (part of
nodejs) to get started. Then run::</p>
<pre><code>make watch</code></pre><p>.. _watchman: <a href="https://github.com/facebook/watchman">https://github.com/facebook/watchman</a>
.. _Compass: <a href="http://compass-style.org/">http://compass-style.org/</a>
.. _npm: <a href="https://www.npmjs.org/">https://www.npmjs.org/</a></p>
<p>Once you&#39;re done working with assets, simply kill watchman::</p>
<pre><code>pkill watchman</code></pre></div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 02 May 2020</div><div class="column">Version: 1.0.0</div></div></div></footer><script src="/site.js"></script></body></html>