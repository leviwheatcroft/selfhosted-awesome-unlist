<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="lightweight non-caching HTTP/HTTPS proxy server."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>microproxy</h1><span class="subheading">lightweight non-caching HTTP/HTTPS proxy server.</span><div class="links"><a class="button button-outline" href="https://github.com/thekvs/microproxy"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>microproxy</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>03 May 2020</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>96</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>1</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/tags/go.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">91</span>go</a><a class="tag" href="/selfhosted-awesome-unlist/tags/golang.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">27</span>golang</a><a class="tag" href="/selfhosted-awesome-unlist/tags/http-proxy.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">2</span>http-proxy</a><a class="tag" href="/selfhosted-awesome-unlist/tags/lightweight.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">6</span>lightweight</a><a class="tag" href="/selfhosted-awesome-unlist/tags/proxy.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">19</span>proxy</a><a class="tag" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">943</span>selfhosted</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><p><a href="https://travis-ci.org/thekvs/microproxy"><img src="https://travis-ci.org/thekvs/microproxy.svg?branch=master" alt="Build Status"></a></p>
<h2 id="about">About</h2>
<p><code>microproxy</code> is a lightweight non-caching HTTP/HTTPS proxy server.</p>
<h2 id="main-features">Main features</h2>
<ul>
<li>Single executable with no external dependencies.</li>
<li>Single simple configuration file in TOML format.</li>
<li>Basic and Digest access authentication methods.</li>
<li>IP-based black and white access lists.</li>
<li>Ability to log all requests.</li>
<li>Ability to tweak X-Forwarded-For header.</li>
<li>Ability to specify IP address for outgoing connections.</li>
<li>Reasonable memory usage.</li>
</ul>
<h2 id="installing">Installing</h2>
<p>This project is written in the <a href="http://golang.org/">Go</a> programming language and to build it you need to install Go compiler and set some enviroment variables. <a href="http://golang.org/doc/install">Here is instructions on how to do it</a>. After you&#39;ve done it, run the following command in your shell:</p>
<pre><code>$ go get github.com/thekvs/microproxy</code></pre><p>and this will build the binary in <code>$GOPATH/bin</code>.</p>
<h2 id="configuration-file-options">Configuration file options</h2>
<p><code>microproxy</code> uses <a href="https://github.com/toml-lang/toml">TOML</a> format for configuration file. Below is a list of supported configuration options.</p>
<ul>
<li><code>listen=&quot;ip:port&quot;</code> -- ip address and port where to listen for incoming proxy request. Default: <code>127.0.0.1:3128</code></li>
<li><code>access_log=&quot;path&quot;</code> -- path to a file where to write requested through proxy urls.</li>
<li><code>activity_log=&quot;path&quot;</code> -- path to a file where to write debug and auxiliary information.</li>
<li><code>allowed_connect_ports=[port1, port2, ...]</code> -- list of allowed port to CONNECT to. Default: <code>[443]</code></li>
<li><code>auth_file=&quot;path&quot;</code> -- path to a file with users&#39; passwords. If you use &quot;digest&quot; auth. scheme this file has to be in the format used by Apache&#39;s <a href="http://httpd.apache.org/docs/2.4/programs/htdigest.html">htdigest</a> utility, for &quot;basic&quot; scheme it has to be in the format used by Apache&#39;s <a href="http://httpd.apache.org/docs/2.4/programs/htpasswd.html">htpasswd</a> utility with -p option, i.e. created as <code>$ htpasswd -c -p auth.txt username</code>.</li>
<li><code>auth_type=&quot;type&quot;</code> -- authentication scheme type. Avalible options are:<ul>
<li><code>&quot;basic&quot;</code> -- use Basic authentication scheme.</li>
<li><code>&quot;digest&quot;</code> -- use Digest authentication scheme.</li>
</ul>
</li>
<li><code>auth_realm=&quot;realmstring&quot;</code> -- realm name which is to be reported to the client for the proxy authentication scheme.</li>
<li><code>forwarded_for_header=&quot;action&quot;</code> -- specifies how to handle <code>X-Forwarded-For</code> HTTP protocol header. Avalible options are:<ul>
<li><code>&quot;on&quot;</code> -- set <code>X-Forwarded-For</code> header with client&#39;s IP address, this is a default choice.</li>
<li><code>&quot;off&quot;</code> -- do nothing, i.e. leave headear as is.</li>
<li><code>&quot;delete&quot;</code> -- delete <code>X-Forwarded-For</code> header, this turns on stealth mode.</li>
<li><code>&quot;truncate&quot;</code> -- delete all old <code>X-Forwarded-For</code> headers and insert a new one with client&#39;s IP address.</li>
</ul>
</li>
<li><code>via_header=&quot;action&quot;</code> -- specifies how to handle <code>Via</code> HTTP protocol header. Avalible options are:<ul>
<li><code>&quot;on&quot;</code> -- set <code>Via</code> header, this is a default choice.</li>
<li><code>&quot;off&quot;</code> -- do nothing with <code>Via</code> header.</li>
<li><code>&quot;delete&quot;</code> -- delete <code>Via</code> header.</li>
</ul>
</li>
<li><code>via_proxy_name=&quot;name&quot;</code> -- this value will be used as the host name in the <code>Via</code> header, by default the server&#39;s host name will be used.</li>
<li><code>allowed_networks=[&quot;net1&quot;, ...]</code> -- list of whitelisted networks in CIDR format.</li>
<li><code>disallowed_networks=[&quot;net1&quot;, ...]</code> -- list of blacklisted networks in CIDR format.</li>
<li><code>bind_ip=&quot;ip&quot;</code> -- specify which IP will be used for outgoing connections.</li>
<li><code>add_headers=[[&quot;header1&quot;, value1&quot;], [&quot;header2&quot;, &quot;value2&quot;]...]</code> -- adds specified headers to outgoing HTTP requests, this option will not work for HTTPS connections.</li>
</ul>
<h2 id="usage">Usage</h2>
<pre><code>$ ./microproxy --config microproxy.toml</code></pre><p>To enable debug mode, add <code>-v</code> switch. To only test configuration file correctness add <code>-t</code> switch,
i.e. <code>$ ./microproxy --config microproxy.toml -t</code></p>
<h2 id="signal-handling">Signal handling</h2>
<p>On <code>USR1</code> signal microproxy reopens access and activity log files.</p>
<h2 id="licensing">Licensing</h2>
<p>All source code included in this distribution is covered by the MIT License found in the LICENSE file.</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 06 May 2020</div><div class="column">Version: 1.1.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>