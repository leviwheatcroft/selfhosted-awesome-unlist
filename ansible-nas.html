<!DOCTYPE html><html><head><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Build a full-featured home server with this playbook and an Ubuntu box."><meta name="DCTERMS.issued"><meta name="DCTERMS.modified"><title></title><link href="https://fonts.googleapis.com/css2?family=Special+Elite&amp;display=swap" rel="stylesheet"><link href="/selfhosted-awesome-unlist/site.css" rel="stylesheet" type="text/css"></head></head><body class="project"><nav class="navigation"><section class="container"><a class="navigation-title" href="/selfhosted-awesome-unlist/">Selfhosted Awesome [Un]list</a></section></nav><header><div class="container"><div class="row"><div class="column"><div class="title"><h1>ansible-nas</h1><span class="subheading">Build a full-featured home server with this playbook and an Ubuntu box.</span><div class="links"><a class="button button-outline" href="https://github.com/DaveStephens/ansible-nas"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>Ansible-NAS</a></div></div></div></div></div></header><section><div class="container"><div class="row"><div class="column"><div class="info statistics"><span class="stat pushed-at"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-commit"><circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line></svg>05 May 2020</span><span class="stat stargazers-count"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>786</span><span class="stat issues"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>94</span></div></div></div><div class="row"><div class="column"><div class="info tags"><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/languages/undefined.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-code"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></a><a class="tag" href="/selfhosted-awesome-unlist/tags/shell.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">16</span>shell</a><a class="tag" href="/selfhosted-awesome-unlist/tags/ansible.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">2</span>ansible</a><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>ansible-playbook</span><a class="tag" href="/selfhosted-awesome-unlist/tags/docker.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">327</span>docker</a><a class="tag" href="/selfhosted-awesome-unlist/tags/homeserver.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">3</span>homeserver</a><a class="tag" href="/selfhosted-awesome-unlist/tags/nas.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">5</span>nas</a><a class="tag" href="/selfhosted-awesome-unlist/tags/self-hosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">77</span>self-hosted</a><a class="tag" href="/selfhosted-awesome-unlist/tags/ubuntu.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">3</span>ubuntu</a><span class="tag"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg><span class="count">1</span>ubuntu-server</span><a class="tag" href="/selfhosted-awesome-unlist/tags/self-hosting-solutions.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">20</span>self-hosting solutions</a><a class="tag" href="/selfhosted-awesome-unlist/tags/selfhosted.html"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg><span class="count">943</span>selfhosted</a></div></div></div></div></section><article><div class="container"><div class="row"><div class="column"><h1 id="ansible-nas">Ansible NAS</h1>
<p><a href="https://travis-ci.com/davestephens/ansible-nas"><img src="https://img.shields.io/travis/com/davestephens/ansible-nas/master?logo=travis&style=flat-square" alt="Build Status"></a> <a href="https://gitter.im/Ansible-NAS/Chat"><img src="https://img.shields.io/gitter/room/ansible-nas/chat.svg?logo=gitter&style=flat-square" alt="Gitter chat"></a> <a href="https://github.com/davestephens/ansible-nas/blob/master/LICENSE"><img src="https://img.shields.io/github/license/DAVFoundation/api_doc.svg?style=flat-square" alt="license"></a> <a href="https://ko-fi.com/davestephens"><img src="https://img.shields.io/static/v1.svg?label=ko-fi&message=Buy%20Me%20A%20Coffee&color=orange&style=flat-square&logo=buy-me-a-coffee" alt="Ko-fi"></a></p>
<p>After getting burned by broken FreeNAS updates one too many times, I figured I
could do a much better job myself using just a stock Ubuntu install, some clever
Ansible config and a bunch of Docker containers.</p>
<h2 id="what-ansible-nas-can-set-up">What Ansible-NAS Can Set Up</h2>
<ul>
<li>An awesome dashboard to your home server (Heimdall)</li>
<li>Any number of Samba shares or NFS exports for you to store your stuff</li>
<li>A BitTorrent client</li>
<li>A Usenet downloader</li>
<li>Various media management tools - Sonarr, Sickchill, CouchPotato, Radarr, Bazarr, Lidarr</li>
<li>Media streaming via Plex or Emby</li>
<li>Music streaming with Airsonic</li>
<li>An RSS newsfeed reader - Miniflux</li>
<li>A Dropbox replacement via Nextcloud</li>
<li>Various ways to see stats about your NAS - Glances, dashboards in Grafana</li>
<li>A backup tool - allows scheduled backups to Amazon S3, OneDrive, Dropbox etc</li>
<li>An IRC bouncer and web-based client</li>
<li>Source control with Gitea</li>
<li>SSL secured external access to applications via Traefik</li>
<li>A Docker host with Portainer for image and container management</li>
<li>An automatic dynamic DNS updater if you use Cloudflare to host your domain DNS</li>
<li>A Personal finance manager</li>
<li>eBook management with calibre-web</li>
<li>Content management with Joomla</li>
<li>A dual panel local file manager</li>
<li>Self-service media request web application</li>
<li>SEO tracking with Serposcope</li>
</ul>
<h3 id="available-applications">Available Applications</h3>
<ul>
<li><a href="https://airsonic.github.io/">Airsonic</a> - catalog and stream music</li>
<li><a href="https://github.com/morpheus65535/bazarr">Bazarr</a> - companion to Radarr and Sonarr for downloading subtitles</li>
<li><a href="https://github.com/dani-garcia/bitwarden_rs">Bitwarden_rs</a> - Self-Hosting port of password manager</li>
<li><a href="https://hub.docker.com/r/linuxserver/calibre-web">Calibre</a> - eBook Library</li>
<li><a href="https://cloudcmd.io/">Cloud Commander</a> - A dual panel file manager with integrated web console and text editor</li>
<li><a href="https://hub.docker.com/r/joshuaavalon/cloudflare-ddns/">Cloudflare DDNS</a> - automatically update Cloudflare with your IP address</li>
<li><a href="https://couchpota.to/">CouchPotato</a> - for downloading and managing movies</li>
<li><a href="https://www.duplicati.com/">Duplicati</a> - for backing up your stuff</li>
<li><a href="https://emby.media/">Emby</a> - Media streaming and management</li>
<li><a href="https://firefly-iii.org/">Firefly III</a> - Free and open source personal finance manager</li>
<li><a href="https://github.com/get-iplayer/get_iplayer">get_iplayer</a> - download programmes from BBC iplayer</li>
<li><a href="https://gitea.io/en-us/">Gitea</a> - Simple self-hosted Github clone</li>
<li><a href="https://about.gitlab.com/features/">Gitlab</a> - Self-hosted Github clone of the highest order</li>
<li><a href="https://nicolargo.github.io/glances/">Glances</a> - for seeing the state of your system via a web browser</li>
<li><a href="https://github.com/grafana/grafana">Grafana</a> - Dashboarding tool</li>
<li><a href="https://guacamole.apache.org/">Guacamole</a> - Web based remote desktop gateway, supports VNC, RDP and SSH</li>
<li><a href="https://heimdall.site/">Heimdall</a> - Home server dashboard</li>
<li><a href="https://www.home-assistant.io">Home Assistant</a> - Open source home automation</li>
<li><a href="https://github.com/influxdata/influxdb">InfluxDB</a> - Time series database used for stats collection</li>
<li><a href="https://github.com/Jackett/Jackett">Jackett</a> - API Support for your favorite torrent trackers</li>
<li><a href="https://jellyfin.github.io">Jellyfin</a> - The Free Software Media System</li>
<li><a href="https://www.joomla.org/">Joomla</a> - Open source content management system</li>
<li><a href="https://github.com/lidarr/Lidarr">Lidarr</a> - Music collection manager for Usenet and BitTorrent users</li>
<li><a href="https://sourceforge.net/projects/minidlna/">MiniDlna</a> - simple media server which is fully compliant with DLNA/UPnP-AV clients</li>
<li><a href="https://miniflux.app/">Miniflux</a> - An RSS news reader</li>
<li><a href="https://mosquitto.org">Mosquitto</a> - An open source MQTT broker</li>
<li><a href="https://www.mymediaalexa.com/">MyMediaForAlexa</a> - Lets you stream your music collection to your alexa device</li>
<li><a href="https://my-netdata.io/">Netdata</a> - An extremely comprehensive system monitoring solution</li>
<li><a href="https://nextcloud.com/">Nextcloud</a> - A self-hosted Dropbox alternative</li>
<li><a href="https://nzbget.net/">NZBget</a> - The most efficient usenet downloader</li>
<li><a href="https://ombi.io/">Ombi</a> - web application that automatically gives your users the ability to request content</li>
<li><a href="https://organizr.app/">Organizr</a> - ORGANIZR aims to be your one stop shop for your Servers Frontend.</li>
<li><a href="https://www.openhab.org/">openHAB</a> - A vendor and technology agnostic open source automation software for your home</li>
<li><a href="https://www.plex.tv/">Plex</a> - Plex Media Server</li>
<li><a href="https://portainer.io/">Portainer</a> - for managing Docker and running custom images</li>
<li><a href="https://pyload.net/">pyLoad</a> - A download manager with a friendly web-interface</li>
<li><a href="https://radarr.video/">Radarr</a> - for organising and downloading movies</li>
<li><a href="https://serposcope.serphacker.com/en/">Serposcope</a> - tracker to monitor website ranking</li>
<li><a href="https://sickchill.github.io/">Sickchill</a> - for managing TV episodes</li>
<li><a href="https://sonarr.tv/">Sonarr</a> - for downloading and managing TV episodes</li>
<li><a href="http://tautulli.com/">Tautulli</a> - Monitor Your Plex Media Server</li>
<li><a href="https://github.com/influxdata/telegraf">Telegraf</a> - Metrics collection agent</li>
<li><a href="https://thelounge.chat">The Lounge</a> - Web based always-on IRC client</li>
<li><a href="https://github.com/awlx/samba-timemachine">TimeMachine</a> - Samba-based mac backup server</li>
<li><a href="https://traefik.io/">Traefik</a> - Web proxy and SSL certificate manager</li>
<li><a href="https://transmissionbt.com/">Transmission</a> - BitTorrent client (with OpenVPN if you have a supported VPN provider)</li>
<li><a href="http://vaemendis.net/ubooquity/">Ubooquity</a> - Book and comic server</li>
<li><a href="https://github.com/RattyDAVE/docker-ubuntu-xrdp-mate-custom">Virtual Desktop</a> - A virtual desktop running on your NAS.</li>
<li><a href="https://wallabag.org/">Wallabag</a> - Save and classify articles. Read them later.</li>
<li><a href="https://github.com/v2tec/watchtower">Watchtower</a> - Monitor your Docker containers and update them if a new version is available</li>
<li><a href="https://wiki.znc.in/ZNC">ZNC</a> - IRC bouncer to stay connected to favourite IRC networks and channels</li>
</ul>
<h2 id="what-this-could-do">What This Could Do</h2>
<p>Ansible-NAS can run anything that&#39;s in a Docker image, which is why Portainer is
included. A NAS configuration is a pretty personal thing based on what you
download, what media you view, how many photos you take...so it&#39;s difficult to
please everyone.</p>
<p>That said, if specific functionality you want isn&#39;t included and you think
others could benefit, add it and raise a PR!</p>
<h2 id="what-this-doesnt-do">What This Doesn&#39;t Do</h2>
<p>Ansible NAS doesn&#39;t set up your disk partitions, primarily because getting it wrong can be incredibly destructive.
That aside, configuring partitions is usually a one-time (or very infrequent) event, so there&#39;s not much to be
gained by automating it. Check out the <a href="https://davestephens.github.io/ansible-nas">docs</a> for recommended setups.</p>
<h2 id="installation">Installation</h2>
<p>See <a href="https://davestephens.github.io/ansible-nas/installation/">Installation</a>.</p>
<h2 id="upgrading">Upgrading</h2>
<p><strong>The way Ansible-NAS configuration is structured has changed!</strong> See <a href="https://davestephens.github.io/ansible-nas/upgrading/">Upgrading</a> for more information. See the <strong>Getting Help</strong> section if you get stuck.</p>
<h2 id="documentation">Documentation</h2>
<p>You can read the docs <a href="https://davestephens.github.io/ansible-nas">here</a>. PRs
for more documentation always welcome!</p>
<h2 id="migrating-from-freenas">Migrating from FreeNAS</h2>
<p>Assuming that your Ubuntu system disk is separate from your storage (it should be!):</p>
<ol>
<li>Ensure you have a working backup of your data.</li>
<li>Check that the working backup you think you have actually works.</li>
<li>SSH to the server and run <code>zpool list</code> to determine available ZFS pools.</li>
<li><code>zpool import &lt;pool_name&gt;</code> against each of the pools you want to attach.</li>
<li><code>chown -R root:root /mnt/&lt;pool_name&gt;</code> to fix the ownership of the data.</li>
<li>Follow the Quick Start instructions above.</li>
</ol>
<h2 id="requirements">Requirements</h2>
<ul>
<li>Ansible NAS targets the latest Ubuntu LTS release, which is currently Ubuntu
Server 18.04.3 LTS.</li>
<li>You can run Ansible-NAS on whatever you like, read the docs for more info. I
use an HP Microserver.</li>
</ul>
<h2 id="getting-help">Getting Help</h2>
<p>Getting help is easy! You can:</p>
<ul>
<li>Read the <a href="https://davestephens.github.io/ansible-nas">docs</a></li>
<li>Raise an <a href="https://github.com/davestephens/ansible-nas/issues">issue</a></li>
<li>Chat on <a href="https://gitter.im/Ansible-NAS/Chat">Gitter</a></li>
</ul>
<h2 id="contributing">Contributing</h2>
<p>Contributions are always welcome! Please read <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> first.</p>
<h2 id="support">Support</h2>
<p>If you&#39;ve enjoyed Ansible-NAS as much as I do working on it, please consider <a href="https://ko-fi.com/davestephens">buying me a coffee</a> :coffee:</p>
<h2 id="thanks">Thanks</h2>
<p>Thanks to the awesome dudes at <a href="https://www.jetbrains.com/?from=Ansible-NAS">JetBrains</a> for supplying core contributors with JetBrains Open Source licenses!</p>
</div></div></div></article><footer><div class="container"><div class="row"><div class="column">Total Projects: 1313</div><div class="column">Built On: 06 May 2020</div><div class="column">Version: 1.1.0</div></div></div></footer><script src="/selfhosted-awesome-unlist/site.js"></script></body></html>